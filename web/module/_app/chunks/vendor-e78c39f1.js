var f1=Object.defineProperty,u1=Object.defineProperties;var d1=Object.getOwnPropertyDescriptors;var bu=Object.getOwnPropertySymbols;var l1=Object.prototype.hasOwnProperty,h1=Object.prototype.propertyIsEnumerable;var mu=(r,e,t)=>e in r?f1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gu=(r,e)=>{for(var t in e||(e={}))l1.call(e,t)&&mu(r,t,e[t]);if(bu)for(var t of bu(e))h1.call(e,t)&&mu(r,t,e[t]);return r},vu=(r,e)=>u1(r,d1(e));function x1(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function Fr(){}const yu=r=>r;function p1(r,e){for(const t in e)r[t]=e[t];return r}function Ay(r,e,t,n,i){r.__svelte_meta={loc:{file:e,line:t,column:n,char:i}}}function wu(r){return r()}function _u(){return Object.create(null)}function ai(r){r.forEach(wu)}function No(r){return typeof r=="function"}function b1(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Io;function ky(r,e){return Io||(Io=document.createElement("a")),Io.href=e,r===Io.href}function m1(r){return Object.keys(r).length===0}function Ty(r,e){if(r!=null&&typeof r.subscribe!="function")throw new Error(`'${e}' is not a store with a 'subscribe' method`)}function C0(r,...e){if(r==null)return Fr;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ny(r){let e;return C0(r,t=>e=t)(),e}function Iy(r,e,t){r.$$.on_destroy.push(C0(e,t))}function Cy(r,e,t,n){if(r){const i=Eu(r,e,t,n);return r[0](i)}}function Eu(r,e,t,n){return r[1]&&n?p1(t.ctx.slice(),r[1](n(e))):t.ctx}function My(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const a=[],o=Math.max(e.dirty.length,i.length);for(let s=0;s<o;s+=1)a[s]=e.dirty[s]|i[s];return a}return e.dirty|i}return e.dirty}function Oy(r,e,t,n,i,a){if(i){const o=Eu(e,t,n,a);r.p(o,i)}}function Ry(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Py(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Dy(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function Fy(r){return r==null?"":r}function By(r,e,t){return r.set(t),e}function Ly(r){return r&&No(r.destroy)?r.destroy:Fr}const Su=typeof window!="undefined";let g1=Su?()=>window.performance.now():()=>Date.now(),M0=Su?r=>requestAnimationFrame(r):Fr;const Oi=new Set;function Au(r){Oi.forEach(e=>{e.c(r)||(Oi.delete(e),e.f())}),Oi.size!==0&&M0(Au)}function v1(r){let e;return Oi.size===0&&M0(Au),{promise:new Promise(t=>{Oi.add(e={c:r,f:t})}),abort(){Oi.delete(e)}}}let Co=!1;function y1(){Co=!0}function w1(){Co=!1}function _1(r,e,t,n){for(;r<e;){const i=r+(e-r>>1);t(i)<=n?r=i+1:e=i}return r}function E1(r){if(r.hydrate_init)return;r.hydrate_init=!0;let e=r.childNodes;if(r.nodeName==="HEAD"){const c=[];for(let f=0;f<e.length;f++){const u=e[f];u.claim_order!==void 0&&c.push(u)}e=c}const t=new Int32Array(e.length+1),n=new Int32Array(e.length);t[0]=-1;let i=0;for(let c=0;c<e.length;c++){const f=e[c].claim_order,u=(i>0&&e[t[i]].claim_order<=f?i+1:_1(1,i,m=>e[t[m]].claim_order,f))-1;n[c]=t[u]+1;const l=u+1;t[l]=c,i=Math.max(l,i)}const a=[],o=[];let s=e.length-1;for(let c=t[i]+1;c!=0;c=n[c-1]){for(a.push(e[c-1]);s>=c;s--)o.push(e[s]);s--}for(;s>=0;s--)o.push(e[s]);a.reverse(),o.sort((c,f)=>c.claim_order-f.claim_order);for(let c=0,f=0;c<o.length;c++){for(;f<a.length&&o[c].claim_order>=a[f].claim_order;)f++;const u=f<a.length?a[f]:null;r.insertBefore(o[c],u)}}function S1(r,e){r.appendChild(e)}function ku(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function A1(r){const e=Iu("style");return k1(ku(r),e),e.sheet}function k1(r,e){S1(r.head||r,e)}function Tu(r,e){if(Co){for(E1(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;e!==r.actual_end_child?(e.claim_order!==void 0||e.parentNode!==r)&&r.insertBefore(e,r.actual_end_child):r.actual_end_child=e.nextSibling}else(e.parentNode!==r||e.nextSibling!==null)&&r.appendChild(e)}function T1(r,e,t){Co&&!t?Tu(r,e):(e.parentNode!==r||e.nextSibling!=t)&&r.insertBefore(e,t||null)}function Nu(r){r.parentNode.removeChild(r)}function Uy(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function Iu(r){return document.createElement(r)}function N1(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function O0(r){return document.createTextNode(r)}function $y(){return O0(" ")}function jy(){return O0("")}function I1(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Cu(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Hy(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const n in e)e[n]==null?r.removeAttribute(n):n==="style"?r.style.cssText=e[n]:n==="__value"?r.value=r[n]=e[n]:t[n]&&t[n].set?r[n]=e[n]:Cu(r,n,e[n])}function qy(r){return r===""?null:+r}function C1(r){return Array.from(r.childNodes)}function M1(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function Mu(r,e,t,n,i=!1){M1(r);const a=(()=>{for(let o=r.claim_info.last_index;o<r.length;o++){const s=r[o];if(e(s)){const c=t(s);return c===void 0?r.splice(o,1):r[o]=c,i||(r.claim_info.last_index=o),s}}for(let o=r.claim_info.last_index-1;o>=0;o--){const s=r[o];if(e(s)){const c=t(s);return c===void 0?r.splice(o,1):r[o]=c,i?c===void 0&&r.claim_info.last_index--:r.claim_info.last_index=o,s}}return n()})();return a.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,a}function Ou(r,e,t,n){return Mu(r,i=>i.nodeName===e,i=>{const a=[];for(let o=0;o<i.attributes.length;o++){const s=i.attributes[o];t[s.name]||a.push(s.name)}a.forEach(o=>i.removeAttribute(o))},()=>n(e))}function Gy(r,e,t){return Ou(r,e,t,Iu)}function zy(r,e,t){return Ou(r,e,t,N1)}function O1(r,e){return Mu(r,t=>t.nodeType===3,t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n},()=>O0(e),!0)}function Vy(r){return O1(r," ")}function Wy(r,e){r.value=e==null?"":e}function Ky(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Jy(r,e){for(let t=0;t<r.options.length;t+=1){const n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function Yy(r){const e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Xy(r,e,t){r.classList[t?"add":"remove"](e)}function R0(r,e,t=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(r,t,!1,e),n}function Zy(r,e=document.body){return Array.from(e.querySelectorAll(r))}const Mo=new Map;let Oo=0;function R1(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function P1(r,e){const t={stylesheet:A1(e),rules:{}};return Mo.set(r,t),t}function D1(r,e,t,n,i,a,o,s=0){const c=16.666/n;let f=`{
`;for(let y=0;y<=1;y+=c){const k=e+(t-e)*a(y);f+=y*100+`%{${o(k,1-k)}}
`}const u=f+`100% {${o(t,1-t)}}
}`,l=`__svelte_${R1(u)}_${s}`,m=ku(r),{stylesheet:v,rules:A}=Mo.get(m)||P1(m,r);A[l]||(A[l]=!0,v.insertRule(`@keyframes ${l} ${u}`,v.cssRules.length));const N=r.style.animation||"";return r.style.animation=`${N?`${N}, `:""}${l} ${n}ms linear ${i}ms 1 both`,Oo+=1,l}function F1(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),i=t.length-n.length;i&&(r.style.animation=n.join(", "),Oo-=i,Oo||B1())}function B1(){M0(()=>{Oo||(Mo.forEach(r=>{const{stylesheet:e}=r;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);r.rules={}}),Mo.clear())})}let ya;function wa(r){ya=r}function Ri(){if(!ya)throw new Error("Function called outside component initialization");return ya}function Qy(r){Ri().$$.on_mount.push(r)}function e7(r){Ri().$$.after_update.push(r)}function t7(r){Ri().$$.on_destroy.push(r)}function r7(){const r=Ri();return(e,t)=>{const n=r.$$.callbacks[e];if(n){const i=R0(e,t);n.slice().forEach(a=>{a.call(r,i)})}}}function n7(r,e){Ri().$$.context.set(r,e)}function i7(r){return Ri().$$.context.get(r)}function a7(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const _a=[],Ru=[],Ro=[],P0=[],L1=Promise.resolve();let D0=!1;function U1(){D0||(D0=!0,L1.then(Pu))}function Po(r){Ro.push(r)}function o7(r){P0.push(r)}const F0=new Set;let Do=0;function Pu(){const r=ya;do{for(;Do<_a.length;){const e=_a[Do];Do++,wa(e),$1(e.$$)}for(wa(null),_a.length=0,Do=0;Ru.length;)Ru.pop()();for(let e=0;e<Ro.length;e+=1){const t=Ro[e];F0.has(t)||(F0.add(t),t())}Ro.length=0}while(_a.length);for(;P0.length;)P0.pop()();D0=!1,F0.clear(),wa(r)}function $1(r){if(r.fragment!==null){r.update(),ai(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Po)}}let Ea;function j1(){return Ea||(Ea=Promise.resolve(),Ea.then(()=>{Ea=null})),Ea}function Du(r,e,t){r.dispatchEvent(R0(`${e?"intro":"outro"}${t}`))}const Fo=new Set;let Gn;function s7(){Gn={r:0,c:[],p:Gn}}function c7(){Gn.r||ai(Gn.c),Gn=Gn.p}function Fu(r,e){r&&r.i&&(Fo.delete(r),r.i(e))}function H1(r,e,t,n){if(r&&r.o){if(Fo.has(r))return;Fo.add(r),Gn.c.push(()=>{Fo.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}}const q1={duration:0};function f7(r,e,t){let n=e(r,t),i=!0,a;const o=Gn;o.r+=1;function s(){const{delay:c=0,duration:f=300,easing:u=yu,tick:l=Fr,css:m}=n||q1;m&&(a=D1(r,1,0,f,c,u,m));const v=g1()+c,A=v+f;Po(()=>Du(r,!1,"start")),v1(N=>{if(i){if(N>=A)return l(0,1),Du(r,!1,"end"),--o.r||ai(o.c),!1;if(N>=v){const y=u((N-v)/f);l(1-y,y)}}return i})}return No(n)?j1().then(()=>{n=n(),s()}):s(),{end(c){c&&n.tick&&n.tick(1,0),i&&(a&&F1(r,a),i=!1)}}}const u7=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function d7(r,e){r.d(1),e.delete(r.key)}function l7(r,e){H1(r,1,1,()=>{e.delete(r.key)})}function h7(r,e,t,n,i,a,o,s,c,f,u,l){let m=r.length,v=a.length,A=m;const N={};for(;A--;)N[r[A].key]=A;const y=[],k=new Map,M=new Map;for(A=v;A--;){const R=l(i,a,A),z=t(R);let V=o.get(z);V?n&&V.p(R,e):(V=f(z,R),V.c()),k.set(z,y[A]=V),z in N&&M.set(z,Math.abs(A-N[z]))}const U=new Set,E=new Set;function j(R){Fu(R,1),R.m(s,u),o.set(R.key,R),u=R.first,v--}for(;m&&v;){const R=y[v-1],z=r[m-1],V=R.key,te=z.key;R===z?(u=R.first,m--,v--):k.has(te)?!o.has(V)||U.has(V)?j(R):E.has(te)?m--:M.get(V)>M.get(te)?(E.add(V),j(R)):(U.add(te),m--):(c(z,o),m--)}for(;m--;){const R=r[m];k.has(R.key)||c(R,o)}for(;v;)j(y[v-1]);return y}function x7(r,e,t,n){const i=new Set;for(let a=0;a<e.length;a++){const o=n(t(r,e,a));if(i.has(o))throw new Error("Cannot have duplicate keys in a keyed each");i.add(o)}}function p7(r,e){const t={},n={},i={$$scope:1};let a=r.length;for(;a--;){const o=r[a],s=e[a];if(s){for(const c in o)c in s||(n[c]=1);for(const c in s)i[c]||(t[c]=s[c],i[c]=1);r[a]=s}else for(const c in o)i[c]=1}for(const o in n)o in t||(t[o]=void 0);return t}function b7(r){return typeof r=="object"&&r!==null?r:{}}function m7(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function g7(r){r&&r.c()}function v7(r,e){r&&r.l(e)}function G1(r,e,t,n){const{fragment:i,on_mount:a,on_destroy:o,after_update:s}=r.$$;i&&i.m(e,t),n||Po(()=>{const c=a.map(wu).filter(No);o?o.push(...c):ai(c),r.$$.on_mount=[]}),s.forEach(Po)}function z1(r,e){const t=r.$$;t.fragment!==null&&(ai(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function V1(r,e){r.$$.dirty[0]===-1&&(_a.push(r),U1(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function y7(r,e,t,n,i,a,o,s=[-1]){const c=ya;wa(r);const f=r.$$={fragment:null,ctx:null,props:a,update:Fr,not_equal:i,bound:_u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_u(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let u=!1;if(f.ctx=t?t(r,e.props||{},(l,m,...v)=>{const A=v.length?v[0]:m;return f.ctx&&i(f.ctx[l],f.ctx[l]=A)&&(!f.skip_bound&&f.bound[l]&&f.bound[l](A),u&&V1(r,l)),m}):[],f.update(),u=!0,ai(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){y1();const l=C1(e.target);f.fragment&&f.fragment.l(l),l.forEach(Nu)}else f.fragment&&f.fragment.c();e.intro&&Fu(r.$$.fragment),G1(r,e.target,e.anchor,e.customElement),w1(),Pu()}wa(c)}class W1{$destroy(){z1(this,1),this.$destroy=Fr}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!m1(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function An(r,e){document.dispatchEvent(R0(r,Object.assign({version:"3.46.2"},e),!0))}function w7(r,e){An("SvelteDOMInsert",{target:r,node:e}),Tu(r,e)}function _7(r,e,t){An("SvelteDOMInsert",{target:r,node:e,anchor:t}),T1(r,e,t)}function E7(r){An("SvelteDOMRemove",{node:r}),Nu(r)}function S7(r,e,t,n,i,a){const o=n===!0?["capture"]:n?Array.from(Object.keys(n)):[];i&&o.push("preventDefault"),a&&o.push("stopPropagation"),An("SvelteDOMAddEventListener",{node:r,event:e,handler:t,modifiers:o});const s=I1(r,e,t,n);return()=>{An("SvelteDOMRemoveEventListener",{node:r,event:e,handler:t,modifiers:o}),s()}}function A7(r,e,t){Cu(r,e,t),t==null?An("SvelteDOMRemoveAttribute",{node:r,attribute:e}):An("SvelteDOMSetAttribute",{node:r,attribute:e,value:t})}function k7(r,e,t){r[e]=t,An("SvelteDOMSetProperty",{node:r,property:e,value:t})}function T7(r,e){e=""+e,r.wholeText!==e&&(An("SvelteDOMSetData",{node:r,data:e}),r.data=e)}function N7(r){if(typeof r!="string"&&!(r&&typeof r=="object"&&"length"in r)){let e="{#each} only iterates over array-like objects.";throw typeof Symbol=="function"&&r&&Symbol.iterator in r&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function I7(r,e,t){for(const n of Object.keys(e))~t.indexOf(n)||console.warn(`<${r}> received an unexpected slot "${n}".`)}class C7 extends W1{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Pi=[];function K1(r,e){return{subscribe:J1(r,e).subscribe}}function J1(r,e=Fr){let t;const n=new Set;function i(s){if(b1(r,s)&&(r=s,t)){const c=!Pi.length;for(const f of n)f[1](),Pi.push(f,r);if(c){for(let f=0;f<Pi.length;f+=2)Pi[f][0](Pi[f+1]);Pi.length=0}}}function a(s){i(s(r))}function o(s,c=Fr){const f=[s,c];return n.add(f),n.size===1&&(t=e(i)||Fr),s(r),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:i,update:a,subscribe:o}}function M7(r,e,t){const n=!Array.isArray(r),i=n?[r]:r,a=e.length<2;return K1(t,o=>{let s=!1;const c=[];let f=0,u=Fr;const l=()=>{if(f)return;u();const v=e(n?c[0]:c,o);a?o(v):u=No(v)?v:Fr},m=i.map((v,A)=>C0(v,N=>{c[A]=N,f&=~(1<<A),s&&l()},()=>{f|=1<<A}));return s=!0,l(),function(){ai(m),u()}})}const kn=()=>{},Y1={assert:kn,error:kn,warn:kn,info:kn,log:kn,debug:kn,dir:kn,table:kn,trace:kn};typeof window!="undefined"&&(window.global=window);function Bo(r){return global._logFactory&&global._logFactory(r)||Y1}var B0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Bu={exports:{}};(function(r){(function(e,t){function n(I,d){if(!I)throw new Error(d||"Assertion failed")}function i(I,d){I.super_=d;var p=function(){};p.prototype=d.prototype,I.prototype=new p,I.prototype.constructor=I}function a(I,d,p){if(a.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(I||0,d||10,p||"be"))}typeof e=="object"?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=require("buffer").Buffer}catch{}a.isBN=function(d){return d instanceof a?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===a.wordSize&&Array.isArray(d.words)},a.max=function(d,p){return d.cmp(p)>0?d:p},a.min=function(d,p){return d.cmp(p)<0?d:p},a.prototype._init=function(d,p,g){if(typeof d=="number")return this._initNumber(d,p,g);if(typeof d=="object")return this._initArray(d,p,g);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var _=0;d[0]==="-"&&(_++,this.negative=1),_<d.length&&(p===16?this._parseHex(d,_,g):(this._parseBase(d,p,_),g==="le"&&this._initArray(this.toArray(),p,g)))},a.prototype._initNumber=function(d,p,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},a.prototype._initArray=function(d,p,g){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,O,F=0;if(g==="be")for(_=d.length-1,S=0;_>=0;_-=3)O=d[_]|d[_-1]<<8|d[_-2]<<16,this.words[S]|=O<<F&67108863,this.words[S+1]=O>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);else if(g==="le")for(_=0,S=0;_<d.length;_+=3)O=d[_]|d[_+1]<<8|d[_+2]<<16,this.words[S]|=O<<F&67108863,this.words[S+1]=O>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);return this.strip()};function s(I,d){var p=I.charCodeAt(d);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function c(I,d,p){var g=s(I,p);return p-1>=d&&(g|=s(I,p-1)<<4),g}a.prototype._parseHex=function(d,p,g){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,O=0,F;if(g==="be")for(_=d.length-1;_>=p;_-=2)F=c(d,p,_)<<S,this.words[O]|=F&67108863,S>=18?(S-=18,O+=1,this.words[O]|=F>>>26):S+=8;else{var T=d.length-p;for(_=T%2==0?p+1:p;_<d.length;_+=2)F=c(d,p,_)<<S,this.words[O]|=F&67108863,S>=18?(S-=18,O+=1,this.words[O]|=F>>>26):S+=8}this.strip()};function f(I,d,p,g){for(var _=0,S=Math.min(I.length,p),O=d;O<S;O++){var F=I.charCodeAt(O)-48;_*=g,F>=49?_+=F-49+10:F>=17?_+=F-17+10:_+=F}return _}a.prototype._parseBase=function(d,p,g){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=p)_++;_--,S=S/p|0;for(var O=d.length-g,F=O%_,T=Math.min(O,O-F)+g,h=0,b=g;b<T;b+=_)h=f(d,b,b+_,p),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(F!==0){var P=1;for(h=f(d,b,d.length,p),b=0;b<F;b++)P*=p;this.imuln(P),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},a.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red},a.prototype.clone=function(){var d=new a(null);return this.copy(d),d},a.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(d,p){d=d||10,p=p|0||1;var g;if(d===16||d==="hex"){g="";for(var _=0,S=0,O=0;O<this.length;O++){var F=this.words[O],T=((F<<_|S)&16777215).toString(16);S=F>>>24-_&16777215,S!==0||O!==this.length-1?g=u[6-T.length]+T+g:g=T+g,_+=2,_>=26&&(_-=26,O--)}for(S!==0&&(g=S.toString(16)+g);g.length%p!=0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var h=l[d],b=m[d];g="";var P=this.clone();for(P.negative=0;!P.isZero();){var H=P.modn(b).toString(d);P=P.idivn(b),P.isZero()?g=H+g:g=u[h-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%p!=0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(d,p){return n(typeof o!="undefined"),this.toArrayLike(o,d,p)},a.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)},a.prototype.toArrayLike=function(d,p,g){var _=this.byteLength(),S=g||Math.max(1,_);n(_<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=p==="le",F=new d(S),T,h,b=this.clone();if(O){for(h=0;!b.isZero();h++)T=b.andln(255),b.iushrn(8),F[h]=T;for(;h<S;h++)F[h]=0}else{for(h=0;h<S-_;h++)F[h]=0;for(h=0;!b.isZero();h++)T=b.andln(255),b.iushrn(8),F[S-h-1]=T}return F},Math.clz32?a.prototype._countBits=function(d){return 32-Math.clz32(d)}:a.prototype._countBits=function(d){var p=d,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},a.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,g=0;return(p&8191)==0&&(g+=13,p>>>=13),(p&127)==0&&(g+=7,p>>>=7),(p&15)==0&&(g+=4,p>>>=4),(p&3)==0&&(g+=2,p>>>=2),(p&1)==0&&g++,g},a.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function v(I){for(var d=new Array(I.bitLength()),p=0;p<d.length;p++){var g=p/26|0,_=p%26;d[p]=(I.words[g]&1<<_)>>>_}return d}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(d+=g,g!==26)break}return d},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},a.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this.strip()},a.prototype.ior=function(d){return n((this.negative|d.negative)==0),this.iuor(d)},a.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},a.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},a.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=p.length,this.strip()},a.prototype.iand=function(d){return n((this.negative|d.negative)==0),this.iuand(d)},a.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},a.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},a.prototype.iuxor=function(d){var p,g;this.length>d.length?(p=this,g=d):(p=d,g=this);for(var _=0;_<g.length;_++)this.words[_]=p.words[_]^g.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this.strip()},a.prototype.ixor=function(d){return n((this.negative|d.negative)==0),this.iuxor(d)},a.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},a.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},a.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,g=d%26;this._expand(p),g>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return g>0&&(this.words[_]=~this.words[_]&67108863>>26-g),this.strip()},a.prototype.notn=function(d){return this.clone().inotn(d)},a.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var g=d/26|0,_=d%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<_:this.words[g]=this.words[g]&~(1<<_),this.strip()},a.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var g,_;this.length>d.length?(g=this,_=d):(g=d,_=this);for(var S=0,O=0;O<_.length;O++)p=(g.words[O]|0)+(_.words[O]|0)+S,this.words[O]=p&67108863,S=p>>>26;for(;S!==0&&O<g.length;O++)p=(g.words[O]|0)+S,this.words[O]=p&67108863,S=p>>>26;if(this.length=g.length,S!==0)this.words[this.length]=S,this.length++;else if(g!==this)for(;O<g.length;O++)this.words[O]=g.words[O];return this},a.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},a.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;g>0?(_=this,S=d):(_=d,S=this);for(var O=0,F=0;F<S.length;F++)p=(_.words[F]|0)-(S.words[F]|0)+O,O=p>>26,this.words[F]=p&67108863;for(;O!==0&&F<_.length;F++)p=(_.words[F]|0)+O,O=p>>26,this.words[F]=p&67108863;if(O===0&&F<_.length&&_!==this)for(;F<_.length;F++)this.words[F]=_.words[F];return this.length=Math.max(this.length,F),_!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(d){return this.clone().isub(d)};function A(I,d,p){p.negative=d.negative^I.negative;var g=I.length+d.length|0;p.length=g,g=g-1|0;var _=I.words[0]|0,S=d.words[0]|0,O=_*S,F=O&67108863,T=O/67108864|0;p.words[0]=F;for(var h=1;h<g;h++){for(var b=T>>>26,P=T&67108863,H=Math.min(h,d.length-1),D=Math.max(0,h-I.length+1);D<=H;D++){var x=h-D|0;_=I.words[x]|0,S=d.words[D]|0,O=_*S+P,b+=O/67108864|0,P=O&67108863}p.words[h]=P|0,T=b|0}return T!==0?p.words[h]=T|0:p.length--,p.strip()}var N=function(d,p,g){var _=d.words,S=p.words,O=g.words,F=0,T,h,b,P=_[0]|0,H=P&8191,D=P>>>13,x=_[1]|0,B=x&8191,q=x>>>13,W=_[2]|0,J=W&8191,ee=W>>>13,ue=_[3]|0,ie=ue&8191,Se=ue>>>13,ge=_[4]|0,Ee=ge&8191,De=ge>>>13,jt=_[5]|0,$e=jt&8191,Ge=jt>>>13,cr=_[6]|0,je=cr&8191,Ke=cr>>>13,wr=_[7]|0,ze=wr&8191,rt=wr>>>13,_r=_[8]|0,nt=_r&8191,Qe=_r>>>13,Dr=_[9]|0,it=Dr&8191,Y=Dr>>>13,le=S[0]|0,re=le&8191,me=le>>>13,Ce=S[1]|0,ke=Ce&8191,Ne=Ce>>>13,Dt=S[2]|0,Pe=Dt&8191,Ve=Dt>>>13,tr=S[3]|0,w=tr&8191,C=tr>>>13,$=S[4]|0,G=$&8191,Q=$>>>13,Z=S[5]|0,se=Z&8191,ae=Z>>>13,Ae=S[6]|0,xe=Ae&8191,_e=Ae>>>13,Et=S[7]|0,Ie=Et&8191,et=Et>>>13,Mt=S[8]|0,Je=Mt&8191,Ye=Mt>>>13,fr=S[9]|0,at=fr&8191,ot=fr>>>13;g.negative=d.negative^p.negative,g.length=19,T=Math.imul(H,re),h=Math.imul(H,me),h=h+Math.imul(D,re)|0,b=Math.imul(D,me);var Qr=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,T=Math.imul(B,re),h=Math.imul(B,me),h=h+Math.imul(q,re)|0,b=Math.imul(q,me),T=T+Math.imul(H,ke)|0,h=h+Math.imul(H,Ne)|0,h=h+Math.imul(D,ke)|0,b=b+Math.imul(D,Ne)|0;var en=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(en>>>26)|0,en&=67108863,T=Math.imul(J,re),h=Math.imul(J,me),h=h+Math.imul(ee,re)|0,b=Math.imul(ee,me),T=T+Math.imul(B,ke)|0,h=h+Math.imul(B,Ne)|0,h=h+Math.imul(q,ke)|0,b=b+Math.imul(q,Ne)|0,T=T+Math.imul(H,Pe)|0,h=h+Math.imul(H,Ve)|0,h=h+Math.imul(D,Pe)|0,b=b+Math.imul(D,Ve)|0;var tn=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(tn>>>26)|0,tn&=67108863,T=Math.imul(ie,re),h=Math.imul(ie,me),h=h+Math.imul(Se,re)|0,b=Math.imul(Se,me),T=T+Math.imul(J,ke)|0,h=h+Math.imul(J,Ne)|0,h=h+Math.imul(ee,ke)|0,b=b+Math.imul(ee,Ne)|0,T=T+Math.imul(B,Pe)|0,h=h+Math.imul(B,Ve)|0,h=h+Math.imul(q,Pe)|0,b=b+Math.imul(q,Ve)|0,T=T+Math.imul(H,w)|0,h=h+Math.imul(H,C)|0,h=h+Math.imul(D,w)|0,b=b+Math.imul(D,C)|0;var rn=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(rn>>>26)|0,rn&=67108863,T=Math.imul(Ee,re),h=Math.imul(Ee,me),h=h+Math.imul(De,re)|0,b=Math.imul(De,me),T=T+Math.imul(ie,ke)|0,h=h+Math.imul(ie,Ne)|0,h=h+Math.imul(Se,ke)|0,b=b+Math.imul(Se,Ne)|0,T=T+Math.imul(J,Pe)|0,h=h+Math.imul(J,Ve)|0,h=h+Math.imul(ee,Pe)|0,b=b+Math.imul(ee,Ve)|0,T=T+Math.imul(B,w)|0,h=h+Math.imul(B,C)|0,h=h+Math.imul(q,w)|0,b=b+Math.imul(q,C)|0,T=T+Math.imul(H,G)|0,h=h+Math.imul(H,Q)|0,h=h+Math.imul(D,G)|0,b=b+Math.imul(D,Q)|0;var jn=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,T=Math.imul($e,re),h=Math.imul($e,me),h=h+Math.imul(Ge,re)|0,b=Math.imul(Ge,me),T=T+Math.imul(Ee,ke)|0,h=h+Math.imul(Ee,Ne)|0,h=h+Math.imul(De,ke)|0,b=b+Math.imul(De,Ne)|0,T=T+Math.imul(ie,Pe)|0,h=h+Math.imul(ie,Ve)|0,h=h+Math.imul(Se,Pe)|0,b=b+Math.imul(Se,Ve)|0,T=T+Math.imul(J,w)|0,h=h+Math.imul(J,C)|0,h=h+Math.imul(ee,w)|0,b=b+Math.imul(ee,C)|0,T=T+Math.imul(B,G)|0,h=h+Math.imul(B,Q)|0,h=h+Math.imul(q,G)|0,b=b+Math.imul(q,Q)|0,T=T+Math.imul(H,se)|0,h=h+Math.imul(H,ae)|0,h=h+Math.imul(D,se)|0,b=b+Math.imul(D,ae)|0;var Hn=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,T=Math.imul(je,re),h=Math.imul(je,me),h=h+Math.imul(Ke,re)|0,b=Math.imul(Ke,me),T=T+Math.imul($e,ke)|0,h=h+Math.imul($e,Ne)|0,h=h+Math.imul(Ge,ke)|0,b=b+Math.imul(Ge,Ne)|0,T=T+Math.imul(Ee,Pe)|0,h=h+Math.imul(Ee,Ve)|0,h=h+Math.imul(De,Pe)|0,b=b+Math.imul(De,Ve)|0,T=T+Math.imul(ie,w)|0,h=h+Math.imul(ie,C)|0,h=h+Math.imul(Se,w)|0,b=b+Math.imul(Se,C)|0,T=T+Math.imul(J,G)|0,h=h+Math.imul(J,Q)|0,h=h+Math.imul(ee,G)|0,b=b+Math.imul(ee,Q)|0,T=T+Math.imul(B,se)|0,h=h+Math.imul(B,ae)|0,h=h+Math.imul(q,se)|0,b=b+Math.imul(q,ae)|0,T=T+Math.imul(H,xe)|0,h=h+Math.imul(H,_e)|0,h=h+Math.imul(D,xe)|0,b=b+Math.imul(D,_e)|0;var qn=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(ze,re),h=Math.imul(ze,me),h=h+Math.imul(rt,re)|0,b=Math.imul(rt,me),T=T+Math.imul(je,ke)|0,h=h+Math.imul(je,Ne)|0,h=h+Math.imul(Ke,ke)|0,b=b+Math.imul(Ke,Ne)|0,T=T+Math.imul($e,Pe)|0,h=h+Math.imul($e,Ve)|0,h=h+Math.imul(Ge,Pe)|0,b=b+Math.imul(Ge,Ve)|0,T=T+Math.imul(Ee,w)|0,h=h+Math.imul(Ee,C)|0,h=h+Math.imul(De,w)|0,b=b+Math.imul(De,C)|0,T=T+Math.imul(ie,G)|0,h=h+Math.imul(ie,Q)|0,h=h+Math.imul(Se,G)|0,b=b+Math.imul(Se,Q)|0,T=T+Math.imul(J,se)|0,h=h+Math.imul(J,ae)|0,h=h+Math.imul(ee,se)|0,b=b+Math.imul(ee,ae)|0,T=T+Math.imul(B,xe)|0,h=h+Math.imul(B,_e)|0,h=h+Math.imul(q,xe)|0,b=b+Math.imul(q,_e)|0,T=T+Math.imul(H,Ie)|0,h=h+Math.imul(H,et)|0,h=h+Math.imul(D,Ie)|0,b=b+Math.imul(D,et)|0;var g0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(g0>>>26)|0,g0&=67108863,T=Math.imul(nt,re),h=Math.imul(nt,me),h=h+Math.imul(Qe,re)|0,b=Math.imul(Qe,me),T=T+Math.imul(ze,ke)|0,h=h+Math.imul(ze,Ne)|0,h=h+Math.imul(rt,ke)|0,b=b+Math.imul(rt,Ne)|0,T=T+Math.imul(je,Pe)|0,h=h+Math.imul(je,Ve)|0,h=h+Math.imul(Ke,Pe)|0,b=b+Math.imul(Ke,Ve)|0,T=T+Math.imul($e,w)|0,h=h+Math.imul($e,C)|0,h=h+Math.imul(Ge,w)|0,b=b+Math.imul(Ge,C)|0,T=T+Math.imul(Ee,G)|0,h=h+Math.imul(Ee,Q)|0,h=h+Math.imul(De,G)|0,b=b+Math.imul(De,Q)|0,T=T+Math.imul(ie,se)|0,h=h+Math.imul(ie,ae)|0,h=h+Math.imul(Se,se)|0,b=b+Math.imul(Se,ae)|0,T=T+Math.imul(J,xe)|0,h=h+Math.imul(J,_e)|0,h=h+Math.imul(ee,xe)|0,b=b+Math.imul(ee,_e)|0,T=T+Math.imul(B,Ie)|0,h=h+Math.imul(B,et)|0,h=h+Math.imul(q,Ie)|0,b=b+Math.imul(q,et)|0,T=T+Math.imul(H,Je)|0,h=h+Math.imul(H,Ye)|0,h=h+Math.imul(D,Je)|0,b=b+Math.imul(D,Ye)|0;var v0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(v0>>>26)|0,v0&=67108863,T=Math.imul(it,re),h=Math.imul(it,me),h=h+Math.imul(Y,re)|0,b=Math.imul(Y,me),T=T+Math.imul(nt,ke)|0,h=h+Math.imul(nt,Ne)|0,h=h+Math.imul(Qe,ke)|0,b=b+Math.imul(Qe,Ne)|0,T=T+Math.imul(ze,Pe)|0,h=h+Math.imul(ze,Ve)|0,h=h+Math.imul(rt,Pe)|0,b=b+Math.imul(rt,Ve)|0,T=T+Math.imul(je,w)|0,h=h+Math.imul(je,C)|0,h=h+Math.imul(Ke,w)|0,b=b+Math.imul(Ke,C)|0,T=T+Math.imul($e,G)|0,h=h+Math.imul($e,Q)|0,h=h+Math.imul(Ge,G)|0,b=b+Math.imul(Ge,Q)|0,T=T+Math.imul(Ee,se)|0,h=h+Math.imul(Ee,ae)|0,h=h+Math.imul(De,se)|0,b=b+Math.imul(De,ae)|0,T=T+Math.imul(ie,xe)|0,h=h+Math.imul(ie,_e)|0,h=h+Math.imul(Se,xe)|0,b=b+Math.imul(Se,_e)|0,T=T+Math.imul(J,Ie)|0,h=h+Math.imul(J,et)|0,h=h+Math.imul(ee,Ie)|0,b=b+Math.imul(ee,et)|0,T=T+Math.imul(B,Je)|0,h=h+Math.imul(B,Ye)|0,h=h+Math.imul(q,Je)|0,b=b+Math.imul(q,Ye)|0,T=T+Math.imul(H,at)|0,h=h+Math.imul(H,ot)|0,h=h+Math.imul(D,at)|0,b=b+Math.imul(D,ot)|0;var y0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(y0>>>26)|0,y0&=67108863,T=Math.imul(it,ke),h=Math.imul(it,Ne),h=h+Math.imul(Y,ke)|0,b=Math.imul(Y,Ne),T=T+Math.imul(nt,Pe)|0,h=h+Math.imul(nt,Ve)|0,h=h+Math.imul(Qe,Pe)|0,b=b+Math.imul(Qe,Ve)|0,T=T+Math.imul(ze,w)|0,h=h+Math.imul(ze,C)|0,h=h+Math.imul(rt,w)|0,b=b+Math.imul(rt,C)|0,T=T+Math.imul(je,G)|0,h=h+Math.imul(je,Q)|0,h=h+Math.imul(Ke,G)|0,b=b+Math.imul(Ke,Q)|0,T=T+Math.imul($e,se)|0,h=h+Math.imul($e,ae)|0,h=h+Math.imul(Ge,se)|0,b=b+Math.imul(Ge,ae)|0,T=T+Math.imul(Ee,xe)|0,h=h+Math.imul(Ee,_e)|0,h=h+Math.imul(De,xe)|0,b=b+Math.imul(De,_e)|0,T=T+Math.imul(ie,Ie)|0,h=h+Math.imul(ie,et)|0,h=h+Math.imul(Se,Ie)|0,b=b+Math.imul(Se,et)|0,T=T+Math.imul(J,Je)|0,h=h+Math.imul(J,Ye)|0,h=h+Math.imul(ee,Je)|0,b=b+Math.imul(ee,Ye)|0,T=T+Math.imul(B,at)|0,h=h+Math.imul(B,ot)|0,h=h+Math.imul(q,at)|0,b=b+Math.imul(q,ot)|0;var w0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(w0>>>26)|0,w0&=67108863,T=Math.imul(it,Pe),h=Math.imul(it,Ve),h=h+Math.imul(Y,Pe)|0,b=Math.imul(Y,Ve),T=T+Math.imul(nt,w)|0,h=h+Math.imul(nt,C)|0,h=h+Math.imul(Qe,w)|0,b=b+Math.imul(Qe,C)|0,T=T+Math.imul(ze,G)|0,h=h+Math.imul(ze,Q)|0,h=h+Math.imul(rt,G)|0,b=b+Math.imul(rt,Q)|0,T=T+Math.imul(je,se)|0,h=h+Math.imul(je,ae)|0,h=h+Math.imul(Ke,se)|0,b=b+Math.imul(Ke,ae)|0,T=T+Math.imul($e,xe)|0,h=h+Math.imul($e,_e)|0,h=h+Math.imul(Ge,xe)|0,b=b+Math.imul(Ge,_e)|0,T=T+Math.imul(Ee,Ie)|0,h=h+Math.imul(Ee,et)|0,h=h+Math.imul(De,Ie)|0,b=b+Math.imul(De,et)|0,T=T+Math.imul(ie,Je)|0,h=h+Math.imul(ie,Ye)|0,h=h+Math.imul(Se,Je)|0,b=b+Math.imul(Se,Ye)|0,T=T+Math.imul(J,at)|0,h=h+Math.imul(J,ot)|0,h=h+Math.imul(ee,at)|0,b=b+Math.imul(ee,ot)|0;var _0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(_0>>>26)|0,_0&=67108863,T=Math.imul(it,w),h=Math.imul(it,C),h=h+Math.imul(Y,w)|0,b=Math.imul(Y,C),T=T+Math.imul(nt,G)|0,h=h+Math.imul(nt,Q)|0,h=h+Math.imul(Qe,G)|0,b=b+Math.imul(Qe,Q)|0,T=T+Math.imul(ze,se)|0,h=h+Math.imul(ze,ae)|0,h=h+Math.imul(rt,se)|0,b=b+Math.imul(rt,ae)|0,T=T+Math.imul(je,xe)|0,h=h+Math.imul(je,_e)|0,h=h+Math.imul(Ke,xe)|0,b=b+Math.imul(Ke,_e)|0,T=T+Math.imul($e,Ie)|0,h=h+Math.imul($e,et)|0,h=h+Math.imul(Ge,Ie)|0,b=b+Math.imul(Ge,et)|0,T=T+Math.imul(Ee,Je)|0,h=h+Math.imul(Ee,Ye)|0,h=h+Math.imul(De,Je)|0,b=b+Math.imul(De,Ye)|0,T=T+Math.imul(ie,at)|0,h=h+Math.imul(ie,ot)|0,h=h+Math.imul(Se,at)|0,b=b+Math.imul(Se,ot)|0;var E0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(E0>>>26)|0,E0&=67108863,T=Math.imul(it,G),h=Math.imul(it,Q),h=h+Math.imul(Y,G)|0,b=Math.imul(Y,Q),T=T+Math.imul(nt,se)|0,h=h+Math.imul(nt,ae)|0,h=h+Math.imul(Qe,se)|0,b=b+Math.imul(Qe,ae)|0,T=T+Math.imul(ze,xe)|0,h=h+Math.imul(ze,_e)|0,h=h+Math.imul(rt,xe)|0,b=b+Math.imul(rt,_e)|0,T=T+Math.imul(je,Ie)|0,h=h+Math.imul(je,et)|0,h=h+Math.imul(Ke,Ie)|0,b=b+Math.imul(Ke,et)|0,T=T+Math.imul($e,Je)|0,h=h+Math.imul($e,Ye)|0,h=h+Math.imul(Ge,Je)|0,b=b+Math.imul(Ge,Ye)|0,T=T+Math.imul(Ee,at)|0,h=h+Math.imul(Ee,ot)|0,h=h+Math.imul(De,at)|0,b=b+Math.imul(De,ot)|0;var S0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(S0>>>26)|0,S0&=67108863,T=Math.imul(it,se),h=Math.imul(it,ae),h=h+Math.imul(Y,se)|0,b=Math.imul(Y,ae),T=T+Math.imul(nt,xe)|0,h=h+Math.imul(nt,_e)|0,h=h+Math.imul(Qe,xe)|0,b=b+Math.imul(Qe,_e)|0,T=T+Math.imul(ze,Ie)|0,h=h+Math.imul(ze,et)|0,h=h+Math.imul(rt,Ie)|0,b=b+Math.imul(rt,et)|0,T=T+Math.imul(je,Je)|0,h=h+Math.imul(je,Ye)|0,h=h+Math.imul(Ke,Je)|0,b=b+Math.imul(Ke,Ye)|0,T=T+Math.imul($e,at)|0,h=h+Math.imul($e,ot)|0,h=h+Math.imul(Ge,at)|0,b=b+Math.imul(Ge,ot)|0;var A0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(A0>>>26)|0,A0&=67108863,T=Math.imul(it,xe),h=Math.imul(it,_e),h=h+Math.imul(Y,xe)|0,b=Math.imul(Y,_e),T=T+Math.imul(nt,Ie)|0,h=h+Math.imul(nt,et)|0,h=h+Math.imul(Qe,Ie)|0,b=b+Math.imul(Qe,et)|0,T=T+Math.imul(ze,Je)|0,h=h+Math.imul(ze,Ye)|0,h=h+Math.imul(rt,Je)|0,b=b+Math.imul(rt,Ye)|0,T=T+Math.imul(je,at)|0,h=h+Math.imul(je,ot)|0,h=h+Math.imul(Ke,at)|0,b=b+Math.imul(Ke,ot)|0;var k0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(k0>>>26)|0,k0&=67108863,T=Math.imul(it,Ie),h=Math.imul(it,et),h=h+Math.imul(Y,Ie)|0,b=Math.imul(Y,et),T=T+Math.imul(nt,Je)|0,h=h+Math.imul(nt,Ye)|0,h=h+Math.imul(Qe,Je)|0,b=b+Math.imul(Qe,Ye)|0,T=T+Math.imul(ze,at)|0,h=h+Math.imul(ze,ot)|0,h=h+Math.imul(rt,at)|0,b=b+Math.imul(rt,ot)|0;var T0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(T0>>>26)|0,T0&=67108863,T=Math.imul(it,Je),h=Math.imul(it,Ye),h=h+Math.imul(Y,Je)|0,b=Math.imul(Y,Ye),T=T+Math.imul(nt,at)|0,h=h+Math.imul(nt,ot)|0,h=h+Math.imul(Qe,at)|0,b=b+Math.imul(Qe,ot)|0;var N0=(F+T|0)+((h&8191)<<13)|0;F=(b+(h>>>13)|0)+(N0>>>26)|0,N0&=67108863,T=Math.imul(it,at),h=Math.imul(it,ot),h=h+Math.imul(Y,at)|0,b=Math.imul(Y,ot);var I0=(F+T|0)+((h&8191)<<13)|0;return F=(b+(h>>>13)|0)+(I0>>>26)|0,I0&=67108863,O[0]=Qr,O[1]=en,O[2]=tn,O[3]=rn,O[4]=jn,O[5]=Hn,O[6]=qn,O[7]=g0,O[8]=v0,O[9]=y0,O[10]=w0,O[11]=_0,O[12]=E0,O[13]=S0,O[14]=A0,O[15]=k0,O[16]=T0,O[17]=N0,O[18]=I0,F!==0&&(O[19]=F,g.length++),g};Math.imul||(N=A);function y(I,d,p){p.negative=d.negative^I.negative,p.length=I.length+d.length;for(var g=0,_=0,S=0;S<p.length-1;S++){var O=_;_=0;for(var F=g&67108863,T=Math.min(S,d.length-1),h=Math.max(0,S-I.length+1);h<=T;h++){var b=S-h,P=I.words[b]|0,H=d.words[h]|0,D=P*H,x=D&67108863;O=O+(D/67108864|0)|0,x=x+F|0,F=x&67108863,O=O+(x>>>26)|0,_+=O>>>26,O&=67108863}p.words[S]=F,g=O,O=_}return g!==0?p.words[S]=g:p.length--,p.strip()}function k(I,d,p){var g=new M;return g.mulp(I,d,p)}a.prototype.mulTo=function(d,p){var g,_=this.length+d.length;return this.length===10&&d.length===10?g=N(this,d,p):_<63?g=A(this,d,p):_<1024?g=y(this,d,p):g=k(this,d,p),g};function M(I,d){this.x=I,this.y=d}M.prototype.makeRBT=function(d){for(var p=new Array(d),g=a.prototype._countBits(d)-1,_=0;_<d;_++)p[_]=this.revBin(_,g,d);return p},M.prototype.revBin=function(d,p,g){if(d===0||d===g-1)return d;for(var _=0,S=0;S<p;S++)_|=(d&1)<<p-S-1,d>>=1;return _},M.prototype.permute=function(d,p,g,_,S,O){for(var F=0;F<O;F++)_[F]=p[d[F]],S[F]=g[d[F]]},M.prototype.transform=function(d,p,g,_,S,O){this.permute(O,d,p,g,_,S);for(var F=1;F<S;F<<=1)for(var T=F<<1,h=Math.cos(2*Math.PI/T),b=Math.sin(2*Math.PI/T),P=0;P<S;P+=T)for(var H=h,D=b,x=0;x<F;x++){var B=g[P+x],q=_[P+x],W=g[P+x+F],J=_[P+x+F],ee=H*W-D*J;J=H*J+D*W,W=ee,g[P+x]=B+W,_[P+x]=q+J,g[P+x+F]=B-W,_[P+x+F]=q-J,x!==T&&(ee=h*H-b*D,D=h*D+b*H,H=ee)}},M.prototype.guessLen13b=function(d,p){var g=Math.max(p,d)|1,_=g&1,S=0;for(g=g/2|0;g;g=g>>>1)S++;return 1<<S+1+_},M.prototype.conjugate=function(d,p,g){if(!(g<=1))for(var _=0;_<g/2;_++){var S=d[_];d[_]=d[g-_-1],d[g-_-1]=S,S=p[_],p[_]=-p[g-_-1],p[g-_-1]=-S}},M.prototype.normalize13b=function(d,p){for(var g=0,_=0;_<p/2;_++){var S=Math.round(d[2*_+1]/p)*8192+Math.round(d[2*_]/p)+g;d[_]=S&67108863,S<67108864?g=0:g=S/67108864|0}return d},M.prototype.convert13b=function(d,p,g,_){for(var S=0,O=0;O<p;O++)S=S+(d[O]|0),g[2*O]=S&8191,S=S>>>13,g[2*O+1]=S&8191,S=S>>>13;for(O=2*p;O<_;++O)g[O]=0;n(S===0),n((S&~8191)==0)},M.prototype.stub=function(d){for(var p=new Array(d),g=0;g<d;g++)p[g]=0;return p},M.prototype.mulp=function(d,p,g){var _=2*this.guessLen13b(d.length,p.length),S=this.makeRBT(_),O=this.stub(_),F=new Array(_),T=new Array(_),h=new Array(_),b=new Array(_),P=new Array(_),H=new Array(_),D=g.words;D.length=_,this.convert13b(d.words,d.length,F,_),this.convert13b(p.words,p.length,b,_),this.transform(F,O,T,h,_,S),this.transform(b,O,P,H,_,S);for(var x=0;x<_;x++){var B=T[x]*P[x]-h[x]*H[x];h[x]=T[x]*H[x]+h[x]*P[x],T[x]=B}return this.conjugate(T,h,_),this.transform(T,h,D,O,_,S),this.conjugate(D,O,_),this.normalize13b(D,_),g.negative=d.negative^p.negative,g.length=d.length+p.length,g.strip()},a.prototype.mul=function(d){var p=new a(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},a.prototype.mulf=function(d){var p=new a(null);return p.words=new Array(this.length+d.length),k(this,d,p)},a.prototype.imul=function(d){return this.clone().mulTo(d,this)},a.prototype.imuln=function(d){n(typeof d=="number"),n(d<67108864);for(var p=0,g=0;g<this.length;g++){var _=(this.words[g]|0)*d,S=(_&67108863)+(p&67108863);p>>=26,p+=_/67108864|0,p+=S>>>26,this.words[g]=S&67108863}return p!==0&&(this.words[g]=p,this.length++),this},a.prototype.muln=function(d){return this.clone().imuln(d)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(d){var p=v(d);if(p.length===0)return new a(1);for(var g=this,_=0;_<p.length&&p[_]===0;_++,g=g.sqr());if(++_<p.length)for(var S=g.sqr();_<p.length;_++,S=S.sqr())p[_]!==0&&(g=g.mul(S));return g},a.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p=d%26,g=(d-p)/26,_=67108863>>>26-p<<26-p,S;if(p!==0){var O=0;for(S=0;S<this.length;S++){var F=this.words[S]&_,T=(this.words[S]|0)-F<<p;this.words[S]=T|O,O=F>>>26-p}O&&(this.words[S]=O,this.length++)}if(g!==0){for(S=this.length-1;S>=0;S--)this.words[S+g]=this.words[S];for(S=0;S<g;S++)this.words[S]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},a.prototype.iushrn=function(d,p,g){n(typeof d=="number"&&d>=0);var _;p?_=(p-p%26)/26:_=0;var S=d%26,O=Math.min((d-S)/26,this.length),F=67108863^67108863>>>S<<S,T=g;if(_-=O,_=Math.max(0,_),T){for(var h=0;h<O;h++)T.words[h]=this.words[h];T.length=O}if(O!==0)if(this.length>O)for(this.length-=O,h=0;h<this.length;h++)this.words[h]=this.words[h+O];else this.words[0]=0,this.length=1;var b=0;for(h=this.length-1;h>=0&&(b!==0||h>=_);h--){var P=this.words[h]|0;this.words[h]=b<<26-S|P>>>S,b=P&F}return T&&b!==0&&(T.words[T.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(d,p,g){return n(this.negative===0),this.iushrn(d,p,g)},a.prototype.shln=function(d){return this.clone().ishln(d)},a.prototype.ushln=function(d){return this.clone().iushln(d)},a.prototype.shrn=function(d){return this.clone().ishrn(d)},a.prototype.ushrn=function(d){return this.clone().iushrn(d)},a.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,g=(d-p)/26,_=1<<p;if(this.length<=g)return!1;var S=this.words[g];return!!(S&_)},a.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,g=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(d){return this.clone().imaskn(d)},a.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},a.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(d){return this.clone().iaddn(d)},a.prototype.subn=function(d){return this.clone().isubn(d)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(d,p,g){var _=d.length+g,S;this._expand(_);var O,F=0;for(S=0;S<d.length;S++){O=(this.words[S+g]|0)+F;var T=(d.words[S]|0)*p;O-=T&67108863,F=(O>>26)-(T/67108864|0),this.words[S+g]=O&67108863}for(;S<this.length-g;S++)O=(this.words[S+g]|0)+F,F=O>>26,this.words[S+g]=O&67108863;if(F===0)return this.strip();for(n(F===-1),F=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+F,F=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(d,p){var g=this.length-d.length,_=this.clone(),S=d,O=S.words[S.length-1]|0,F=this._countBits(O);g=26-F,g!==0&&(S=S.ushln(g),_.iushln(g),O=S.words[S.length-1]|0);var T=_.length-S.length,h;if(p!=="mod"){h=new a(null),h.length=T+1,h.words=new Array(h.length);for(var b=0;b<h.length;b++)h.words[b]=0}var P=_.clone()._ishlnsubmul(S,1,T);P.negative===0&&(_=P,h&&(h.words[T]=1));for(var H=T-1;H>=0;H--){var D=(_.words[S.length+H]|0)*67108864+(_.words[S.length+H-1]|0);for(D=Math.min(D/O|0,67108863),_._ishlnsubmul(S,D,H);_.negative!==0;)D--,_.negative=0,_._ishlnsubmul(S,1,H),_.isZero()||(_.negative^=1);h&&(h.words[H]=D)}return h&&h.strip(),_.strip(),p!=="div"&&g!==0&&_.iushrn(g),{div:h||null,mod:_}},a.prototype.divmod=function(d,p,g){if(n(!d.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var _,S,O;return this.negative!==0&&d.negative===0?(O=this.neg().divmod(d,p),p!=="mod"&&(_=O.div.neg()),p!=="div"&&(S=O.mod.neg(),g&&S.negative!==0&&S.iadd(d)),{div:_,mod:S}):this.negative===0&&d.negative!==0?(O=this.divmod(d.neg(),p),p!=="mod"&&(_=O.div.neg()),{div:_,mod:O.mod}):(this.negative&d.negative)!=0?(O=this.neg().divmod(d.neg(),p),p!=="div"&&(S=O.mod.neg(),g&&S.negative!==0&&S.isub(d)),{div:O.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new a(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new a(this.modn(d.words[0]))}:this._wordDiv(d,p)},a.prototype.div=function(d){return this.divmod(d,"div",!1).div},a.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},a.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},a.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(d):p.mod,_=d.ushrn(1),S=d.andln(1),O=g.cmp(_);return O<0||S===1&&O===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(d){n(d<=67108863);for(var p=(1<<26)%d,g=0,_=this.length-1;_>=0;_--)g=(p*g+(this.words[_]|0))%d;return g},a.prototype.idivn=function(d){n(d<=67108863);for(var p=0,g=this.length-1;g>=0;g--){var _=(this.words[g]|0)+p*67108864;this.words[g]=_/d|0,p=_%d}return this.strip()},a.prototype.divn=function(d){return this.clone().idivn(d)},a.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,g=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var _=new a(1),S=new a(0),O=new a(0),F=new a(1),T=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++T;for(var h=g.clone(),b=p.clone();!p.isZero();){for(var P=0,H=1;(p.words[0]&H)==0&&P<26;++P,H<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(h),S.isub(b)),_.iushrn(1),S.iushrn(1);for(var D=0,x=1;(g.words[0]&x)==0&&D<26;++D,x<<=1);if(D>0)for(g.iushrn(D);D-- >0;)(O.isOdd()||F.isOdd())&&(O.iadd(h),F.isub(b)),O.iushrn(1),F.iushrn(1);p.cmp(g)>=0?(p.isub(g),_.isub(O),S.isub(F)):(g.isub(p),O.isub(_),F.isub(S))}return{a:O,b:F,gcd:g.iushln(T)}},a.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,g=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var _=new a(1),S=new a(0),O=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var F=0,T=1;(p.words[0]&T)==0&&F<26;++F,T<<=1);if(F>0)for(p.iushrn(F);F-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var h=0,b=1;(g.words[0]&b)==0&&h<26;++h,b<<=1);if(h>0)for(g.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);p.cmp(g)>=0?(p.isub(g),_.isub(S)):(g.isub(p),S.isub(_))}var P;return p.cmpn(1)===0?P=_:P=S,P.cmpn(0)<0&&P.iadd(d),P},a.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),g=d.clone();p.negative=0,g.negative=0;for(var _=0;p.isEven()&&g.isEven();_++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var S=p.cmp(g);if(S<0){var O=p;p=g,g=O}else if(S===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(_)},a.prototype.invm=function(d){return this.egcd(d).a.umod(d)},a.prototype.isEven=function(){return(this.words[0]&1)==0},a.prototype.isOdd=function(){return(this.words[0]&1)==1},a.prototype.andln=function(d){return this.words[0]&d},a.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,g=(d-p)/26,_=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=_,this;for(var S=_,O=g;S!==0&&O<this.length;O++){var F=this.words[O]|0;F+=S,S=F>>>26,F&=67108863,this.words[O]=F}return S!==0&&(this.words[O]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var g;if(this.length>1)g=1;else{p&&(d=-d),n(d<=67108863,"Number is too big");var _=this.words[0]|0;g=_===d?0:_<d?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var _=this.words[g]|0,S=d.words[g]|0;if(_!==S){_<S?p=-1:_>S&&(p=1);break}}return p},a.prototype.gtn=function(d){return this.cmpn(d)===1},a.prototype.gt=function(d){return this.cmp(d)===1},a.prototype.gten=function(d){return this.cmpn(d)>=0},a.prototype.gte=function(d){return this.cmp(d)>=0},a.prototype.ltn=function(d){return this.cmpn(d)===-1},a.prototype.lt=function(d){return this.cmp(d)===-1},a.prototype.lten=function(d){return this.cmpn(d)<=0},a.prototype.lte=function(d){return this.cmp(d)<=0},a.prototype.eqn=function(d){return this.cmpn(d)===0},a.prototype.eq=function(d){return this.cmp(d)===0},a.red=function(d){return new te(d)},a.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(d){return this.red=d,this},a.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},a.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},a.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},a.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},a.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},a.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},a.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},a.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var U={k256:null,p224:null,p192:null,p25519:null};function E(I,d){this.name=I,this.p=new a(d,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var d=new a(null);return d.words=new Array(Math.ceil(this.n/13)),d},E.prototype.ireduce=function(d){var p=d,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var _=g<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},E.prototype.split=function(d,p){d.iushrn(this.n,0,p)},E.prototype.imulK=function(d){return d.imul(this.k)};function j(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,E),j.prototype.split=function(d,p){for(var g=4194303,_=Math.min(d.length,9),S=0;S<_;S++)p.words[S]=d.words[S];if(p.length=_,d.length<=9){d.words[0]=0,d.length=1;return}var O=d.words[9];for(p.words[p.length++]=O&g,S=10;S<d.length;S++){var F=d.words[S]|0;d.words[S-10]=(F&g)<<4|O>>>22,O=F}O>>>=22,d.words[S-10]=O,O===0&&d.length>10?d.length-=10:d.length-=9},j.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,g=0;g<d.length;g++){var _=d.words[g]|0;p+=_*977,d.words[g]=p&67108863,p=_*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function R(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,E);function z(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,E);function V(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(V,E),V.prototype.imulK=function(d){for(var p=0,g=0;g<d.length;g++){var _=(d.words[g]|0)*19+p,S=_&67108863;_>>>=26,d.words[g]=S,p=_}return p!==0&&(d.words[d.length++]=p),d},a._prime=function(d){if(U[d])return U[d];var p;if(d==="k256")p=new j;else if(d==="p224")p=new R;else if(d==="p192")p=new z;else if(d==="p25519")p=new V;else throw new Error("Unknown prime "+d);return U[d]=p,p};function te(I){if(typeof I=="string"){var d=a._prime(I);this.m=d.p,this.prime=d}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}te.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},te.prototype._verify2=function(d,p){n((d.negative|p.negative)==0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},te.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},te.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},te.prototype.add=function(d,p){this._verify2(d,p);var g=d.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},te.prototype.iadd=function(d,p){this._verify2(d,p);var g=d.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},te.prototype.sub=function(d,p){this._verify2(d,p);var g=d.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},te.prototype.isub=function(d,p){this._verify2(d,p);var g=d.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},te.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},te.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},te.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},te.prototype.isqr=function(d){return this.imul(d,d.clone())},te.prototype.sqr=function(d){return this.mul(d,d)},te.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2==1),p===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(d,g)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);n(!_.isZero());var O=new a(1).toRed(this),F=O.redNeg(),T=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,T).cmp(F)!==0;)h.redIAdd(F);for(var b=this.pow(h,_),P=this.pow(d,_.addn(1).iushrn(1)),H=this.pow(d,_),D=S;H.cmp(O)!==0;){for(var x=H,B=0;x.cmp(O)!==0;B++)x=x.redSqr();n(B<D);var q=this.pow(b,new a(1).iushln(D-B-1));P=P.redMul(q),b=q.redSqr(),H=H.redMul(b),D=B}return P},te.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},te.prototype.pow=function(d,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var g=4,_=new Array(1<<g);_[0]=new a(1).toRed(this),_[1]=d;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],d);var O=_[0],F=0,T=0,h=p.bitLength()%26;for(h===0&&(h=26),S=p.length-1;S>=0;S--){for(var b=p.words[S],P=h-1;P>=0;P--){var H=b>>P&1;if(O!==_[0]&&(O=this.sqr(O)),H===0&&F===0){T=0;continue}F<<=1,F|=H,T++,!(T!==g&&(S!==0||P!==0))&&(O=this.mul(O,_[F]),T=0,F=0)}h=26}return O},te.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},te.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},a.mont=function(d){return new be(d)};function be(I){te.call(this,I),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(be,te),be.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},be.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},be.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(p),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(_).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},be.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new a(0)._forceRed(this);var g=d.mul(p),_=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(_).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},be.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,B0)})(Bu);var Te=Bu.exports;const X1="logger/5.6.0";let Lu=!1,Uu=!1;const Lo={debug:1,default:2,info:2,warning:3,error:4,off:5};let $u=Lo.default,L0=null;function Z1(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const ju=Z1();var U0;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(U0||(U0={}));var Br;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(Br||(Br={}));const Hu="0123456789abcdef";class Oe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Lo[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!($u>Lo[n])&&console.log.apply(console,t)}debug(...e){this._log(Oe.levels.DEBUG,e)}info(...e){this._log(Oe.levels.INFO,e)}warn(...e){this._log(Oe.levels.WARNING,e)}makeError(e,t,n){if(Uu)return this.makeError("censored error",t,{});t||(t=Oe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let u="";for(let l=0;l<f.length;l++)u+=Hu[f[l]>>4],u+=Hu[f[l]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const a=e;let o="";switch(t){case Br.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Br.CALL_EXCEPTION:case Br.INSUFFICIENT_FUNDS:case Br.MISSING_NEW:case Br.NONCE_EXPIRED:case Br.REPLACEMENT_UNDERPRICED:case Br.TRANSACTION_REPLACED:case Br.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const s=new Error(e);return s.reason=a,s.code=t,Object.keys(n).forEach(function(c){s[c]=n[c]}),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Oe.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){ju&&this.throwError("platform missing String.prototype.normalize",Oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ju})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Oe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Oe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Oe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Oe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Oe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return L0||(L0=new Oe(X1)),L0}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Lu){if(!e)return;this.globalLogger().throwError("error censorship permanent",Oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Uu=!!e,Lu=!!t}static setLogLevel(e){const t=Lo[e.toLowerCase()];if(t==null){Oe.globalLogger().warn("invalid log level - "+e);return}$u=t}static from(e){return new Oe(e)}}Oe.errors=Br;Oe.levels=U0;const Q1="bytes/5.6.0",Di=new Oe(Q1);function qu(r){return!!r.toHexString}function Uo(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Uo(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function eb(r){return Aa(r)&&!(r.length%2)||$o(r)}function Gu(r){return typeof r=="number"&&r==r&&r%1==0}function $o(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Gu(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Gu(t)||t<0||t>=256)return!1}return!0}function Sa(r,e){if(e||(e={}),typeof r=="number"){Di.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Uo(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qu(r)&&(r=r.toHexString()),Aa(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Di.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Uo(new Uint8Array(n))}return $o(r)?Uo(new Uint8Array(r)):Di.throwArgumentError("invalid arrayify value","value",r)}function Aa(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const $0="0123456789abcdef";function zu(r,e){if(e||(e={}),typeof r=="number"){Di.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=$0[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qu(r))return r.toHexString();if(Aa(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Di.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if($o(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=$0[(i&240)>>4]+$0[i&15]}return t}return Di.throwArgumentError("invalid hexlify value","value",r)}const tb="bignumber/5.6.0";var j0=Te.BN;const nn=new Oe(tb),H0={},Vu=9007199254740991;let Wu=!1;class Jt{constructor(e,t){nn.checkNew(new.target,Jt),e!==H0&&nn.throwError("cannot call constructor directly; use BigNumber.from",Oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return rr(Fe(this).fromTwos(e))}toTwos(e){return rr(Fe(this).toTwos(e))}abs(){return this._hex[0]==="-"?Jt.from(this._hex.substring(1)):this}add(e){return rr(Fe(this).add(Fe(e)))}sub(e){return rr(Fe(this).sub(Fe(e)))}div(e){return Jt.from(e).isZero()&&Er("division-by-zero","div"),rr(Fe(this).div(Fe(e)))}mul(e){return rr(Fe(this).mul(Fe(e)))}mod(e){const t=Fe(e);return t.isNeg()&&Er("division-by-zero","mod"),rr(Fe(this).umod(t))}pow(e){const t=Fe(e);return t.isNeg()&&Er("negative-power","pow"),rr(Fe(this).pow(t))}and(e){const t=Fe(e);return(this.isNegative()||t.isNeg())&&Er("unbound-bitwise-result","and"),rr(Fe(this).and(t))}or(e){const t=Fe(e);return(this.isNegative()||t.isNeg())&&Er("unbound-bitwise-result","or"),rr(Fe(this).or(t))}xor(e){const t=Fe(e);return(this.isNegative()||t.isNeg())&&Er("unbound-bitwise-result","xor"),rr(Fe(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Er("negative-width","mask"),rr(Fe(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Er("negative-width","shl"),rr(Fe(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Er("negative-width","shr"),rr(Fe(this).shrn(e))}eq(e){return Fe(this).eq(Fe(e))}lt(e){return Fe(this).lt(Fe(e))}lte(e){return Fe(this).lte(Fe(e))}gt(e){return Fe(this).gt(Fe(e))}gte(e){return Fe(this).gte(Fe(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Fe(this).isZero()}toNumber(){try{return Fe(this).toNumber()}catch{Er("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return nn.throwError("this platform does not support BigInt",Oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Wu||(Wu=!0,nn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?nn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Oe.errors.UNEXPECTED_ARGUMENT,{}):nn.throwError("BigNumber.toString does not accept parameters",Oe.errors.UNEXPECTED_ARGUMENT,{})),Fe(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Jt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Jt(H0,ka(e)):e.match(/^-?[0-9]+$/)?new Jt(H0,ka(new j0(e))):nn.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Er("underflow","BigNumber.from",e),(e>=Vu||e<=-Vu)&&Er("overflow","BigNumber.from",e),Jt.from(String(e));const t=e;if(typeof t=="bigint")return Jt.from(t.toString());if($o(t))return Jt.from(zu(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return Jt.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Aa(n)||n[0]==="-"&&Aa(n.substring(1))))return Jt.from(n)}return nn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ka(r){if(typeof r!="string")return ka(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&nn.throwArgumentError("invalid hex","value",r),r=ka(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function rr(r){return Jt.from(ka(r))}function Fe(r){const e=Jt.from(r).toHexString();return e[0]==="-"?new j0("-"+e.substring(3),16):new j0(e.substring(2),16)}function Er(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),nn.throwError(r,Oe.errors.NUMERIC_FAULT,n)}const rb="properties/5.6.0";var nb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Ku=new Oe(rb);function Ju(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function ib(r){return nb(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function q0(r){const e={};for(const t in r)e[t]=r[t];return e}const ab={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Yu(r){if(r==null||ab[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!Yu(n))return!1}return!0}return Ku.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function ob(r){if(Yu(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>G0(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&Ju(e,t,G0(n))}return e}return Ku.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function G0(r){return ob(r)}class sb{constructor(e){for(const t in e)this[t]=G0(e[t])}}const cb="abstract-provider/5.5.1";var fb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const ub=new Oe(cb);class db extends sb{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class oi{constructor(){ub.checkAbstract(new.target,oi),Ju(this,"_isProvider",!0)}getFeeData(){return fb(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield ib({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null;return e&&e.baseFeePerGas&&(i=Jt.from("2500000000"),n=e.baseFeePerGas.mul(2).add(i)),{maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const lb="logger/5.5.0";let Xu=!1,Zu=!1;const jo={debug:1,default:2,info:2,warning:3,error:4,off:5};let Qu=jo.default,z0=null;function hb(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const ed=hb();var V0;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(V0||(V0={}));var W0;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(W0||(W0={}));const td="0123456789abcdef";class L{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();jo[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Qu>jo[n])&&console.log.apply(console,t)}debug(...e){this._log(L.levels.DEBUG,e)}info(...e){this._log(L.levels.INFO,e)}warn(...e){this._log(L.levels.WARNING,e)}makeError(e,t,n){if(Zu)return this.makeError("censored error",t,{});t||(t=L.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(s=>{const c=n[s];try{if(c instanceof Uint8Array){let f="";for(let u=0;u<c.length;u++)f+=td[c[u]>>4],f+=td[c[u]&15];i.push(s+"=Uint8Array(0x"+f+")")}else i.push(s+"="+JSON.stringify(c))}catch{i.push(s+"="+JSON.stringify(n[s].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const a=e;i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=t,Object.keys(n).forEach(function(s){o[s]=n[s]}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,L.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){ed&&this.throwError("platform missing String.prototype.normalize",L.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ed})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,L.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,L.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,L.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,L.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",L.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",L.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",L.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return z0||(z0=new L(lb)),z0}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",L.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Xu){if(!e)return;this.globalLogger().throwError("error censorship permanent",L.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zu=!!e,Xu=!!t}static setLogLevel(e){const t=jo[e.toLowerCase()];if(t==null){L.globalLogger().warn("invalid log level - "+e);return}Qu=t}static from(e){return new L(e)}}L.errors=W0;L.levels=V0;const xb="networks/5.5.2",rd=new L(xb);function pb(r){return r&&typeof r.renetwork=="function"}function Fi(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider)try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider)try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider)try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider){const a=["goerli","ropsten","rinkeby"];try{const o=new t.PocketProvider(r);o.network&&a.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider)try{i.push(new t.CloudflareProvider(r))}catch{}if(i.length===0)return null;if(t.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:r==="homestead"&&(a=2),new t.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(t){return Fi(t)},e}function Ho(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Ho(r,n)},t}const nd={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Fi("homestead")},id={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Fi("ropsten")},ad={chainId:63,name:"classicMordor",_defaultProvider:Ho("https://www.ethercluster.com/mordor","classicMordor")},qo={unspecified:{chainId:0,name:"unspecified"},homestead:nd,mainnet:nd,morden:{chainId:2,name:"morden"},ropsten:id,testnet:id,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Fi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Fi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Fi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Ho("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ad,classicTestnet:ad,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ho("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function od(r){if(r==null)return null;if(typeof r=="number"){for(const n in qo){const i=qo[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=qo[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=qo[r.name];if(!e)return typeof r.chainId!="number"&&rd.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&rd.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(pb(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const bb="bytes/5.5.0",bt=new L(bb);function sd(r){return!!r.toHexString}function Bi(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Bi(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function K0(r){return Re(r)&&!(r.length%2)||Li(r)}function cd(r){return typeof r=="number"&&r==r&&r%1==0}function Li(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!cd(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!cd(t)||t<0||t>=256)return!1}return!0}function ne(r,e){if(e||(e={}),typeof r=="number"){bt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Bi(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),sd(r)&&(r=r.toHexString()),Re(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":bt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return Bi(new Uint8Array(n))}return Li(r)?Bi(new Uint8Array(r)):bt.throwArgumentError("invalid arrayify value","value",r)}function mt(r){const e=r.map(i=>ne(i)),t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),Bi(n)}function Tn(r){let e=ne(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Go(r,e){r=ne(r),r.length>e&&bt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Bi(t)}function Re(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const J0="0123456789abcdef";function ce(r,e){if(e||(e={}),typeof r=="number"){bt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=J0[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),sd(r))return r.toHexString();if(Re(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":bt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Li(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=J0[(i&240)>>4]+J0[i&15]}return t}return bt.throwArgumentError("invalid hexlify value","value",r)}function Ta(r){if(typeof r!="string")r=ce(r);else if(!Re(r)||r.length%2)return null;return(r.length-2)/2}function Sr(r,e,t){return typeof r!="string"?r=ce(r):(!Re(r)||r.length%2)&&bt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Lr(r){let e="0x";return r.forEach(t=>{e+=ce(t).substring(2)}),e}function zo(r){const e=mb(ce(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function mb(r){typeof r!="string"&&(r=ce(r)),Re(r)||bt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function ft(r,e){for(typeof r!="string"?r=ce(r):Re(r)||bt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&bt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Ui(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(K0(r)){const t=ne(r);t.length!==65&&bt.throwArgumentError("invalid signature string; must be 65 bytes","signature",r),e.r=ce(t.slice(0,32)),e.s=ce(t.slice(32,64)),e.v=t[64],e.v<27&&(e.v===0||e.v===1?e.v+=27:bt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ce(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=Go(ne(e._vs),32);e._vs=ce(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&bt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=ce(i);e.s==null?e.s=o:e.s!==o&&bt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?bt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&bt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Re(e.r)?bt.throwArgumentError("signature missing or invalid r","signature",r):e.r=ft(e.r,32),e.s==null||!Re(e.s)?bt.throwArgumentError("signature missing or invalid s","signature",r):e.s=ft(e.s,32);const t=ne(e.s);t[0]>=128&&bt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ce(t);e._vs&&(Re(e._vs)||bt.throwArgumentError("signature invalid _vs","signature",r),e._vs=ft(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&bt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e}function fd(r){return r=Ui(r),ce(mt([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const gb="properties/5.5.0";var vb=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Vo=new L(gb);function K(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function nr(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function St(r){return vb(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ud(r,e){(!r||typeof r!="object")&&Vo.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Vo.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function At(r){const e={};for(const t in r)e[t]=r[t];return e}const yb={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function dd(r){if(r==null||yb[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!dd(n))return!1}return!0}return Vo.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function wb(r){if(dd(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>ur(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&K(e,t,ur(n))}return e}return Vo.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function ur(r){return wb(r)}class $i{constructor(e){for(const t in e)this[t]=ur(e[t])}}class ld{constructor(e){K(this,"alphabet",e),K(this,"base",e.length),K(this,"_alphabetMap",{}),K(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ne(e);if(t.length===0)return"";let n=[0];for(let a=0;a<t.length;++a){let o=t[a];for(let s=0;s<n.length;++s)o+=n[s]<<8,n[s]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let a=0;t[a]===0&&a<t.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let o=0;o<t.length;++o)a+=t[o]*this.base,t[o]=a&255,a>>=8;for(;a>0;)t.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return ne(new Uint8Array(t.reverse()))}}new ld("abcdefghijklmnopqrstuvwxyz234567");const Wo=new ld("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),hd="bignumber/5.5.0";var Ko=Te.BN;const an=new L(hd),Y0={},xd=9007199254740991;function _b(r){return r!=null&&(oe.isBigNumber(r)||typeof r=="number"&&r%1==0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Re(r)||typeof r=="bigint"||Li(r))}let pd=!1;class oe{constructor(e,t){an.checkNew(new.target,oe),e!==Y0&&an.throwError("cannot call constructor directly; use BigNumber.from",L.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ir(Be(this).fromTwos(e))}toTwos(e){return ir(Be(this).toTwos(e))}abs(){return this._hex[0]==="-"?oe.from(this._hex.substring(1)):this}add(e){return ir(Be(this).add(Be(e)))}sub(e){return ir(Be(this).sub(Be(e)))}div(e){return oe.from(e).isZero()&&Ar("division by zero","div"),ir(Be(this).div(Be(e)))}mul(e){return ir(Be(this).mul(Be(e)))}mod(e){const t=Be(e);return t.isNeg()&&Ar("cannot modulo negative values","mod"),ir(Be(this).umod(t))}pow(e){const t=Be(e);return t.isNeg()&&Ar("cannot raise to negative values","pow"),ir(Be(this).pow(t))}and(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Ar("cannot 'and' negative values","and"),ir(Be(this).and(t))}or(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Ar("cannot 'or' negative values","or"),ir(Be(this).or(t))}xor(e){const t=Be(e);return(this.isNegative()||t.isNeg())&&Ar("cannot 'xor' negative values","xor"),ir(Be(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Ar("cannot mask negative values","mask"),ir(Be(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ar("cannot shift negative values","shl"),ir(Be(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ar("cannot shift negative values","shr"),ir(Be(this).shrn(e))}eq(e){return Be(this).eq(Be(e))}lt(e){return Be(this).lt(Be(e))}lte(e){return Be(this).lte(Be(e))}gt(e){return Be(this).gt(Be(e))}gte(e){return Be(this).gte(Be(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Be(this).isZero()}toNumber(){try{return Be(this).toNumber()}catch{Ar("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return an.throwError("this platform does not support BigInt",L.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?pd||(pd=!0,an.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?an.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",L.errors.UNEXPECTED_ARGUMENT,{}):an.throwError("BigNumber.toString does not accept parameters",L.errors.UNEXPECTED_ARGUMENT,{})),Be(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof oe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new oe(Y0,Na(e)):e.match(/^-?[0-9]+$/)?new oe(Y0,Na(new Ko(e))):an.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ar("underflow","BigNumber.from",e),(e>=xd||e<=-xd)&&Ar("overflow","BigNumber.from",e),oe.from(String(e));const t=e;if(typeof t=="bigint")return oe.from(t.toString());if(Li(t))return oe.from(ce(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return oe.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Re(n)||n[0]==="-"&&Re(n.substring(1))))return oe.from(n)}return an.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Na(r){if(typeof r!="string")return Na(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&an.throwArgumentError("invalid hex","value",r),r=Na(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function ir(r){return oe.from(Na(r))}function Be(r){const e=oe.from(r).toHexString();return e[0]==="-"?new Ko("-"+e.substring(3),16):new Ko(e.substring(2),16)}function Ar(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),an.throwError(r,L.errors.NUMERIC_FAULT,n)}function Eb(r){return new Ko(r,36).toString(16)}const Ht=new L(hd),Ia={},bd=oe.from(0),md=oe.from(-1);function gd(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),Ht.throwError(r,L.errors.NUMERIC_FAULT,i)}let Ca="0";for(;Ca.length<256;)Ca+=Ca;function X0(r){if(typeof r!="number")try{r=oe.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Ca.substring(0,r):Ht.throwArgumentError("invalid decimal size","decimals",r)}function Jo(r,e){e==null&&(e=0);const t=X0(e);r=oe.from(r);const n=r.lt(bd);n&&(r=r.mul(md));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=r.div(t).toString();return t.length===1?r=a:r=a+"."+i,n&&(r="-"+r),r}function on(r,e){e==null&&(e=0);const t=X0(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Ht.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Ht.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&Ht.throwArgumentError("too many decimal points","value",r);let a=i[0],o=i[1];for(a||(a="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&gd("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const s=oe.from(a),c=oe.from(o);let f=s.mul(t).add(c);return n&&(f=f.mul(md)),f}class ji{constructor(e,t,n,i){e!==Ia&&Ht.throwError("cannot use FixedFormat constructor; use FixedFormat.from",L.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=X0(i),Object.freeze(this)}static from(e){if(e instanceof ji)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Ht.throwArgumentError("invalid fixed format","format",e),t=a[1]!=="u",n=parseInt(a[2]),i=parseInt(a[3])}}else if(e){const a=(o,s,c)=>e[o]==null?c:(typeof e[o]!==s&&Ht.throwArgumentError("invalid fixed format ("+o+" not "+s+")","format."+o,e[o]),e[o]);t=a("signed","boolean",t),n=a("width","number",n),i=a("decimals","number",i)}return n%8&&Ht.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Ht.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new ji(Ia,t,n,i)}}class Ot{constructor(e,t,n,i){Ht.checkNew(new.target,Ot),e!==Ia&&Ht.throwError("cannot use FixedNumber constructor; use FixedNumber.from",L.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ht.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=on(this._value,this.format.decimals),n=on(e._value,e.format.decimals);return Ot.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=on(this._value,this.format.decimals),n=on(e._value,e.format.decimals);return Ot.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=on(this._value,this.format.decimals),n=on(e._value,e.format.decimals);return Ot.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=on(this._value,this.format.decimals),n=on(e._value,e.format.decimals);return Ot.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ot.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(vd.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Ot.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(vd.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Ht.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=Ot.from("1"+Ca.substring(0,e),this.format),i=Sb.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ht.throwArgumentError("invalid byte width","width",e);const t=oe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return ft(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ot.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!_b(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),Ot.fromString(Jo(e,t),ji.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=ji.from(t),i=on(e,n.decimals);!n.signed&&i.lt(bd)&&gd("unsigned value cannot be negative","overflow","value",e);let a=null;n.signed?a=i.toTwos(n.width).toHexString():(a=i.toHexString(),a=ft(a,n.width/8));const o=Jo(i,n.decimals);return new Ot(Ia,a,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=ji.from(t);if(ne(e).length>n.width/8)throw new Error("overflow");let i=oe.from(e);n.signed&&(i=i.fromTwos(n.width));const a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Jo(i,n.decimals);return new Ot(Ia,a,o,n)}static from(e,t){if(typeof e=="string")return Ot.fromString(e,t);if(Li(e))return Ot.fromBytes(e,t);try{return Ot.fromValue(e,0,t)}catch(n){if(n.code!==L.errors.INVALID_ARGUMENT)throw n}return Ht.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const vd=Ot.from(1),Sb=Ot.from("0.5"),Ab="0x0000000000000000000000000000000000000000",kb=oe.from(-1),yd=oe.from(0),Tb=oe.from(1),Nb=oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ib="0x0000000000000000000000000000000000000000000000000000000000000000";var wd={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=B0:a&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",f="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],m=[1,256,65536,16777216],v=[6,1536,393216,100663296],A=[0,8,16,24],N=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],k=[128,256],M=["hex","buffer","arrayBuffer","array","digest"],U={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(x){return typeof x=="object"&&x.buffer&&x.buffer.constructor===ArrayBuffer});for(var E=function(x,B,q){return function(W){return new P(x,B,x).update(W)[q]()}},j=function(x,B,q){return function(W,J){return new P(x,B,J).update(W)[q]()}},R=function(x,B,q){return function(W,J,ee,ue){return g["cshake"+x].update(W,J,ee,ue)[q]()}},z=function(x,B,q){return function(W,J,ee,ue){return g["kmac"+x].update(W,J,ee,ue)[q]()}},V=function(x,B,q,W){for(var J=0;J<M.length;++J){var ee=M[J];x[ee]=B(q,W,ee)}return x},te=function(x,B){var q=E(x,B,"hex");return q.create=function(){return new P(x,B,x)},q.update=function(W){return q.create().update(W)},V(q,E,x,B)},be=function(x,B){var q=j(x,B,"hex");return q.create=function(W){return new P(x,B,W)},q.update=function(W,J){return q.create(J).update(W)},V(q,j,x,B)},I=function(x,B){var q=U[x],W=R(x,B,"hex");return W.create=function(J,ee,ue){return!ee&&!ue?g["shake"+x].create(J):new P(x,B,J).bytepad([ee,ue],q)},W.update=function(J,ee,ue,ie){return W.create(ee,ue,ie).update(J)},V(W,R,x,B)},d=function(x,B){var q=U[x],W=z(x,B,"hex");return W.create=function(J,ee,ue){return new H(x,B,ee).bytepad(["KMAC",ue],q).bytepad([J],q)},W.update=function(J,ee,ue,ie){return W.create(J,ue,ie).update(ee)},V(W,z,x,B)},p=[{name:"keccak",padding:m,bits:y,createMethod:te},{name:"sha3",padding:v,bits:y,createMethod:te},{name:"shake",padding:u,bits:k,createMethod:be},{name:"cshake",padding:l,bits:k,createMethod:I},{name:"kmac",padding:l,bits:k,createMethod:d}],g={},_=[],S=0;S<p.length;++S)for(var O=p[S],F=O.bits,T=0;T<F.length;++T){var h=O.name+"_"+F[T];if(_.push(h),g[h]=O.createMethod(F[T],O.padding),O.name!=="sha3"){var b=O.name+F[T];_.push(b),g[b]=g[h]}}function P(x,B,q){this.blocks=[],this.s=[],this.padding=B,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(x<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}P.prototype.update=function(x){if(this.finalized)throw new Error(t);var B,q=typeof x;if(q!=="string"){if(q==="object"){if(x===null)throw new Error(e);if(c&&x.constructor===ArrayBuffer)x=new Uint8Array(x);else if(!Array.isArray(x)&&(!c||!ArrayBuffer.isView(x)))throw new Error(e)}else throw new Error(e);B=!0}for(var W=this.blocks,J=this.byteCount,ee=x.length,ue=this.blockCount,ie=0,Se=this.s,ge,Ee;ie<ee;){if(this.reset)for(this.reset=!1,W[0]=this.block,ge=1;ge<ue+1;++ge)W[ge]=0;if(B)for(ge=this.start;ie<ee&&ge<J;++ie)W[ge>>2]|=x[ie]<<A[ge++&3];else for(ge=this.start;ie<ee&&ge<J;++ie)Ee=x.charCodeAt(ie),Ee<128?W[ge>>2]|=Ee<<A[ge++&3]:Ee<2048?(W[ge>>2]|=(192|Ee>>6)<<A[ge++&3],W[ge>>2]|=(128|Ee&63)<<A[ge++&3]):Ee<55296||Ee>=57344?(W[ge>>2]|=(224|Ee>>12)<<A[ge++&3],W[ge>>2]|=(128|Ee>>6&63)<<A[ge++&3],W[ge>>2]|=(128|Ee&63)<<A[ge++&3]):(Ee=65536+((Ee&1023)<<10|x.charCodeAt(++ie)&1023),W[ge>>2]|=(240|Ee>>18)<<A[ge++&3],W[ge>>2]|=(128|Ee>>12&63)<<A[ge++&3],W[ge>>2]|=(128|Ee>>6&63)<<A[ge++&3],W[ge>>2]|=(128|Ee&63)<<A[ge++&3]);if(this.lastByteIndex=ge,ge>=J){for(this.start=ge-J,this.block=W[ue],ge=0;ge<ue;++ge)Se[ge]^=W[ge];D(Se),this.reset=!0}else this.start=ge}return this},P.prototype.encode=function(x,B){var q=x&255,W=1,J=[q];for(x=x>>8,q=x&255;q>0;)J.unshift(q),x=x>>8,q=x&255,++W;return B?J.push(W):J.unshift(W),this.update(J),J.length},P.prototype.encodeString=function(x){var B,q=typeof x;if(q!=="string"){if(q==="object"){if(x===null)throw new Error(e);if(c&&x.constructor===ArrayBuffer)x=new Uint8Array(x);else if(!Array.isArray(x)&&(!c||!ArrayBuffer.isView(x)))throw new Error(e)}else throw new Error(e);B=!0}var W=0,J=x.length;if(B)W=J;else for(var ee=0;ee<x.length;++ee){var ue=x.charCodeAt(ee);ue<128?W+=1:ue<2048?W+=2:ue<55296||ue>=57344?W+=3:(ue=65536+((ue&1023)<<10|x.charCodeAt(++ee)&1023),W+=4)}return W+=this.encode(W*8),this.update(x),W},P.prototype.bytepad=function(x,B){for(var q=this.encode(B),W=0;W<x.length;++W)q+=this.encodeString(x[W]);var J=B-q%B,ee=[];return ee.length=J,this.update(ee),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var x=this.blocks,B=this.lastByteIndex,q=this.blockCount,W=this.s;if(x[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(x[0]=x[q],B=1;B<q+1;++B)x[B]=0;for(x[q-1]|=2147483648,B=0;B<q;++B)W[B]^=x[B];D(W)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var x=this.blockCount,B=this.s,q=this.outputBlocks,W=this.extraBytes,J=0,ee=0,ue="",ie;ee<q;){for(J=0;J<x&&ee<q;++J,++ee)ie=B[J],ue+=f[ie>>4&15]+f[ie&15]+f[ie>>12&15]+f[ie>>8&15]+f[ie>>20&15]+f[ie>>16&15]+f[ie>>28&15]+f[ie>>24&15];ee%x==0&&(D(B),J=0)}return W&&(ie=B[J],ue+=f[ie>>4&15]+f[ie&15],W>1&&(ue+=f[ie>>12&15]+f[ie>>8&15]),W>2&&(ue+=f[ie>>20&15]+f[ie>>16&15])),ue},P.prototype.arrayBuffer=function(){this.finalize();var x=this.blockCount,B=this.s,q=this.outputBlocks,W=this.extraBytes,J=0,ee=0,ue=this.outputBits>>3,ie;W?ie=new ArrayBuffer(q+1<<2):ie=new ArrayBuffer(ue);for(var Se=new Uint32Array(ie);ee<q;){for(J=0;J<x&&ee<q;++J,++ee)Se[ee]=B[J];ee%x==0&&D(B)}return W&&(Se[J]=B[J],ie=ie.slice(0,ue)),ie},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var x=this.blockCount,B=this.s,q=this.outputBlocks,W=this.extraBytes,J=0,ee=0,ue=[],ie,Se;ee<q;){for(J=0;J<x&&ee<q;++J,++ee)ie=ee<<2,Se=B[J],ue[ie]=Se&255,ue[ie+1]=Se>>8&255,ue[ie+2]=Se>>16&255,ue[ie+3]=Se>>24&255;ee%x==0&&D(B)}return W&&(ie=ee<<2,Se=B[J],ue[ie]=Se&255,W>1&&(ue[ie+1]=Se>>8&255),W>2&&(ue[ie+2]=Se>>16&255)),ue};function H(x,B,q){P.call(this,x,B,q)}H.prototype=new P,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var D=function(x){var B,q,W,J,ee,ue,ie,Se,ge,Ee,De,jt,$e,Ge,cr,je,Ke,wr,ze,rt,_r,nt,Qe,Dr,it,Y,le,re,me,Ce,ke,Ne,Dt,Pe,Ve,tr,w,C,$,G,Q,Z,se,ae,Ae,xe,_e,Et,Ie,et,Mt,Je,Ye,fr,at,ot,Qr,en,tn,rn,jn,Hn,qn;for(W=0;W<48;W+=2)J=x[0]^x[10]^x[20]^x[30]^x[40],ee=x[1]^x[11]^x[21]^x[31]^x[41],ue=x[2]^x[12]^x[22]^x[32]^x[42],ie=x[3]^x[13]^x[23]^x[33]^x[43],Se=x[4]^x[14]^x[24]^x[34]^x[44],ge=x[5]^x[15]^x[25]^x[35]^x[45],Ee=x[6]^x[16]^x[26]^x[36]^x[46],De=x[7]^x[17]^x[27]^x[37]^x[47],jt=x[8]^x[18]^x[28]^x[38]^x[48],$e=x[9]^x[19]^x[29]^x[39]^x[49],B=jt^(ue<<1|ie>>>31),q=$e^(ie<<1|ue>>>31),x[0]^=B,x[1]^=q,x[10]^=B,x[11]^=q,x[20]^=B,x[21]^=q,x[30]^=B,x[31]^=q,x[40]^=B,x[41]^=q,B=J^(Se<<1|ge>>>31),q=ee^(ge<<1|Se>>>31),x[2]^=B,x[3]^=q,x[12]^=B,x[13]^=q,x[22]^=B,x[23]^=q,x[32]^=B,x[33]^=q,x[42]^=B,x[43]^=q,B=ue^(Ee<<1|De>>>31),q=ie^(De<<1|Ee>>>31),x[4]^=B,x[5]^=q,x[14]^=B,x[15]^=q,x[24]^=B,x[25]^=q,x[34]^=B,x[35]^=q,x[44]^=B,x[45]^=q,B=Se^(jt<<1|$e>>>31),q=ge^($e<<1|jt>>>31),x[6]^=B,x[7]^=q,x[16]^=B,x[17]^=q,x[26]^=B,x[27]^=q,x[36]^=B,x[37]^=q,x[46]^=B,x[47]^=q,B=Ee^(J<<1|ee>>>31),q=De^(ee<<1|J>>>31),x[8]^=B,x[9]^=q,x[18]^=B,x[19]^=q,x[28]^=B,x[29]^=q,x[38]^=B,x[39]^=q,x[48]^=B,x[49]^=q,Ge=x[0],cr=x[1],xe=x[11]<<4|x[10]>>>28,_e=x[10]<<4|x[11]>>>28,re=x[20]<<3|x[21]>>>29,me=x[21]<<3|x[20]>>>29,rn=x[31]<<9|x[30]>>>23,jn=x[30]<<9|x[31]>>>23,Z=x[40]<<18|x[41]>>>14,se=x[41]<<18|x[40]>>>14,Pe=x[2]<<1|x[3]>>>31,Ve=x[3]<<1|x[2]>>>31,je=x[13]<<12|x[12]>>>20,Ke=x[12]<<12|x[13]>>>20,Et=x[22]<<10|x[23]>>>22,Ie=x[23]<<10|x[22]>>>22,Ce=x[33]<<13|x[32]>>>19,ke=x[32]<<13|x[33]>>>19,Hn=x[42]<<2|x[43]>>>30,qn=x[43]<<2|x[42]>>>30,fr=x[5]<<30|x[4]>>>2,at=x[4]<<30|x[5]>>>2,tr=x[14]<<6|x[15]>>>26,w=x[15]<<6|x[14]>>>26,wr=x[25]<<11|x[24]>>>21,ze=x[24]<<11|x[25]>>>21,et=x[34]<<15|x[35]>>>17,Mt=x[35]<<15|x[34]>>>17,Ne=x[45]<<29|x[44]>>>3,Dt=x[44]<<29|x[45]>>>3,Dr=x[6]<<28|x[7]>>>4,it=x[7]<<28|x[6]>>>4,ot=x[17]<<23|x[16]>>>9,Qr=x[16]<<23|x[17]>>>9,C=x[26]<<25|x[27]>>>7,$=x[27]<<25|x[26]>>>7,rt=x[36]<<21|x[37]>>>11,_r=x[37]<<21|x[36]>>>11,Je=x[47]<<24|x[46]>>>8,Ye=x[46]<<24|x[47]>>>8,ae=x[8]<<27|x[9]>>>5,Ae=x[9]<<27|x[8]>>>5,Y=x[18]<<20|x[19]>>>12,le=x[19]<<20|x[18]>>>12,en=x[29]<<7|x[28]>>>25,tn=x[28]<<7|x[29]>>>25,G=x[38]<<8|x[39]>>>24,Q=x[39]<<8|x[38]>>>24,nt=x[48]<<14|x[49]>>>18,Qe=x[49]<<14|x[48]>>>18,x[0]=Ge^~je&wr,x[1]=cr^~Ke&ze,x[10]=Dr^~Y&re,x[11]=it^~le&me,x[20]=Pe^~tr&C,x[21]=Ve^~w&$,x[30]=ae^~xe&Et,x[31]=Ae^~_e&Ie,x[40]=fr^~ot&en,x[41]=at^~Qr&tn,x[2]=je^~wr&rt,x[3]=Ke^~ze&_r,x[12]=Y^~re&Ce,x[13]=le^~me&ke,x[22]=tr^~C&G,x[23]=w^~$&Q,x[32]=xe^~Et&et,x[33]=_e^~Ie&Mt,x[42]=ot^~en&rn,x[43]=Qr^~tn&jn,x[4]=wr^~rt&nt,x[5]=ze^~_r&Qe,x[14]=re^~Ce&Ne,x[15]=me^~ke&Dt,x[24]=C^~G&Z,x[25]=$^~Q&se,x[34]=Et^~et&Je,x[35]=Ie^~Mt&Ye,x[44]=en^~rn&Hn,x[45]=tn^~jn&qn,x[6]=rt^~nt&Ge,x[7]=_r^~Qe&cr,x[16]=Ce^~Ne&Dr,x[17]=ke^~Dt&it,x[26]=G^~Z&Pe,x[27]=Q^~se&Ve,x[36]=et^~Je&ae,x[37]=Mt^~Ye&Ae,x[46]=rn^~Hn&fr,x[47]=jn^~qn&at,x[8]=nt^~Ge&je,x[9]=Qe^~cr&Ke,x[18]=Ne^~Dr&Y,x[19]=Dt^~it&le,x[28]=Z^~Pe&tr,x[29]=se^~Ve&w,x[38]=Je^~ae&xe,x[39]=Ye^~Ae&_e,x[48]=Hn^~fr&ot,x[49]=qn^~at&Qr,x[0]^=N[W],x[1]^=N[W+1]};if(s)r.exports=g;else for(S=0;S<_.length;++S)i[_[S]]=g[_[S]]})()})(wd);var Cb=wd.exports;function ct(r){return"0x"+Cb.keccak_256(ne(r))}const Mb="strings/5.5.0",_d=new L(Mb);var Nn;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Nn||(Nn={}));var dr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(dr||(dr={}));function Ob(r,e,t,n,i){return _d.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Ed(r,e,t,n,i){if(r===dr.BAD_PREFIX||r===dr.UNEXPECTED_CONTINUE){let a=0;for(let o=e+1;o<t.length&&t[o]>>6==2;o++)a++;return a}return r===dr.OVERRUN?t.length-e-1:0}function Rb(r,e,t,n,i){return r===dr.OVERLONG?(n.push(i),0):(n.push(65533),Ed(r,e,t))}const Pb=Object.freeze({error:Ob,ignore:Ed,replace:Rb});function Sd(r,e){e==null&&(e=Pb.error),r=ne(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7==0){t.push(i);continue}let a=null,o=null;if((i&224)==192)a=1,o=127;else if((i&240)==224)a=2,o=2047;else if((i&248)==240)a=3,o=65535;else{(i&192)==128?n+=e(dr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(dr.BAD_PREFIX,n-1,r,t);continue}if(n-1+a>=r.length){n+=e(dr.OVERRUN,n-1,r,t);continue}let s=i&(1<<8-a-1)-1;for(let c=0;c<a;c++){let f=r[n];if((f&192)!=128){n+=e(dr.MISSING_CONTINUE,n,r,t),s=null;break}s=s<<6|f&63,n++}if(s!==null){if(s>1114111){n+=e(dr.OUT_OF_RANGE,n-1-a,r,t,s);continue}if(s>=55296&&s<=57343){n+=e(dr.UTF16_SURROGATE,n-1-a,r,t,s);continue}if(s<=o){n+=e(dr.OVERLONG,n-1-a,r,t,s);continue}t.push(s)}}return t}function qt(r,e=Nn.current){e!=Nn.current&&(_d.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const a=r.charCodeAt(n);if(n>=r.length||(a&64512)!=56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(a&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return ne(t)}function Z0(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Yo(r,e){return Z0(Sd(r,e))}function Ad(r,e=Nn.current){return Sd(qt(r,e))}function Db(r){if(r.length%4!=0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function Q0(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let a=i.split(":");t+=parseInt(a[0],16),n[t]=e(a[1])}),n}function kd(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function ec(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)==0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const Fb=kd("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Bb="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),Lb=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ub=Q0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),$b=Q0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),jb=Q0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Db),Hb=kd("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function qb(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function Gb(r){return!!ec(r,Fb)}function zb(r){let e=ec(r,Lb);if(e)return[r+e.s];let t=Ub[r];if(t)return t;let n=$b[r];if(n)return[r+n[0]];let i=jb[r];return i||null}function Vb(r){return!!ec(r,Hb)}function Wb(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Ad(r);e=qb(e.map(n=>{if(Bb.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=zb(n);return i||[n]})),e=Ad(Z0(e),Nn.NFKC),e.forEach(n=>{if(Vb(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Gb(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Z0(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");if(t.length>63)throw new Error("too long");return t}function si(r){return ct(qt(r))}const Td="hash/5.5.0",Nd=new L(Td),Id=new Uint8Array(32);Id.fill(0);const Kb=new RegExp("^((.*)\\.)?([^.]+)$");function Xo(r){typeof r!="string"&&Nd.throwArgumentError("invalid ENS name; not a string","name",r);let e=r,t=Id;for(;e.length;){const n=e.match(Kb);(n==null||n[2]==="")&&Nd.throwArgumentError("invalid ENS address; missing component","name",r);const i=qt(Wb(n[3]));t=ct(mt([t,ct(i)])),e=n[2]||""}return ce(t)}const Jb=`Ethereum Signed Message:
`;function Yb(r){return typeof r=="string"&&(r=qt(r)),ct(mt([qt(Jb),qt(String(r.length)),r]))}const Xb="rlp/5.5.0",sn=new L(Xb);function Cd(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Md(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Od(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(a){n=n.concat(Od(a))}),n.length<=55)return n.unshift(192+n.length),n;const i=Cd(n.length);return i.unshift(247+i.length),i.concat(n)}K0(r)||sn.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(ne(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Cd(e.length);return t.unshift(183+t.length),t.concat(e)}function Hi(r){return ce(Od(r))}function Rd(r,e,t,n){const i=[];for(;t<e+1+n;){const a=Pd(r,t);i.push(a.result),t+=a.consumed,t>e+1+n&&sn.throwError("child data too short",L.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Pd(r,e){if(r.length===0&&sn.throwError("data too short",L.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&sn.throwError("data short segment too short",L.errors.BUFFER_OVERRUN,{});const n=Md(r,e+1,t);return e+1+t+n>r.length&&sn.throwError("data long segment too short",L.errors.BUFFER_OVERRUN,{}),Rd(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&sn.throwError("data array too short",L.errors.BUFFER_OVERRUN,{}),Rd(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&sn.throwError("data array too short",L.errors.BUFFER_OVERRUN,{});const n=Md(r,e+1,t);e+1+t+n>r.length&&sn.throwError("data array too short",L.errors.BUFFER_OVERRUN,{});const i=ce(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&sn.throwError("data too short",L.errors.BUFFER_OVERRUN,{});const n=ce(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ce(r[e])}}function tc(r){const e=ne(r),t=Pd(e,0);return t.consumed!==e.length&&sn.throwArgumentError("invalid rlp data","data",r),t.result}const Zb="address/5.5.0",qi=new L(Zb);function Dd(r){Re(r,20)||qi.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=ne(ct(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Qb=9007199254740991;function em(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const rc={};for(let r=0;r<10;r++)rc[String(r)]=String(r);for(let r=0;r<26;r++)rc[String.fromCharCode(65+r)]=String(10+r);const Fd=Math.floor(em(Qb));function tm(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>rc[n]).join("");for(;e.length>=Fd;){let n=e.substring(0,Fd);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function gt(r){let e=null;if(typeof r!="string"&&qi.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Dd(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&qi.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==tm(r)&&qi.throwArgumentError("bad icap checksum","address",r),e=Eb(r.substring(4));e.length<40;)e="0"+e;e=Dd("0x"+e)}else qi.throwArgumentError("invalid address","address",r);return e}function Bd(r){let e=null;try{e=gt(r.from)}catch{qi.throwArgumentError("missing from address","transaction",r)}const t=Tn(ne(oe.from(r.nonce).toHexString()));return gt(Sr(ct(Hi([e,t])),12))}var rm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const pt=new L(Td),Ld=new Uint8Array(32);Ld.fill(0);const nm=oe.from(-1),Ud=oe.from(0),$d=oe.from(1),im=oe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function am(r){const e=ne(r),t=e.length%32;return t?Lr([e,Ld.slice(t)]):ce(e)}const om=ft($d.toHexString(),32),sm=ft(Ud.toHexString(),32),jd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},nc=["name","version","chainId","verifyingContract","salt"];function Hd(r){return function(e){return typeof e!="string"&&pt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const cm={name:Hd("name"),version:Hd("version"),chainId:function(r){try{return oe.from(r).toString()}catch{}return pt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return gt(r).toLowerCase()}catch{}return pt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=ne(r);if(e.length!==32)throw new Error("bad length");return ce(e)}catch{}return pt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function ic(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&pt.throwArgumentError("invalid numeric width","type",r);const i=im.mask(t?n-1:n),a=t?i.add($d).mul(nm):Ud;return function(o){const s=oe.from(o);return(s.lt(a)||s.gt(i))&&pt.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),ft(s.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&pt.throwArgumentError("invalid bytes width","type",r),function(n){return ne(n).length!==t&&pt.throwArgumentError(`invalid length for ${r}`,"value",n),am(n)}}}switch(r){case"address":return function(e){return ft(gt(e),32)};case"bool":return function(e){return e?om:sm};case"bytes":return function(e){return ct(e)};case"string":return function(e){return si(e)}}return null}function qd(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class Yt{constructor(e){K(this,"types",Object.freeze(ur(e))),K(this,"_encoderCache",{}),K(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(s=>{t[s]={},n[s]=[],i[s]={}});for(const s in e){const c={};e[s].forEach(f=>{c[f.name]&&pt.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(s)}`,"types",e),c[f.name]=!0;const u=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===s&&pt.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!ic(u)&&(n[u]||pt.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(s),t[s][u]=!0)})}const a=Object.keys(n).filter(s=>n[s].length===0);a.length===0?pt.throwArgumentError("missing primary type","types",e):a.length>1&&pt.throwArgumentError(`ambiguous primary types or unused types: ${a.map(s=>JSON.stringify(s)).join(", ")}`,"types",e),K(this,"primaryType",a[0]);function o(s,c){c[s]&&pt.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),c[s]=!0,Object.keys(t[s]).forEach(f=>{!n[f]||(o(f,c),Object.keys(c).forEach(u=>{i[u][f]=!0}))}),delete c[s]}o(this.primaryType,{});for(const s in i){const c=Object.keys(i[s]);c.sort(),this._types[s]=qd(s,e[s])+c.map(f=>qd(f,e[f])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=ic(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],a=this.getEncoder(i),o=parseInt(t[3]);return s=>{o>=0&&s.length!==o&&pt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",s);let c=s.map(a);return this._types[i]&&(c=c.map(ct)),ct(Lr(c))}}const n=this.types[e];if(n){const i=si(this._types[e]);return a=>{const o=n.map(({name:s,type:c})=>{const f=this.getEncoder(c)(a[s]);return this._types[c]?ct(f):f});return o.unshift(i),Lr(o)}}return pt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||pt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ct(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ic(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],s=parseInt(i[3]);return s>=0&&t.length!==s&&pt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(o,c,n))}const a=this.types[e];return a?a.reduce((o,{name:s,type:c})=>(o[s]=this._visit(c,t[s],n),o),{}):pt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Yt(e)}static getPrimaryType(e){return Yt.from(e).primaryType}static hashStruct(e,t,n){return Yt.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=jd[n];i||pt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>nc.indexOf(n.name)-nc.indexOf(i.name)),Yt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Lr(["0x1901",Yt.hashDomain(e),Yt.from(t).hash(n)])}static hash(e,t,n){return ct(Yt.encode(e,t,n))}static resolveNames(e,t,n,i){return rm(this,void 0,void 0,function*(){e=At(e);const a={};e.verifyingContract&&!Re(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const o=Yt.from(t);o.visit(n,(s,c)=>(s==="address"&&!Re(c,20)&&(a[c]="0x"),c));for(const s in a)a[s]=yield i(s);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=o.visit(n,(s,c)=>s==="address"&&a[c]?a[c]:c),{domain:e,value:n}})}static getPayload(e,t,n){Yt.hashDomain(e);const i={},a=[];nc.forEach(c=>{const f=e[c];f!=null&&(i[c]=cm[c](f),a.push({name:c,type:jd[c]}))});const o=Yt.from(t),s=At(t);return s.EIP712Domain?pt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return ce(ne(f));if(c.match(/^u?int/))return oe.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&pt.throwArgumentError("invalid string","value",f),f}return pt.throwArgumentError("unsupported type","type",c)})}}}var Gd={},Le={},Ma=zd;function zd(r,e){if(!r)throw new Error(e||"Assertion failed")}zd.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var ac={exports:{}};typeof Object.create=="function"?ac.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ac.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var fm=Ma,um=ac.exports;Le.inherits=um;function dm(r,e){return(r.charCodeAt(e)&64512)!=55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)==56320}function lm(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var a=r.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):dm(r,i)?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}Le.toArray=lm;function hm(r){for(var e="",t=0;t<r.length;t++)e+=Wd(r[t].toString(16));return e}Le.toHex=hm;function Vd(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Le.htonl=Vd;function xm(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=Vd(i)),t+=Kd(i.toString(16))}return t}Le.toHex32=xm;function Wd(r){return r.length===1?"0"+r:r}Le.zero2=Wd;function Kd(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Le.zero8=Kd;function pm(r,e,t,n){var i=t-e;fm(i%4==0);for(var a=new Array(i/4),o=0,s=e;o<a.length;o++,s+=4){var c;n==="big"?c=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3]:c=r[s+3]<<24|r[s+2]<<16|r[s+1]<<8|r[s],a[o]=c>>>0}return a}Le.join32=pm;function bm(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var a=r[n];e==="big"?(t[i]=a>>>24,t[i+1]=a>>>16&255,t[i+2]=a>>>8&255,t[i+3]=a&255):(t[i+3]=a>>>24,t[i+2]=a>>>16&255,t[i+1]=a>>>8&255,t[i]=a&255)}return t}Le.split32=bm;function mm(r,e){return r>>>e|r<<32-e}Le.rotr32=mm;function gm(r,e){return r<<e|r>>>32-e}Le.rotl32=gm;function vm(r,e){return r+e>>>0}Le.sum32=vm;function ym(r,e,t){return r+e+t>>>0}Le.sum32_3=ym;function wm(r,e,t,n){return r+e+t+n>>>0}Le.sum32_4=wm;function _m(r,e,t,n,i){return r+e+t+n+i>>>0}Le.sum32_5=_m;function Em(r,e,t,n){var i=r[e],a=r[e+1],o=n+a>>>0,s=(o<n?1:0)+t+i;r[e]=s>>>0,r[e+1]=o}Le.sum64=Em;function Sm(r,e,t,n){var i=e+n>>>0,a=(i<e?1:0)+r+t;return a>>>0}Le.sum64_hi=Sm;function Am(r,e,t,n){var i=e+n;return i>>>0}Le.sum64_lo=Am;function km(r,e,t,n,i,a,o,s){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+s>>>0,c+=f<s?1:0;var u=r+t+i+o+c;return u>>>0}Le.sum64_4_hi=km;function Tm(r,e,t,n,i,a,o,s){var c=e+n+a+s;return c>>>0}Le.sum64_4_lo=Tm;function Nm(r,e,t,n,i,a,o,s,c,f){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+s>>>0,u+=l<s?1:0,l=l+f>>>0,u+=l<f?1:0;var m=r+t+i+o+c+u;return m>>>0}Le.sum64_5_hi=Nm;function Im(r,e,t,n,i,a,o,s,c,f){var u=e+n+a+s+f;return u>>>0}Le.sum64_5_lo=Im;function Cm(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}Le.rotr64_hi=Cm;function Mm(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Le.rotr64_lo=Mm;function Om(r,e,t){return r>>>t}Le.shr64_hi=Om;function Rm(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}Le.shr64_lo=Rm;var Gi={},Jd=Le,Pm=Ma;function Zo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Gi.BlockHash=Zo;Zo.prototype.update=function(e,t){if(e=Jd.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Jd.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Zo.prototype.digest=function(e){return this.update(this._pad()),Pm(this.pending===null),this._digest(e)};Zo.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,o=8;o<this.padLength;o++)i[a++]=0;return i};var zi={},cn={},Dm=Le,fn=Dm.rotr32;function Fm(r,e,t,n){if(r===0)return Yd(e,t,n);if(r===1||r===3)return Zd(e,t,n);if(r===2)return Xd(e,t,n)}cn.ft_1=Fm;function Yd(r,e,t){return r&e^~r&t}cn.ch32=Yd;function Xd(r,e,t){return r&e^r&t^e&t}cn.maj32=Xd;function Zd(r,e,t){return r^e^t}cn.p32=Zd;function Bm(r){return fn(r,2)^fn(r,13)^fn(r,22)}cn.s0_256=Bm;function Lm(r){return fn(r,6)^fn(r,11)^fn(r,25)}cn.s1_256=Lm;function Um(r){return fn(r,7)^fn(r,18)^r>>>3}cn.g0_256=Um;function $m(r){return fn(r,17)^fn(r,19)^r>>>10}cn.g1_256=$m;var Vi=Le,jm=Gi,Hm=cn,oc=Vi.rotl32,Oa=Vi.sum32,qm=Vi.sum32_5,Gm=Hm.ft_1,Qd=jm.BlockHash,zm=[1518500249,1859775393,2400959708,3395469782];function un(){if(!(this instanceof un))return new un;Qd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Vi.inherits(un,Qd);var Vm=un;un.blockSize=512;un.outSize=160;un.hmacStrength=80;un.padLength=64;un.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=oc(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=qm(oc(a,5),Gm(u,o,s,c),f,n[i],zm[u]);f=c,c=s,s=oc(o,30),o=a,a=l}this.h[0]=Oa(this.h[0],a),this.h[1]=Oa(this.h[1],o),this.h[2]=Oa(this.h[2],s),this.h[3]=Oa(this.h[3],c),this.h[4]=Oa(this.h[4],f)};un.prototype._digest=function(e){return e==="hex"?Vi.toHex32(this.h,"big"):Vi.split32(this.h,"big")};var Wi=Le,Wm=Gi,Ki=cn,Km=Ma,Ur=Wi.sum32,Jm=Wi.sum32_4,Ym=Wi.sum32_5,Xm=Ki.ch32,Zm=Ki.maj32,Qm=Ki.s0_256,eg=Ki.s1_256,tg=Ki.g0_256,rg=Ki.g1_256,el=Wm.BlockHash,ng=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dn(){if(!(this instanceof dn))return new dn;el.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ng,this.W=new Array(64)}Wi.inherits(dn,el);var tl=dn;dn.blockSize=512;dn.outSize=256;dn.hmacStrength=192;dn.padLength=64;dn.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Jm(rg(n[i-2]),n[i-7],tg(n[i-15]),n[i-16]);var a=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],m=this.h[7];for(Km(this.k.length===n.length),i=0;i<n.length;i++){var v=Ym(m,eg(f),Xm(f,u,l),this.k[i],n[i]),A=Ur(Qm(a),Zm(a,o,s));m=l,l=u,u=f,f=Ur(c,v),c=s,s=o,o=a,a=Ur(v,A)}this.h[0]=Ur(this.h[0],a),this.h[1]=Ur(this.h[1],o),this.h[2]=Ur(this.h[2],s),this.h[3]=Ur(this.h[3],c),this.h[4]=Ur(this.h[4],f),this.h[5]=Ur(this.h[5],u),this.h[6]=Ur(this.h[6],l),this.h[7]=Ur(this.h[7],m)};dn.prototype._digest=function(e){return e==="hex"?Wi.toHex32(this.h,"big"):Wi.split32(this.h,"big")};var sc=Le,rl=tl;function In(){if(!(this instanceof In))return new In;rl.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}sc.inherits(In,rl);var ig=In;In.blockSize=512;In.outSize=224;In.hmacStrength=192;In.padLength=64;In.prototype._digest=function(e){return e==="hex"?sc.toHex32(this.h.slice(0,7),"big"):sc.split32(this.h.slice(0,7),"big")};var ar=Le,ag=Gi,og=Ma,ln=ar.rotr64_hi,hn=ar.rotr64_lo,nl=ar.shr64_hi,il=ar.shr64_lo,zn=ar.sum64,cc=ar.sum64_hi,fc=ar.sum64_lo,sg=ar.sum64_4_hi,cg=ar.sum64_4_lo,fg=ar.sum64_5_hi,ug=ar.sum64_5_lo,al=ag.BlockHash,dg=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $r(){if(!(this instanceof $r))return new $r;al.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=dg,this.W=new Array(160)}ar.inherits($r,al);var ol=$r;$r.blockSize=1024;$r.outSize=512;$r.hmacStrength=192;$r.padLength=128;$r.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var a=_g(n[i-4],n[i-3]),o=Eg(n[i-4],n[i-3]),s=n[i-14],c=n[i-13],f=yg(n[i-30],n[i-29]),u=wg(n[i-30],n[i-29]),l=n[i-32],m=n[i-31];n[i]=sg(a,o,s,c,f,u,l,m),n[i+1]=cg(a,o,s,c,f,u,l,m)}};$r.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],f=this.h[5],u=this.h[6],l=this.h[7],m=this.h[8],v=this.h[9],A=this.h[10],N=this.h[11],y=this.h[12],k=this.h[13],M=this.h[14],U=this.h[15];og(this.k.length===n.length);for(var E=0;E<n.length;E+=2){var j=M,R=U,z=gg(m,v),V=vg(m,v),te=lg(m,v,A,N,y),be=hg(m,v,A,N,y,k),I=this.k[E],d=this.k[E+1],p=n[E],g=n[E+1],_=fg(j,R,z,V,te,be,I,d,p,g),S=ug(j,R,z,V,te,be,I,d,p,g);j=bg(i,a),R=mg(i,a),z=xg(i,a,o,s,c),V=pg(i,a,o,s,c,f);var O=cc(j,R,z,V),F=fc(j,R,z,V);M=y,U=k,y=A,k=N,A=m,N=v,m=cc(u,l,_,S),v=fc(l,l,_,S),u=c,l=f,c=o,f=s,o=i,s=a,i=cc(_,S,O,F),a=fc(_,S,O,F)}zn(this.h,0,i,a),zn(this.h,2,o,s),zn(this.h,4,c,f),zn(this.h,6,u,l),zn(this.h,8,m,v),zn(this.h,10,A,N),zn(this.h,12,y,k),zn(this.h,14,M,U)};$r.prototype._digest=function(e){return e==="hex"?ar.toHex32(this.h,"big"):ar.split32(this.h,"big")};function lg(r,e,t,n,i){var a=r&t^~r&i;return a<0&&(a+=4294967296),a}function hg(r,e,t,n,i,a){var o=e&n^~e&a;return o<0&&(o+=4294967296),o}function xg(r,e,t,n,i){var a=r&t^r&i^t&i;return a<0&&(a+=4294967296),a}function pg(r,e,t,n,i,a){var o=e&n^e&a^n&a;return o<0&&(o+=4294967296),o}function bg(r,e){var t=ln(r,e,28),n=ln(e,r,2),i=ln(e,r,7),a=t^n^i;return a<0&&(a+=4294967296),a}function mg(r,e){var t=hn(r,e,28),n=hn(e,r,2),i=hn(e,r,7),a=t^n^i;return a<0&&(a+=4294967296),a}function gg(r,e){var t=ln(r,e,14),n=ln(r,e,18),i=ln(e,r,9),a=t^n^i;return a<0&&(a+=4294967296),a}function vg(r,e){var t=hn(r,e,14),n=hn(r,e,18),i=hn(e,r,9),a=t^n^i;return a<0&&(a+=4294967296),a}function yg(r,e){var t=ln(r,e,1),n=ln(r,e,8),i=nl(r,e,7),a=t^n^i;return a<0&&(a+=4294967296),a}function wg(r,e){var t=hn(r,e,1),n=hn(r,e,8),i=il(r,e,7),a=t^n^i;return a<0&&(a+=4294967296),a}function _g(r,e){var t=ln(r,e,19),n=ln(e,r,29),i=nl(r,e,6),a=t^n^i;return a<0&&(a+=4294967296),a}function Eg(r,e){var t=hn(r,e,19),n=hn(e,r,29),i=il(r,e,6),a=t^n^i;return a<0&&(a+=4294967296),a}var uc=Le,sl=ol;function Cn(){if(!(this instanceof Cn))return new Cn;sl.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}uc.inherits(Cn,sl);var Sg=Cn;Cn.blockSize=1024;Cn.outSize=384;Cn.hmacStrength=192;Cn.padLength=128;Cn.prototype._digest=function(e){return e==="hex"?uc.toHex32(this.h.slice(0,12),"big"):uc.split32(this.h.slice(0,12),"big")};zi.sha1=Vm;zi.sha224=ig;zi.sha256=tl;zi.sha384=Sg;zi.sha512=ol;var cl={},ci=Le,Ag=Gi,Qo=ci.rotl32,fl=ci.sum32,Ra=ci.sum32_3,ul=ci.sum32_4,dl=Ag.BlockHash;function xn(){if(!(this instanceof xn))return new xn;dl.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ci.inherits(xn,dl);cl.ripemd160=xn;xn.blockSize=512;xn.outSize=160;xn.hmacStrength=192;xn.padLength=64;xn.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],c=n,f=i,u=a,l=o,m=s,v=0;v<80;v++){var A=fl(Qo(ul(n,ll(v,i,a,o),e[Ng[v]+t],kg(v)),Cg[v]),s);n=s,s=o,o=Qo(a,10),a=i,i=A,A=fl(Qo(ul(c,ll(79-v,f,u,l),e[Ig[v]+t],Tg(v)),Mg[v]),m),c=m,m=l,l=Qo(u,10),u=f,f=A}A=Ra(this.h[1],a,l),this.h[1]=Ra(this.h[2],o,m),this.h[2]=Ra(this.h[3],s,c),this.h[3]=Ra(this.h[4],n,f),this.h[4]=Ra(this.h[0],i,u),this.h[0]=A};xn.prototype._digest=function(e){return e==="hex"?ci.toHex32(this.h,"little"):ci.split32(this.h,"little")};function ll(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function kg(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Tg(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var Ng=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ig=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Cg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Mg=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Og=Le,Rg=Ma;function Ji(r,e,t){if(!(this instanceof Ji))return new Ji(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Og.toArray(e,t))}var Pg=Ji;Ji.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Rg(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Ji.prototype.update=function(e,t){return this.inner.update(e,t),this};Ji.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=Le,e.common=Gi,e.sha=zi,e.ripemd=cl,e.hmac=Pg,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Gd);var lr=Gd,Pa;(function(r){r.sha256="sha256",r.sha512="sha512"})(Pa||(Pa={}));const Dg="sha2/5.5.0",Fg=new L(Dg);function Bg(r){return"0x"+lr.ripemd160().update(ne(r)).digest("hex")}function fi(r){return"0x"+lr.sha256().update(ne(r)).digest("hex")}function es(r,e,t){return Pa[r]||Fg.throwError("unsupported algorithm "+r,L.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+lr.hmac(lr[r],ne(e)).update(ne(t)).digest("hex")}function Lg(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return Sa(e)}function Ug(r){r=Sa(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const $g="strings/5.6.0",hl=new Oe($g);var ts;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(ts||(ts={}));var hr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(hr||(hr={}));function jg(r,e,t,n,i){return hl.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function xl(r,e,t,n,i){if(r===hr.BAD_PREFIX||r===hr.UNEXPECTED_CONTINUE){let a=0;for(let o=e+1;o<t.length&&t[o]>>6==2;o++)a++;return a}return r===hr.OVERRUN?t.length-e-1:0}function Hg(r,e,t,n,i){return r===hr.OVERLONG?(n.push(i),0):(n.push(65533),xl(r,e,t))}const qg=Object.freeze({error:jg,ignore:xl,replace:Hg});function Gg(r,e){e==null&&(e=qg.error),r=Sa(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(i>>7==0){t.push(i);continue}let a=null,o=null;if((i&224)==192)a=1,o=127;else if((i&240)==224)a=2,o=2047;else if((i&248)==240)a=3,o=65535;else{(i&192)==128?n+=e(hr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(hr.BAD_PREFIX,n-1,r,t);continue}if(n-1+a>=r.length){n+=e(hr.OVERRUN,n-1,r,t);continue}let s=i&(1<<8-a-1)-1;for(let c=0;c<a;c++){let f=r[n];if((f&192)!=128){n+=e(hr.MISSING_CONTINUE,n,r,t),s=null;break}s=s<<6|f&63,n++}if(s!==null){if(s>1114111){n+=e(hr.OUT_OF_RANGE,n-1-a,r,t,s);continue}if(s>=55296&&s<=57343){n+=e(hr.UTF16_SURROGATE,n-1-a,r,t,s);continue}if(s<=o){n+=e(hr.OVERLONG,n-1-a,r,t,s);continue}t.push(s)}}return t}function pl(r,e=ts.current){e!=ts.current&&(hl.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const a=r.charCodeAt(n);if(n>=r.length||(a&64512)!=56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(a&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Sa(t)}function zg(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function bl(r,e){return zg(Gg(r,e))}const Vg="web/5.6.0";var Wg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};function Kg(r,e){return Wg(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client");const n=yield fetch(r,t),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((o,s)=>{a[s.toLowerCase()]=o}):n.headers.keys().forEach(o=>{a[o.toLowerCase()]=n.headers.get(o)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:Sa(new Uint8Array(i))}})}var Jg=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const jr=new Oe(Vg);function ml(r){return new Promise(e=>{setTimeout(e,r)})}function Vn(r,e){if(r==null)return null;if(typeof r=="string")return r;if(eb(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return bl(r)}catch{}return zu(r)}return r}function Yg(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;jr.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,a=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;jr.assertArgument(a>0&&a%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const o=typeof r=="object"?!!r.errorPassThrough:!1,s={};let c=null;const f={method:"GET"};let u=!1,l=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&jr.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(l=r.timeout),r.headers)for(const k in r.headers)s[k.toLowerCase()]={key:k,value:String(r.headers[k])},["if-none-match","if-modified-since"].indexOf(k.toLowerCase())>=0&&(u=!0);if(f.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&jr.throwError("basic authentication requires a secure https url",Oe.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const k=r.user+":"+r.password;s.authorization={key:"Authorization",value:"Basic "+Ug(pl(k))}}r.skipFetchSetup!=null&&(f.skipFetchSetup=!!r.skipFetchSetup)}const m=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),v=c?c.match(m):null;if(v)try{const k={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]},body:Lg(v[2])};let M=k.body;return t&&(M=t(k.body,k)),Promise.resolve(M)}catch(k){jr.throwError("processing response error",Oe.errors.SERVER_ERROR,{body:Vn(v[1],v[2]),error:k,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,s["content-type"]==null&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),s["content-length"]==null&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const A={};Object.keys(s).forEach(k=>{const M=s[k];A[M.key]=M.value}),f.headers=A;const N=function(){let k=null;return{promise:new Promise(function(E,j){l&&(k=setTimeout(()=>{k!=null&&(k=null,j(jr.makeError("timeout",Oe.errors.TIMEOUT,{requestBody:Vn(f.body,A["content-type"]),requestMethod:f.method,timeout:l,url:c})))},l))}),cancel:function(){k!=null&&(clearTimeout(k),k=null)}}}(),y=function(){return Jg(this,void 0,void 0,function*(){for(let k=0;k<n;k++){let M=null;try{if(M=yield Kg(c,f),k<n){if(M.statusCode===301||M.statusCode===302){const E=M.headers.location||"";if(f.method==="GET"&&E.match(/^https:/)){c=M.headers.location;continue}}else if(M.statusCode===429){let E=!0;if(i&&(E=yield i(k,c)),E){let j=0;const R=M.headers["retry-after"];typeof R=="string"&&R.match(/^[1-9][0-9]*$/)?j=parseInt(R)*1e3:j=a*parseInt(String(Math.random()*Math.pow(2,k))),yield ml(j);continue}}}}catch(E){M=E.response,M==null&&(N.cancel(),jr.throwError("missing response",Oe.errors.SERVER_ERROR,{requestBody:Vn(f.body,A["content-type"]),requestMethod:f.method,serverError:E,url:c}))}let U=M.body;if(u&&M.statusCode===304?U=null:!o&&(M.statusCode<200||M.statusCode>=300)&&(N.cancel(),jr.throwError("bad response",Oe.errors.SERVER_ERROR,{status:M.statusCode,headers:M.headers,body:Vn(U,M.headers?M.headers["content-type"]:null),requestBody:Vn(f.body,A["content-type"]),requestMethod:f.method,url:c})),t)try{const E=yield t(U,M);return N.cancel(),E}catch(E){if(E.throttleRetry&&k<n){let j=!0;if(i&&(j=yield i(k,c)),j){const R=a*parseInt(String(Math.random()*Math.pow(2,k)));yield ml(R);continue}}N.cancel(),jr.throwError("processing response error",Oe.errors.SERVER_ERROR,{body:Vn(U,M.headers?M.headers["content-type"]:null),error:E,requestBody:Vn(f.body,A["content-type"]),requestMethod:f.method,url:c})}return N.cancel(),U}return jr.throwError("failed response",Oe.errors.SERVER_ERROR,{requestBody:Vn(f.body,A["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([N.promise,y])}function dc(r,e,t){let n=(a,o)=>{let s=null;if(a!=null)try{s=JSON.parse(bl(a))}catch(c){jr.throwError("invalid JSON",Oe.errors.SERVER_ERROR,{body:a,error:c})}return t&&(s=t(s,o)),s},i=null;if(e!=null){i=pl(e);const a=typeof r=="string"?{url:r}:q0(r);a.headers?Object.keys(a.headers).filter(s=>s.toLowerCase()==="content-type").length!==0||(a.headers=q0(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},r=a}return Yg(r,i,n)}function Yi(r,e){return e||(e={}),e=q0(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,a=!1;const o=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const s=e.retryLimit;let c=0;function f(){return r().then(function(u){if(u!==void 0)o()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!a){if(c++,c>s){o()&&n(new Error("retry limit reached"));return}let l=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));l<e.floor&&(l=e.floor),l>e.ceiling&&(l=e.ceiling),setTimeout(f,l)}return null},function(u){o()&&n(u)})}f()})}var rs="qpzry9x8gf2tvdw0s3jn54khce6mua7l",lc={};for(var ns=0;ns<rs.length;ns++){var hc=rs.charAt(ns);if(lc[hc]!==void 0)throw new TypeError(hc+" is ambiguous");lc[hc]=ns}function Xi(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function gl(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Xi(e)^n>>5}for(e=Xi(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=Xi(e)^i&31}return e}function Xg(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=gl(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",a=0;a<e.length;++a){var o=e[a];if(o>>5!=0)throw new Error("Non 5-bit word");n=Xi(n)^o,i+=rs.charAt(o)}for(a=0;a<6;++a)n=Xi(n);for(n^=1,a=0;a<6;++a){var s=n>>(5-a)*5&31;i+=rs.charAt(s)}return i}function vl(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var a=r.slice(0,i),o=r.slice(i+1);if(o.length<6)return"Data too short";var s=gl(a);if(typeof s=="string")return s;for(var c=[],f=0;f<o.length;++f){var u=o.charAt(f),l=lc[u];if(l===void 0)return"Unknown character "+u;s=Xi(s)^l,!(f+6>=o.length)&&c.push(l)}return s!==1?"Invalid checksum for "+r:{prefix:a,words:c}}function Zg(){var r=vl.apply(null,arguments);if(typeof r=="object")return r}function Qg(r){var e=vl.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function is(r,e,t,n){for(var i=0,a=0,o=(1<<t)-1,s=[],c=0;c<r.length;++c)for(i=i<<e|r[c],a+=e;a>=t;)a-=t,s.push(i>>a&o);if(n)a>0&&s.push(i<<t-a&o);else{if(a>=e)return"Excess padding";if(i<<t-a&o)return"Non-zero padding"}return s}function e2(r){var e=is(r,8,5,!0);if(Array.isArray(e))return e}function t2(r){var e=is(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function r2(r){var e=is(r,5,8,!1);if(Array.isArray(e))return e}function n2(r){var e=is(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var yl={decodeUnsafe:Zg,decode:Qg,encode:Xg,toWordsUnsafe:e2,toWords:t2,fromWordsUnsafe:r2,fromWords:n2};const Xt="providers/5.5.2";function Zi(r,e,t){return t={path:e,exports:{},require:function(n,i){return i2(n,i==null?t.path:i)}},r(t,t.exports),t.exports}function i2(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var xc=wl;function wl(r,e){if(!r)throw new Error(e||"Assertion failed")}wl.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Hr=Zi(function(r,e){var t=e;function n(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)c[f]=o[f]|0;return c}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!=0&&(o="0"+o);for(var f=0;f<o.length;f+=2)c.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var u=o.charCodeAt(f),l=u>>8,m=u&255;l?c.push(l,m):c.push(m)}return c}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function a(o){for(var s="",c=0;c<o.length;c++)s+=i(o[c].toString(16));return s}t.toHex=a,t.encode=function(s,c){return c==="hex"?a(s):s}}),xr=Zi(function(r,e){var t=e;t.assert=xc,t.toArray=Hr.toArray,t.zero2=Hr.zero2,t.toHex=Hr.toHex,t.encode=Hr.encode;function n(c,f,u){var l=new Array(Math.max(c.bitLength(),u)+1);l.fill(0);for(var m=1<<f+1,v=c.clone(),A=0;A<l.length;A++){var N,y=v.andln(m-1);v.isOdd()?(y>(m>>1)-1?N=(m>>1)-y:N=y,v.isubn(N)):N=0,l[A]=N,v.iushrn(1)}return l}t.getNAF=n;function i(c,f){var u=[[],[]];c=c.clone(),f=f.clone();for(var l=0,m=0,v;c.cmpn(-l)>0||f.cmpn(-m)>0;){var A=c.andln(3)+l&3,N=f.andln(3)+m&3;A===3&&(A=-1),N===3&&(N=-1);var y;(A&1)==0?y=0:(v=c.andln(7)+l&7,(v===3||v===5)&&N===2?y=-A:y=A),u[0].push(y);var k;(N&1)==0?k=0:(v=f.andln(7)+m&7,(v===3||v===5)&&A===2?k=-N:k=N),u[1].push(k),2*l===y+1&&(l=1-l),2*m===k+1&&(m=1-m),c.iushrn(1),f.iushrn(1)}return u}t.getJSF=i;function a(c,f,u){var l="_"+f;c.prototype[f]=function(){return this[l]!==void 0?this[l]:this[l]=u.call(this)}}t.cachedProperty=a;function o(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=o;function s(c){return new Te(c,"hex","le")}t.intFromLE=s}),as=xr.getNAF,a2=xr.getJSF,os=xr.assert;function Wn(r,e){this.type=r,this.p=new Te(e.p,16),this.red=e.prime?Te.red(e.prime):Te.mont(this.p),this.zero=new Te(0).toRed(this.red),this.one=new Te(1).toRed(this.red),this.two=new Te(2).toRed(this.red),this.n=e.n&&new Te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ui=Wn;Wn.prototype.point=function(){throw new Error("Not implemented")};Wn.prototype.validate=function(){throw new Error("Not implemented")};Wn.prototype._fixedNafMul=function(e,t){os(e.precomputed);var n=e._getDoubles(),i=as(t,1,this._bitLength),a=(1<<n.step+1)-(n.step%2==0?2:1);a/=3;var o=[],s,c;for(s=0;s<i.length;s+=n.step){c=0;for(var f=s+n.step-1;f>=s;f--)c=(c<<1)+i[f];o.push(c)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),m=a;m>0;m--){for(s=0;s<o.length;s++)c=o[s],c===m?l=l.mixedAdd(n.points[s]):c===-m&&(l=l.mixedAdd(n.points[s].neg()));u=u.add(l)}return u.toP()};Wn.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=as(t,n,this._bitLength),s=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,s=s.dblp(f),c<0)break;var u=o[c];os(u!==0),e.type==="affine"?u>0?s=s.mixedAdd(a[u-1>>1]):s=s.mixedAdd(a[-u-1>>1].neg()):u>0?s=s.add(a[u-1>>1]):s=s.add(a[-u-1>>1].neg())}return e.type==="affine"?s.toP():s};Wn.prototype._wnafMulAdd=function(e,t,n,i,a){var o=this._wnafT1,s=this._wnafT2,c=this._wnafT3,f=0,u,l,m;for(u=0;u<i;u++){m=t[u];var v=m._getNAFPoints(e);o[u]=v.wnd,s[u]=v.points}for(u=i-1;u>=1;u-=2){var A=u-1,N=u;if(o[A]!==1||o[N]!==1){c[A]=as(n[A],o[A],this._bitLength),c[N]=as(n[N],o[N],this._bitLength),f=Math.max(c[A].length,f),f=Math.max(c[N].length,f);continue}var y=[t[A],null,null,t[N]];t[A].y.cmp(t[N].y)===0?(y[1]=t[A].add(t[N]),y[2]=t[A].toJ().mixedAdd(t[N].neg())):t[A].y.cmp(t[N].y.redNeg())===0?(y[1]=t[A].toJ().mixedAdd(t[N]),y[2]=t[A].add(t[N].neg())):(y[1]=t[A].toJ().mixedAdd(t[N]),y[2]=t[A].toJ().mixedAdd(t[N].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],M=a2(n[A],n[N]);for(f=Math.max(M[0].length,f),c[A]=new Array(f),c[N]=new Array(f),l=0;l<f;l++){var U=M[0][l]|0,E=M[1][l]|0;c[A][l]=k[(U+1)*3+(E+1)],c[N][l]=0,s[A]=y}}var j=this.jpoint(null,null,null),R=this._wnafT4;for(u=f;u>=0;u--){for(var z=0;u>=0;){var V=!0;for(l=0;l<i;l++)R[l]=c[l][u]|0,R[l]!==0&&(V=!1);if(!V)break;z++,u--}if(u>=0&&z++,j=j.dblp(z),u<0)break;for(l=0;l<i;l++){var te=R[l];te!==0&&(te>0?m=s[l][te-1>>1]:te<0&&(m=s[l][-te-1>>1].neg()),m.type==="affine"?j=j.mixedAdd(m):j=j.add(m))}}for(u=0;u<i;u++)s[u]=null;return a?j:j.toP()};function kr(r,e){this.curve=r,this.type=e,this.precomputed=null}Wn.BasePoint=kr;kr.prototype.eq=function(){throw new Error("Not implemented")};kr.prototype.validate=function(){return this.curve.validate(this)};Wn.prototype.decodePoint=function(e,t){e=xr.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?os(e[e.length-1]%2==0):e[0]===7&&os(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};kr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};kr.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};kr.prototype.encode=function(e,t){return xr.encode(this._encode(t),e)};kr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};kr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};kr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<t;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};kr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)t[a]=t[a-1].add(i);return{wnd:e,points:t}};kr.prototype._getBeta=function(){return null};kr.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var pc=Zi(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),o2=xr.assert;function Tr(r){ui.call(this,"short",r),this.a=new Te(r.a,16).toRed(this.red),this.b=new Te(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}pc(Tr,ui);var s2=Tr;Tr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Te(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))===0?n=a[0]:(n=a[1],o2(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new Te(s.a,16),b:new Te(s.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};Tr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Te.mont(e),n=new Te(2).toRed(t).redInvm(),i=n.redNeg(),a=new Te(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};Tr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Te(1),o=new Te(0),s=new Te(0),c=new Te(1),f,u,l,m,v,A,N,y=0,k,M;n.cmpn(0)!==0;){var U=i.div(n);k=i.sub(U.mul(n)),M=s.sub(U.mul(a));var E=c.sub(U.mul(o));if(!l&&k.cmp(t)<0)f=N.neg(),u=a,l=k.neg(),m=M;else if(l&&++y==2)break;N=k,i=n,n=k,s=a,a=M,c=o,o=E}v=k.neg(),A=M;var j=l.sqr().add(m.sqr()),R=v.sqr().add(A.sqr());return R.cmp(j)>=0&&(v=f,A=u),l.negative&&(l=l.neg(),m=m.neg()),v.negative&&(v=v.neg(),A=A.neg()),[{a:l,b:m},{a:v,b:A}]};Tr.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=a.mul(n.a),c=o.mul(i.a),f=a.mul(n.b),u=o.mul(i.b),l=e.sub(s).sub(c),m=f.add(u).neg();return{k1:l,k2:m}};Tr.prototype.pointFromX=function(e,t){e=new Te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)};Tr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Tr.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),c=e[o],f=c._getBeta();s.k1.negative&&(s.k1.ineg(),c=c.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var u=this._wnafMulAdd(1,i,a,o*2,n),l=0;l<o*2;l++)i[l]=null,a[l]=null;return u};function Rt(r,e,t,n){ui.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Te(e,16),this.y=new Te(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pc(Rt,ui.BasePoint);Tr.prototype.point=function(e,t,n){return new Rt(this,e,t,n)};Tr.prototype.pointFromJSON=function(e,t){return Rt.fromJSON(this,e,t)};Rt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Rt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Rt.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function a(s){return e.point(s[0],s[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};Rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Rt.prototype.isInfinity=function(){return this.inf};Rt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Rt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};Rt.prototype.getX=function(){return this.x.fromRed()};Rt.prototype.getY=function(){return this.y.fromRed()};Rt.prototype.mul=function(e){return e=new Te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Rt.prototype.mulAdd=function(e,t,n){var i=[this,t],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Rt.prototype.jmulAdd=function(e,t,n){var i=[this,t],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Rt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Rt.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};Rt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ft(r,e,t,n){ui.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Te(0)):(this.x=new Te(e,16),this.y=new Te(t,16),this.z=new Te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}pc(Ft,ui.BasePoint);Tr.prototype.jpoint=function(e,t,n){return new Ft(this,e,t,n)};Ft.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Ft.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ft.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),a=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=o.redSub(s);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),l=u.redMul(c),m=i.redMul(u),v=f.redSqr().redIAdd(l).redISub(m).redISub(m),A=f.redMul(m.redISub(v)).redISub(o.redMul(l)),N=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(v,A,N)};Ft.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),a=this.y,o=e.y.redMul(t).redMul(this.z),s=n.redSub(i),c=a.redSub(o);if(s.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),l=n.redMul(f),m=c.redSqr().redIAdd(u).redISub(l).redISub(l),v=c.redMul(l.redISub(m)).redISub(a.redMul(u)),A=this.z.redMul(s);return this.curve.jpoint(m,v,A)};Ft.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,c=this.z,f=c.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),m=u.redSqr(),v=m.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),N=o.redMul(m),y=A.redSqr().redISub(N.redAdd(N)),k=N.redISub(y),M=A.redMul(k);M=M.redIAdd(M).redISub(v);var U=u.redMul(c);t+1<e&&(f=f.redMul(v)),o=y,c=U,u=M}return this.curve.jpoint(o,u.redMul(a),c)};Ft.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ft.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),m=this.y.redSqr(),v=m.redSqr(),A=this.x.redAdd(m).redSqr().redISub(l).redISub(v);A=A.redIAdd(A);var N=l.redAdd(l).redIAdd(l),y=N.redSqr(),k=v.redIAdd(v);k=k.redIAdd(k),k=k.redIAdd(k),e=y.redISub(A).redISub(A),t=N.redMul(A.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Ft.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(s).redISub(s);e=f;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(s.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),m=this.y.redSqr(),v=this.x.redMul(m),A=this.x.redSub(l).redMul(this.x.redAdd(l));A=A.redAdd(A).redIAdd(A);var N=v.redIAdd(v);N=N.redIAdd(N);var y=N.redAdd(N);e=A.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(l);var k=m.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=A.redMul(N.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,n)};Ft.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=t.redSqr(),s=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(s),l=c.redSqr().redISub(u.redAdd(u)),m=u.redISub(l),v=s.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var A=c.redMul(m).redISub(v),N=n.redAdd(n).redMul(i);return this.curve.jpoint(l,A,N)};Ft.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var c=s.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=a.redIAdd(s).redSqr().redISub(o).redISub(c).redISub(f),l=t.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var m=this.x.redMul(c).redISub(l);m=m.redIAdd(m),m=m.redIAdd(m);var v=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(c)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var A=this.z.redAdd(s).redSqr().redISub(n).redISub(c);return this.curve.jpoint(m,v,A)};Ft.prototype.mul=function(e,t){return e=new Te(e,t),this.curve._wnafMul(this,e)};Ft.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Ft.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Ft.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ft.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ss=Zi(function(r,e){var t=e;t.base=ui,t.short=s2,t.mont=null,t.edwards=null}),cs=Zi(function(r,e){var t=e,n=xr.assert;function i(s){s.type==="short"?this.curve=new ss.short(s):s.type==="edwards"?this.curve=new ss.edwards(s):this.curve=new ss.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function a(s,c){Object.defineProperty(t,s,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(t,s,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:lr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:lr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:lr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:lr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:lr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:lr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Kn(r){if(!(this instanceof Kn))return new Kn(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Hr.toArray(r.entropy,r.entropyEnc||"hex"),t=Hr.toArray(r.nonce,r.nonceEnc||"hex"),n=Hr.toArray(r.pers,r.persEnc||"hex");xc(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var _l=Kn;Kn.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Kn.prototype._hmac=function(){return new lr.hmac(this.hash,this.K)};Kn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Kn.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Hr.toArray(e,t),n=Hr.toArray(n,i),xc(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Kn.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Hr.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,Hr.encode(o,t)};var bc=xr.assert;function Gt(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var mc=Gt;Gt.fromPublic=function(e,t,n){return t instanceof Gt?t:new Gt(e,{pub:t,pubEnc:n})};Gt.fromPrivate=function(e,t,n){return t instanceof Gt?t:new Gt(e,{priv:t,privEnc:n})};Gt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Gt.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Gt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Gt.prototype._importPrivate=function(e,t){this.priv=new Te(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Gt.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?bc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Gt.prototype.derive=function(e){return e.validate()||bc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Gt.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Gt.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Gt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var c2=xr.assert;function fs(r,e){if(r instanceof fs)return r;this._importDER(r,e)||(c2(r.r&&r.s,"Signature without r or s"),this.r=new Te(r.r,16),this.s=new Te(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var us=fs;function f2(){this.place=0}function gc(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function El(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}fs.prototype._importDER=function(e,t){e=xr.toArray(e,t);var n=new f2;if(e[n.place++]!==48)return!1;var i=gc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=gc(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var s=gc(e,n);if(s===!1||e.length!==s+n.place)return!1;var c=e.slice(n.place,s+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Te(o),this.s=new Te(c),this.recoveryParam=null,!0};function vc(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}fs.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=El(t),n=El(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];vc(i,t.length),i=i.concat(t),i.push(2),vc(i,n.length);var a=i.concat(n),o=[48];return vc(o,a.length),o=o.concat(a),xr.encode(o,e)};var u2=function(){throw new Error("unsupported")},Sl=xr.assert;function Nr(r){if(!(this instanceof Nr))return new Nr(r);typeof r=="string"&&(Sl(Object.prototype.hasOwnProperty.call(cs,r),"Unknown curve "+r),r=cs[r]),r instanceof cs.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var d2=Nr;Nr.prototype.keyPair=function(e){return new mc(this,e)};Nr.prototype.keyFromPrivate=function(e,t){return mc.fromPrivate(this,e,t)};Nr.prototype.keyFromPublic=function(e,t){return mc.fromPublic(this,e,t)};Nr.prototype.genKeyPair=function(e){e||(e={});for(var t=new _l({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||u2(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Te(2));;){var a=new Te(t.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Nr.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Nr.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Te(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),s=e.toArray("be",a),c=new _l({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Te(1)),u=0;;u++){var l=i.k?i.k(u):new Te(c.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var m=this.g.mul(l);if(!m.isInfinity()){var v=m.getX(),A=v.umod(this.n);if(A.cmpn(0)!==0){var N=l.invm(this.n).mul(A.mul(t.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var y=(m.getY().isOdd()?1:0)|(v.cmp(A)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),y^=1),new us({r:A,s:N,recoveryParam:y})}}}}}};Nr.prototype.verify=function(e,t,n,i){e=this._truncateToN(new Te(e,16)),n=this.keyFromPublic(n,i),t=new us(t,"hex");var a=t.r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),c=s.mul(e).umod(this.n),f=s.mul(a).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(a)):(u=this.g.mulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(a)===0)};Nr.prototype.recoverPubKey=function(r,e,t,n){Sl((3&t)===t,"The recovery param is more than two bits"),e=new us(e,n);var i=this.n,a=new Te(r),o=e.r,s=e.s,c=t&1,f=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),m=s.mul(u).umod(i);return this.g.mulAdd(l,o,m)};Nr.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new us(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(r,e,i)}catch{continue}if(a.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var l2=Zi(function(r,e){var t=e;t.version="6.5.4",t.utils=xr,t.rand=function(){throw new Error("unsupported")},t.curve=ss,t.curves=cs,t.ec=d2,t.eddsa=null}),h2=l2.ec;const x2="signing-key/5.5.0",Al=new L(x2);let yc=null;function pn(){return yc||(yc=new h2("secp256k1")),yc}class Qi{constructor(e){K(this,"curve","secp256k1"),K(this,"privateKey",ce(e));const t=pn().keyFromPrivate(ne(this.privateKey));K(this,"publicKey","0x"+t.getPublic(!1,"hex")),K(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),K(this,"_isSigningKey",!0)}_addPoint(e){const t=pn().keyFromPublic(ne(this.publicKey)),n=pn().keyFromPublic(ne(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=pn().keyFromPrivate(ne(this.privateKey)),n=ne(e);n.length!==32&&Al.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return Ui({recoveryParam:i.recoveryParam,r:ft("0x"+i.r.toString(16),32),s:ft("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=pn().keyFromPrivate(ne(this.privateKey)),n=pn().keyFromPublic(ne(kl(e)));return ft("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function p2(r,e){const t=Ui(e),n={r:ne(t.r),s:ne(t.s)};return"0x"+pn().recoverPubKey(ne(r),n,t.recoveryParam).encode("hex",!1)}function kl(r,e){const t=ne(r);if(t.length===32){const n=new Qi(t);return e?"0x"+pn().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?ce(t):"0x"+pn().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+pn().keyFromPublic(t).getPublic(!0,"hex"):ce(t)}return Al.throwArgumentError("invalid public or private key","key","[REDACTED]")}const b2="transactions/5.5.0",zt=new L(b2);var Tl;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Tl||(Tl={}));function wc(r){return r==="0x"?null:gt(r)}function Vt(r){return r==="0x"?yd:oe.from(r)}const m2=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],g2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function di(r){const e=kl(r);return gt(Sr(ct(Sr(e,1)),12))}function Nl(r,e){return di(p2(ne(r),e))}function pr(r,e){const t=Tn(oe.from(r).toHexString());return t.length>32&&zt.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function _c(r,e){return{address:gt(r),storageKeys:(e||[]).map((t,n)=>(Ta(t)!==32&&zt.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function li(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&zt.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),_c(t[0],t[1])):_c(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,a)=>(i[a]=!0,i),{});return _c(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function Il(r){return li(r).map(e=>[e.address,e.storageKeys])}function Cl(r,e){if(r.gasPrice!=null){const n=oe.from(r.gasPrice),i=oe.from(r.maxFeePerGas||0);n.eq(i)||zt.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[pr(r.chainId||0,"chainId"),pr(r.nonce||0,"nonce"),pr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pr(r.maxFeePerGas||0,"maxFeePerGas"),pr(r.gasLimit||0,"gasLimit"),r.to!=null?gt(r.to):"0x",pr(r.value||0,"value"),r.data||"0x",Il(r.accessList||[])];if(e){const n=Ui(e);t.push(pr(n.recoveryParam,"recoveryParam")),t.push(Tn(n.r)),t.push(Tn(n.s))}return Lr(["0x02",Hi(t)])}function Ml(r,e){const t=[pr(r.chainId||0,"chainId"),pr(r.nonce||0,"nonce"),pr(r.gasPrice||0,"gasPrice"),pr(r.gasLimit||0,"gasLimit"),r.to!=null?gt(r.to):"0x",pr(r.value||0,"value"),r.data||"0x",Il(r.accessList||[])];if(e){const n=Ui(e);t.push(pr(n.recoveryParam,"recoveryParam")),t.push(Tn(n.r)),t.push(Tn(n.s))}return Lr(["0x01",Hi(t)])}function v2(r,e){ud(r,g2);const t=[];m2.forEach(function(o){let s=r[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),s=ne(ce(s,c)),o.length&&s.length!==o.length&&s.length>0&&zt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,s),o.maxLength&&(s=Tn(s),s.length>o.maxLength&&zt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,s)),t.push(ce(s))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&zt.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!K0(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(ce(n)),t.push("0x"),t.push("0x")),!e)return Hi(t);const i=Ui(e);let a=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),a+=n*2+8,i.v>28&&i.v!==a&&zt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&zt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ce(a)),t.push(Tn(ne(i.r))),t.push(Tn(ne(i.s))),Hi(t)}function Ol(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&zt.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),v2(r,e);switch(r.type){case 1:return Ml(r,e);case 2:return Cl(r,e)}return zt.throwError(`unsupported transaction type: ${r.type}`,L.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function Rl(r,e,t){try{const n=Vt(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{zt.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=ft(e[1],32),r.s=ft(e[2],32);try{const n=ct(t(r));r.from=Nl(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch(n){console.log(n)}}function y2(r){const e=tc(r.slice(1));e.length!==9&&e.length!==12&&zt.throwArgumentError("invalid component count for transaction type: 2","payload",ce(r));const t=Vt(e[2]),n=Vt(e[3]),i={type:2,chainId:Vt(e[0]).toNumber(),nonce:Vt(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Vt(e[4]),to:wc(e[5]),value:Vt(e[6]),data:e[7],accessList:li(e[8])};return e.length===9||(i.hash=ct(r),Rl(i,e.slice(9),Cl)),i}function w2(r){const e=tc(r.slice(1));e.length!==8&&e.length!==11&&zt.throwArgumentError("invalid component count for transaction type: 1","payload",ce(r));const t={type:1,chainId:Vt(e[0]).toNumber(),nonce:Vt(e[1]).toNumber(),gasPrice:Vt(e[2]),gasLimit:Vt(e[3]),to:wc(e[4]),value:Vt(e[5]),data:e[6],accessList:li(e[7])};return e.length===8||(t.hash=ct(r),Rl(t,e.slice(8),Ml)),t}function _2(r){const e=tc(r);e.length!==9&&e.length!==6&&zt.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Vt(e[0]).toNumber(),gasPrice:Vt(e[1]),gasLimit:Vt(e[2]),to:wc(e[3]),value:Vt(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=oe.from(e[6]).toNumber()}catch(n){return console.log(n),t}if(t.r=ft(e[7],32),t.s=ft(e[8],32),oe.from(t.r).isZero()&&oe.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(ce(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const a=ct(Hi(i));try{t.from=Nl(a,{r:ce(t.r),s:ce(t.s),recoveryParam:n})}catch(o){console.log(o)}t.hash=ct(r)}return t.type=null,t}function E2(r){const e=ne(r);if(e[0]>127)return _2(e);switch(e[0]){case 1:return w2(e);case 2:return y2(e)}return zt.throwError(`unsupported transaction type: ${e[0]}`,L.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const ea=new L(Xt);class pe{constructor(){ea.checkNew(new.target,pe),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),u=l=>this.data(l,!0);return e.transaction={hash:o,type:f,accessList:pe.allowNull(this.accessList.bind(this),null),blockHash:pe.allowNull(o,null),blockNumber:pe.allowNull(c,null),transactionIndex:pe.allowNull(c,null),confirmations:pe.allowNull(c,null),from:t,gasPrice:pe.allowNull(n),maxPriorityFeePerGas:pe.allowNull(n),maxFeePerGas:pe.allowNull(n),gasLimit:n,to:pe.allowNull(t,null),value:n,nonce:c,data:a,r:pe.allowNull(this.uint256),s:pe.allowNull(this.uint256),v:pe.allowNull(c),creates:pe.allowNull(t,null),raw:pe.allowNull(a)},e.transactionRequest={from:pe.allowNull(t),nonce:pe.allowNull(c),gasLimit:pe.allowNull(n),gasPrice:pe.allowNull(n),maxPriorityFeePerGas:pe.allowNull(n),maxFeePerGas:pe.allowNull(n),to:pe.allowNull(t),value:pe.allowNull(n),data:pe.allowNull(u),type:pe.allowNull(c),accessList:pe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:t,topics:pe.arrayOf(o),data:a,logIndex:c,blockHash:o},e.receipt={to:pe.allowNull(this.address,null),from:pe.allowNull(this.address,null),contractAddress:pe.allowNull(t,null),transactionIndex:c,root:pe.allowNull(s),gasUsed:n,logsBloom:pe.allowNull(a),blockHash:o,transactionHash:o,logs:pe.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:pe.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:pe.allowNull(n),status:pe.allowNull(c),type:f},e.block={hash:o,parentHash:o,number:c,timestamp:c,nonce:pe.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:t,extraData:a,transactions:pe.allowNull(pe.arrayOf(o)),baseFeePerGas:pe.allowNull(n)},e.blockWithTransactions=At(e.block),e.blockWithTransactions.transactions=pe.allowNull(pe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:pe.allowNull(i,void 0),toBlock:pe.allowNull(i,void 0),blockHash:pe.allowNull(o,void 0),address:pe.allowNull(t,void 0),topics:pe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:pe.allowNull(c),blockHash:pe.allowNull(o),transactionIndex:c,removed:pe.allowNull(this.boolean.bind(this)),address:t,data:pe.allowFalsish(a,"0x"),topics:pe.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return li(e||[])}number(e){return e==="0x"?0:oe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:oe.from(e).toNumber()}bigNumber(e){return oe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Re(e))?e.toLowerCase():ea.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return gt(e)}callAddress(e){if(!Re(e,32))return null;const t=gt(Sr(e,12));return t===Ab?null:t}contractAddress(e){return Bd(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";if(e==="latest"||e==="pending")return e;if(typeof e=="number"||Re(e))return zo(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return Ta(n)!==32?ea.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=oe.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Re(e))throw new Error("invalid uint256");return ft(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=pe.check(t,e);return i._difficulty=n==null?null:oe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return pe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&oe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=pe.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Re(n)&&(n=oe.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Re(n)&&(n=oe.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return E2(e)}receiptLog(e){return pe.check(this.formats.receiptLog,e)}receipt(e){const t=pe.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=oe.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&ea.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):ea.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&ea.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return pe.check(this.formats.filter,e)}filterLog(e){return pe.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const a=e[i](t[i]);a!==void 0&&(n[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=t[i],a}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function S2(r){return r&&typeof r.isCommunityResource=="function"}function Pl(r){return S2(r)&&r.isCommunityResource()}let Dl=!1;function Ec(){Dl||(Dl=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Me=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const tt=new L(Xt);function Fl(r){return r==null?"null":(Ta(r)!==32&&tt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function Bl(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[Fl(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return Fl(e)}).join("&")}function A2(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function ta(r){if(typeof r=="string"){if(r=r.toLowerCase(),Ta(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+Bl(r);if(db.isForkEvent(r))throw tt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+Bl(r.topics||[])}throw new Error("invalid event - "+r)}function Da(){return new Date().getTime()}function Ll(r){return new Promise(e=>{setTimeout(e,r)})}const k2=["block","network","pending","poll"];class T2{constructor(e,t,n){K(this,"tag",e),K(this,"listener",t),K(this,"once",n)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=A2(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||k2.indexOf(this.tag)>=0}}const N2={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function Sc(r){return ft(oe.from(r).toHexString(),32)}function Ul(r){return Wo.encode(mt([r,Sr(fi(fi(r)),0,4)]))}const $l=new RegExp("^(ipfs)://(.*)$","i"),jl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$l,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function I2(r){try{return Yo(Hl(r))}catch{}return null}function Hl(r){if(r==="0x")return null;const e=oe.from(Sr(r,0,32)).toNumber(),t=oe.from(Sr(r,e,e+32)).toNumber();return Sr(r,e+32,e+32+t)}function ql(r){return`https://gateway.ipfs.io/ipfs/${r.substring(7)}`}class Gl{constructor(e,t,n,i){K(this,"provider",e),K(this,"name",n),K(this,"address",e.formatter.address(t)),K(this,"_resolvedAddress",i)}_fetchBytes(e,t){return Me(this,void 0,void 0,function*(){const n={to:this.address,data:Lr([e,Xo(this.name),t||"0x"])};try{return Hl(yield this.provider.call(n))}catch(i){return i.code===L.errors.CALL_EXCEPTION,null}})}_getAddress(e,t){const n=N2[String(e)];if(n==null&&tt.throwError(`unsupported coin type: ${e}`,L.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=ne(t);if(n.p2pkh!=null){const a=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return Ul(mt([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return Ul(mt([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=i[1];let o=i[0];if(o===0?a!==20&&a!==32&&(o=-1):o=-1,o>=0&&i.length===2+a&&a>=1&&a<=75){const s=yl.toWords(i.slice(2));return s.unshift(o),yl.encode(n.prefix,s)}}return null}getAddress(e){return Me(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i={to:this.address,data:"0x3b3b57de"+Xo(this.name).substring(2)},a=yield this.provider.call(i);return a==="0x"||a===Ib?null:this.provider.formatter.callAddress(a)}catch(i){if(i.code===L.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",Sc(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&tt.throwError("invalid or unsupported coin data",L.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return Me(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<jl.length;n++){const i=t.match(jl[n]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ql(t)};case"erc721":case"erc1155":{const o=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:t});const s=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const f=yield this.provider.formatter.address(c[0]),u=ft(oe.from(c[1]).toHexString(),32);if(a==="erc721"){const N=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Lr(["0x6352211e",u])}));if(s!==N)return null;e.push({type:"owner",content:N})}else if(a==="erc1155"){const N=oe.from(yield this.provider.call({to:f,data:Lr(["0x00fdd58e",ft(s,32),u])}));if(N.isZero())return null;e.push({type:"balance",content:N.toString()})}const l={to:this.provider.formatter.address(c[0]),data:Lr([o,u])};let m=I2(yield this.provider.call(l));if(m==null)return null;e.push({type:"metadata-url",content:m}),a==="erc1155"&&(m=m.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:m}));const v=yield dc(m);if(!v)return null;e.push({type:"metadata",content:JSON.stringify(v)});let A=v.image;if(typeof A!="string")return null;if(!A.match(/^(https:\/\/|data:)/i)){if(A.match($l)==null)return null;e.push({type:"url-ipfs",content:A}),A=ql(A)}return e.push({type:"url",content:A}),{linkage:e,url:A}}}}}catch{}return null})}getContentHash(){return Me(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=parseInt(t[3],16);if(t[4].length===i*2)return"ipfs://"+Wo.encode("0x"+t[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&n[1].length===32*2?"bzz://"+n[1]:tt.throwError("invalid or unsupported content hash data",L.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Me(this,void 0,void 0,function*(){let t=qt(e);t=mt([Sc(64),Sc(t.length),t]),t.length%32!=0&&(t=mt([t,ft("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ce(t));return n==null||n==="0x"?null:Yo(n)})}}let Ac=null,C2=1;class kc extends oi{constructor(e){tt.checkNew(new.target,oi);super();if(this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),K(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=nr(new.target,"getNetwork")(e);t?(K(this,"_network",t),this.emit("network",t,null)):tt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Me(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||tt.throwError("no network detected",L.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:K(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Yi(()=>this._ready().then(e=>e,e=>{if(!(e.code===L.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Ac==null&&(Ac=new pe),Ac}static getNetwork(e){return od(e==null?"homestead":e)}_getInternalBlockNumber(e){return Me(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(Da()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Da(),n=St({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const o=Da();return i=oe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Me(this,void 0,void 0,function*(){const e=C2++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)tt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",tt.makeError("network block skew detected",L.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&n-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let o=this.getTransactionReceipt(a).then(s=>(!s||s.blockNumber==null||(this._emitted["t:"+a]=s.blockNumber,this.emit(a,s)),null)).catch(s=>{this.emit("error",s)});t.push(o);break}case"filter":{const a=i.filter;a.fromBlock=this._lastBlockNumber+1,a.toBlock=n;const o=this.getLogs(a).then(s=>{s.length!==0&&s.forEach(c=>{this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(a,c)})}).catch(s=>{this.emit("error",s)});t.push(o);break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Me(this,void 0,void 0,function*(){return tt.throwError("provider does not support network detection",L.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Me(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Ll(0),this._network;const n=tt.makeError("underlying network changed",L.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Da();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Da(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Me(this,void 0,void 0,function*(){return this._waitForTransaction(e,t==null?1:t,n||0,null)})}_waitForTransaction(e,t,n,i){return Me(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=t?a:new Promise((o,s)=>{const c=[];let f=!1;const u=function(){return f?!0:(f=!0,c.forEach(m=>{m()}),!1)},l=m=>{m.confirmations<t||u()||o(m)};if(this.on(e,l),c.push(()=>{this.removeListener(e,l)}),i){let m=i.startBlock,v=null;const A=N=>Me(this,void 0,void 0,function*(){f||(yield Ll(1e3),this.getTransactionCount(i.from).then(y=>Me(this,void 0,void 0,function*(){if(!f){if(y<=i.nonce)m=N;else{{const k=yield this.getTransaction(e);if(k&&k.blockNumber!=null)return}for(v==null&&(v=m-3,v<i.startBlock&&(v=i.startBlock));v<=N;){if(f)return;const k=yield this.getBlockWithTransactions(v);for(let M=0;M<k.transactions.length;M++){const U=k.transactions[M];if(U.hash===e)return;if(U.from===i.from&&U.nonce===i.nonce){if(f)return;const E=yield this.waitForTransaction(U.hash,t);if(u())return;let j="replaced";U.data===i.data&&U.to===i.to&&U.value.eq(i.value)?j="repriced":U.data==="0x"&&U.from===U.to&&U.value.isZero()&&(j="cancelled"),s(tt.makeError("transaction was replaced",L.errors.TRANSACTION_REPLACED,{cancelled:j==="replaced"||j==="cancelled",reason:j,replacement:this._wrapTransaction(U),hash:e,receipt:E}));return}}v++}}f||this.once("block",A)}}),y=>{f||this.once("block",A)}))});if(f)return;this.once("block",A),c.push(()=>{this.removeListener("block",A)})}if(typeof n=="number"&&n>0){const m=setTimeout(()=>{u()||s(tt.makeError("timeout exceeded",L.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),c.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return Me(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return oe.from(e)}catch(t){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield St({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return oe.from(i)}catch(a){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:a})}})}getTransactionCount(e,t){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield St({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return oe.from(i).toNumber()}catch(a){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:a})}})}getCode(e,t){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield St({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return ce(i)}catch(a){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:a})}})}getStorageAt(e,t,n){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield St({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(o=>zo(o))}),a=yield this.perform("getStorageAt",i);try{return ce(a)}catch(o){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:o})}})}_wrapTransaction(e,t,n){if(t!=null&&Ta(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&tt.throwError("Transaction hash mismatch from Provider.sendTransaction.",L.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(a,o)=>Me(this,void 0,void 0,function*(){a==null&&(a=1),o==null&&(o=0);let s;a!==0&&n!=null&&(s={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,a,o,s);return c==null&&a===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&tt.throwError("transaction failed",L.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(a=>ce(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,a,i)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return Me(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(a=>a?oe.from(a):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(a=>a!=null?a:null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(a=>a?ce(a):null))}),this.formatter.transactionRequest(yield St(n))})}_getFilter(e){return Me(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield St(t))})}call(e,t){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield St({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("call",n);try{return ce(i)}catch(a){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"call",params:n,result:i,error:a})}})}estimateGas(e){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield St({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return oe.from(n)}catch(i){return tt.throwError("bad result from backend",L.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return Me(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&tt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&tt.throwError("ENS name not configured",L.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Me(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(Re(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Re(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{tt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Yi(()=>Me(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let o=null;for(let c=0;c<a.transactions.length;c++){const f=a.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-f.blockNumber+1;u<=0&&(u=1),f.confirmations=u}}const s=this.formatter.blockWithTransactions(a);return s.transactions=s.transactions.map(c=>this._wrapTransaction(c)),s}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Me(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Yi(()=>Me(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Me(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Yi(()=>Me(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Me(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield St({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),pe.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Me(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Me(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&tt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Me(this,void 0,void 0,function*(){try{const t=yield this._getResolver(e);return t==null?null:new Gl(this,t,e)}catch(t){if(t.code===L.errors.CALL_EXCEPTION)return null;throw t}})}_getResolver(e){return Me(this,void 0,void 0,function*(){const t=yield this.getNetwork();t.ensAddress||tt.throwError("network does not support ENS",L.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});const n={to:t.ensAddress,data:"0x0178b8bf"+Xo(e).substring(2)};try{return this.formatter.callAddress(yield this.call(n))}catch(i){if(i.code===L.errors.CALL_EXCEPTION)return null;throw i}})}resolveName(e){return Me(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Re(e))throw n}typeof e!="string"&&tt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Me(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t);if(!n)return null;let i=ne(yield this.call({to:n,data:"0x691f3431"+Xo(t).substring(2)}));if(i.length<32||!oe.from(i.slice(0,32)).eq(32)||(i=i.slice(32),i.length<32))return null;const a=oe.from(i.slice(0,32)).toNumber();if(i=i.slice(32),a>i.length)return null;const o=Yo(i.slice(0,a));return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return Me(this,void 0,void 0,function*(){let t=null;if(Re(e)){const i=this.formatter.address(e),a=i.substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(a);if(!o)return null;t=new Gl(this,o,"_",i)}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return tt.throwError(e+" not implemented",L.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new T2(ta(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],a=ta(e);return this._events=this._events.filter(o=>o.tag!==a?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let t=ta(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=ta(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,a=ta(e);return this._events=this._events.filter(o=>o.tag!==a||o.listener!=t||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=ta(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}const M2="abstract-signer/5.5.0";var qr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const br=new L(M2),O2=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],R2=[L.errors.INSUFFICIENT_FUNDS,L.errors.NONCE_EXPIRED,L.errors.REPLACEMENT_UNDERPRICED];class ra{constructor(){br.checkAbstract(new.target,ra),K(this,"_isSigner",!0)}getBalance(e){return qr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return qr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return qr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield St(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return qr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield St(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return qr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return qr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return qr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return qr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return qr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)O2.indexOf(n)===-1&&br.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=At(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&br.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return qr(this,void 0,void 0,function*(){const t=yield St(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>qr(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&br.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?br.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&br.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const a=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=a,t.maxPriorityFeePerGas=a}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&br.throwError("network does not support EIP-1559",L.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):br.throwError("failed to get consistent fee data",L.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(R2.indexOf(i.code)>=0)throw i;return br.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&br.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield St(t)})}_checkProvider(e){this.provider||br.throwError("missing provider",L.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ds extends ra{constructor(e,t){br.checkNew(new.target,ds);super();K(this,"address",e),K(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{br.throwError(e,L.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ds(this.address,e)}}var Mn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Bt=new L(Xt),P2=["call","estimateGas"];function zl(r,e,t){if(r==="call"&&e.code===L.errors.SERVER_ERROR){const a=e.error;if(a&&a.message.match("reverted")&&Re(a.data))return a.data;Bt.throwError("missing revert data in call exception",L.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===L.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText),n=(n||"").toLowerCase();const i=t.transaction||t.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&Bt.throwError("insufficient funds for intrinsic transaction cost",L.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:i}),n.match(/nonce too low/)&&Bt.throwError("nonce has already been used",L.errors.NONCE_EXPIRED,{error:e,method:r,transaction:i}),n.match(/replacement transaction underpriced/)&&Bt.throwError("replacement fee too low",L.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:i}),n.match(/only replay-protected/)&&Bt.throwError("legacy pre-eip-155 transactions not supported",L.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:i}),P2.indexOf(r)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Bt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:i}),e}function Vl(r){return new Promise(function(e){setTimeout(e,r)})}function D2(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Fa(r){return r&&r.toLowerCase()}const Tc={};class ls extends ra{constructor(e,t,n){Bt.checkNew(new.target,ls);super();if(e!==Tc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");K(this,"provider",t),n==null&&(n=0),typeof n=="string"?(K(this,"_address",this.provider.formatter.address(n)),K(this,"_index",null)):typeof n=="number"?(K(this,"_index",n),K(this,"_address",null)):Bt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Bt.throwError("cannot alter JSON-RPC Signer connection",L.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new F2(Tc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Bt.throwError("unknown account #"+this._index,L.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=At(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=At(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Mn(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Bt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),St({tx:St(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Bt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(o=>o,o=>zl("sendTransaction",o,a))})}signTransaction(e){return Bt.throwError("signing transactions is unsupported",L.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Mn(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Yi(()=>Mn(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Mn(this,void 0,void 0,function*(){const t=typeof e=="string"?qt(e):e,n=yield this.getAddress();return yield this.provider.send("personal_sign",[ce(t),n.toLowerCase()])})}_legacySignMessage(e){return Mn(this,void 0,void 0,function*(){const t=typeof e=="string"?qt(e):e,n=yield this.getAddress();return yield this.provider.send("eth_sign",[n.toLowerCase(),ce(t)])})}_signTypedData(e,t,n){return Mn(this,void 0,void 0,function*(){const i=yield Yt.resolveNames(e,t,n,o=>this.provider.resolveName(o)),a=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Yt.getPayload(i.domain,t,i.value))])})}unlock(e){return Mn(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class F2 extends ls{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const B2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Jn extends kc{constructor(e,t){Bt.checkNew(new.target,Jn);let n=t;n==null&&(n=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{a(o)})},0)}));super(n);e||(e=nr(this.constructor,"defaultUrl")()),typeof e=="string"?K(this,"connection",Object.freeze({url:e})):K(this,"connection",Object.freeze(At(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Mn(this,void 0,void 0,function*(){yield Vl(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=nr(this.constructor,"getNetwork");try{return t(oe.from(e).toNumber())}catch(n){return Bt.throwError("could not detect network",L.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Bt.throwError("could not detect network",L.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ls(Tc,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ur(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=dc(this.connection,JSON.stringify(n),D2).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Fa(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Fa(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Fa(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Fa(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=nr(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=nr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Fa(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Mn(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&oe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(t=At(t),t.transaction=At(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&Bt.throwError(e+" not implemented",L.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return zl(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return a.forEach(function(s){e._emitted["t:"+s.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(s).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return Vl(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=At(B2);if(t)for(const a in t)t[a]&&(n[a]=!0);ud(e,n);const i={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const o=zo(e[a]);a==="gasLimit"&&(a="gas"),i[a]=o}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=ce(e[a]))}),e.accessList&&(i.accessList=li(e.accessList)),i}}let Ba=null;try{if(Ba=WebSocket,Ba==null)throw new Error("inject please")}catch{const e=new L(Xt);Ba=function(){e.throwError("WebSockets not supported in this environment",L.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Nc=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const hs=new L(Xt);let L2=1;class Ic extends Jn{constructor(e,t){t==="any"&&hs.throwError("WebSocketProvider does not support 'any' network yet",L.errors.UNSUPPORTED_OPERATION,{operation:"network:any"});super(e,t);this._pollingInterval=-1,this._wsReady=!1,K(this,"_websocket",new Ba(this.connection.url)),K(this,"_requests",{}),K(this,"_subs",{}),K(this,"_subIds",{}),K(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this._websocket.send(this._requests[i].payload)})},this._websocket.onmessage=i=>{const a=i.data,o=JSON.parse(a);if(o.id!=null){const s=String(o.id),c=this._requests[s];if(delete this._requests[s],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let f=null;o.error?(f=new Error(o.error.message||"unknown error"),K(f,"code",o.error.code||null),K(f,"response",a)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const s=this._subs[o.params.subscription];s&&s.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){hs.throwError("cannot reset events block on WebSocketProvider",L.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){hs.throwError("cannot set polling interval on WebSocketProvider",L.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Nc(this,void 0,void 0,function*(){return null})}set polling(e){!e||hs.throwError("cannot set polling on WebSocketProvider",L.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=L2++;return new Promise((i,a)=>{function o(c,f){return c?a(c):i(f)}const s=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(n)]={callback:o,payload:s},this._wsReady&&this._websocket.send(s)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return Nc(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const a=yield i;this._subs[a]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=oe.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const i=n.hash;this.getTransactionReceipt(i).then(a=>{!a||this.emit(i,a)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Nc(this,void 0,void 0,function*(){this._websocket.readyState===Ba.CONNECTING&&(yield new Promise(e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}})),this._websocket.close(1e3)})}}var U2=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const La=new L(Xt);class $2 extends Jn{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return U2(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||La.throwError("no network detected",L.errors.UNKNOWN_ERROR,{}),this._network==null&&(K(this,"_network",t),this.emit("network",t,null))),t})}}class hi extends $2{constructor(e,t){La.checkAbstract(new.target,hi),e=nr(new.target,"getNetwork")(e),t=nr(new.target,"getApiKey")(t);const n=nr(new.target,"getUrl")(e,t);super(n,e);typeof t=="string"?K(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{K(this,i,t[i])})}_startPending(){La.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return La.throwError("API provider does not support signing",L.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return La.throwError("not implemented; sub-classes must override getUrl",L.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Wl=new L(Xt),xs="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class j2 extends Ic{constructor(e,t){const n=new Kl(e,t),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network);K(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===xs}}class Kl extends hi{static getWebSocketProvider(e,t){return new j2(e,t)}static getApiKey(e){return e==null?xs:(e&&typeof e!="string"&&Wl.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":n="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":n="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.alchemyapi.io/v2/";break;case"kovan":n="eth-kovan.alchemyapi.io/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":n="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":n="opt-kovan.g.alchemy.com/v2/";break;default:Wl.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(i,a)=>(t===xs&&Ec(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===xs}}var H2=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Jl=new L(Xt);class q2 extends hi{static getApiKey(e){return e!=null&&Jl.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:Jl.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return H2(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var ps=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const On=new L(Xt);function Yl(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=zo(ce(n)):t==="accessList"?n="["+li(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ce(n),e[t]=n)}return e}function G2(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||r.message!="OK"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function Xl(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function Zl(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}const Ql="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Cc(r,e,t){if(r==="call"&&e.code===L.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let a=i.data;if(a&&(a="0x"+a.replace(/^.*0x/i,"")),Re(a))return a;On.throwError("missing revert data in call exception",L.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===L.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&On.throwError("insufficient funds for intrinsic transaction cost",L.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&On.throwError("nonce has already been used",L.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&On.throwError("replacement fee too low",L.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&On.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",L.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class Mc extends kc{constructor(e,t){On.checkNew(new.target,Mc);super(e);K(this,"baseUrl",this.getBaseUrl()),K(this,"apiKey",t||Ql)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return On.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const n=Object.keys(t).reduce((a,o)=>{const s=t[o];return s!=null&&(a+=`&${o}=${s}`),a},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return ps(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,t),a=n?this.getPostData(e,t):null,o=e==="proxy"?Xl:G2;this.emit("debug",{action:"request",request:i,provider:this});const s={url:i,throttleSlotInterval:1e3,throttleCallback:(u,l)=>(this.isCommunityResource()&&Ec(),Promise.resolve(!0))};let c=null;a&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(a).map(u=>`${u}=${a[u]}`).join("&"));const f=yield dc(s,c,o||Xl);return this.emit("debug",{action:"response",request:i,response:ur(f),provider:this}),f})}detectNetwork(){return ps(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return ps(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>Cc("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=Yl(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(a){return Cc("call",a,t.transaction)}}case"estimateGas":{const i=Yl(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(a){return Cc("estimateGas",a,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=Zl(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=Zl(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&On.throwError("unsupported topic count",L.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const s=t.filter.topics[0];(typeof s!="string"||s.length!==66)&&On.throwError("unsupported topic format",L.errors.UNSUPPORTED_OPERATION,{topic0:s}),i.topic0=s}const a=yield this.fetch("logs",i);let o={};for(let s=0;s<a.length;s++){const c=a[s];if(c.blockHash==null){if(o[c.blockNumber]==null){const f=yield this.getBlock(c.blockNumber);f&&(o[c.blockNumber]=f.hash)}c.blockHash=o[c.blockNumber]}}return a}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return ps(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t==null?0:t,endblock:n==null?99999999:n,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(c){o[c]==""&&delete o[c]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const s=this.formatter.transactionResponse(o);return o.timeStamp&&(s.timestamp=parseInt(o.timeStamp)),s})})}isCommunityResource(){return this.apiKey===Ql}}const z2="random/5.5.1",Oc=new L(z2);function V2(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}const eh=V2();let bs=eh.crypto||eh.msCrypto;(!bs||!bs.getRandomValues)&&(Oc.warn("WARNING: Missing strong random number source"),bs={getRandomValues:function(r){return Oc.throwError("no secure random source avaialble",L.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ua(r){(r<=0||r>1024||r%1||r!=r)&&Oc.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return bs.getRandomValues(e),ne(e)}function W2(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}var ms=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Yn=new L(Xt);function gs(){return new Date().getTime()}function th(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Yn.throwArgumentError("provider mismatch","networks",r):e=n}return e}function rh(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function na(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(oe.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>na(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=na(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let K2=1;function nh(r){let e=null,t=null,n=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const i=o=>(n=n.then(o),n);function a(){return n}return{cancel:e,getPromise:a,wait:i}}const J2=[L.errors.CALL_EXCEPTION,L.errors.INSUFFICIENT_FUNDS,L.errors.NONCE_EXPIRED,L.errors.REPLACEMENT_UNDERPRICED,L.errors.UNPREDICTABLE_GAS_LIMIT],Y2=["address","args","errorArgs","errorSignature","method","transaction"];function vs(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function X2(r,e){return function(t){const n={};t.forEach(a=>{const o=r(a.result);n[o]||(n[o]={count:0,result:a.result}),n[o].count++});const i=Object.keys(n);for(let a=0;a<i.length;a++){const o=n[i[a]];if(o.count>=e)return o.result}}}function Z2(r,e,t){let n=na;switch(e){case"getBlockNumber":return function(i){const a=i.map(s=>s.result);let o=rh(i.map(s=>s.result),2);if(o!=null)return o=Math.ceil(o),a.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(i){const a=i.map(o=>o.result);return a.sort(),a[Math.floor(a.length/2)]};case"getEtherPrice":return function(i){return rh(i.map(a=>a.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=At(i),i.confirmations=-1,na(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=At(i),i.transactions=i.transactions.map(a=>(a=At(a),a.confirmations=-1,a)),na(i))}:n=function(i){return i==null?null:na(i)};break;default:throw new Error("unknown method: "+e)}return X2(n,r.quorum)}function $a(r,e){return ms(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:Yi(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function Q2(r,e,t,n){return ms(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Re(n.blockTag)&&(i=yield $a(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Re(n.blockTag)&&(i=yield $a(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Re(n.blockTag)&&(i=yield $a(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Re(n.blockTag)&&(i=yield $a(r,e)),i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let a=n.filter;return(a.fromBlock&&Re(a.fromBlock)||a.toBlock&&Re(a.toBlock))&&(i=yield $a(r,e)),i.getLogs(a)}}return Yn.throwError("unknown method error",L.errors.UNKNOWN_ERROR,{method:t,params:n})})}class Rc extends kc{constructor(e,t){Yn.checkNew(new.target,Rc),e.length===0&&Yn.throwArgumentError("missing providers","providers",e);const n=e.map((o,s)=>{if(oi.isProvider(o)){const u=Pl(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:u,priority:1})}const c=At(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Pl(o)?2e3:750),c.weight==null&&(c.weight=1);const f=c.weight;return(f%1||f>512||f<1)&&Yn.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${s}].weight`,f),Object.freeze(c)}),i=n.reduce((o,s)=>o+s.weight,0);t==null?t=i/2:t>i&&Yn.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=th(n.map(o=>o.provider.network));a==null&&(a=new Promise((o,s)=>{setTimeout(()=>{this.detectNetwork().then(o,s)},0)}));super(a);K(this,"providerConfigs",Object.freeze(n)),K(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ms(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return th(e)})}perform(e,t){return ms(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(f=>f.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let f=0;f<c.length;f++){const u=c[f];if(typeof u=="string")return u}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=Z2(this,e,t),i=W2(this.providerConfigs.map(At));i.sort((c,f)=>c.priority-f.priority);const a=this._highestBlockNumber;let o=0,s=!0;for(;;){const c=gs();let f=i.filter(v=>v.runner&&c-v.start<v.stallTimeout).reduce((v,A)=>v+A.weight,0);for(;f<this.quorum&&o<i.length;){const v=i[o++],A=K2++;v.start=gs(),v.staller=nh(v.stallTimeout),v.staller.wait(()=>{v.staller=null}),v.runner=Q2(v,a,e,t).then(N=>{v.done=!0,v.result=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:A,backend:vs(v,gs()),request:{method:e,params:ur(t)},provider:this})},N=>{v.done=!0,v.error=N,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:A,backend:vs(v,gs()),request:{method:e,params:ur(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:A,backend:vs(v,null),request:{method:e,params:ur(t)},provider:this}),f+=v.weight}const u=[];i.forEach(v=>{v.done||!v.runner||(u.push(v.runner),v.staller&&u.push(v.staller.getPromise()))}),u.length&&(yield Promise.race(u));const l=i.filter(v=>v.done&&v.error==null);if(l.length>=this.quorum){const v=n(l);if(v!==void 0)return i.forEach(A=>{A.staller&&A.staller.cancel(),A.cancelled=!0}),v;s||(yield nh(100).getPromise()),s=!1}const m=i.reduce((v,A)=>{if(!A.done||A.error==null)return v;const N=A.error.code;return J2.indexOf(N)>=0&&(v[N]||(v[N]={error:A.error,weight:0}),v[N].weight+=A.weight),v},{});if(Object.keys(m).forEach(v=>{const A=m[v];if(A.weight<this.quorum)return;i.forEach(k=>{k.staller&&k.staller.cancel(),k.cancelled=!0});const N=A.error,y={};Y2.forEach(k=>{N[k]!=null&&(y[k]=N[k])}),Yn.throwError(N.reason||N.message,v,y)}),i.filter(v=>!v.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Yn.throwError("failed to meet quorum",L.errors.SERVER_ERROR,{method:e,params:t,results:i.map(c=>vs(c)),provider:this})})}}const e3=null,ys=new L(Xt),ja="84842078b09946638c03157f83405213";class t3 extends Ic{constructor(e,t){const n=new ih(e,t),i=n.connection;i.password&&ys.throwError("INFURA WebSocket project secrets unsupported",L.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const a=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(a,e);K(this,"apiKey",n.projectId),K(this,"projectId",n.projectId),K(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===ja}}class ih extends hi{static getWebSocketProvider(e,t){return new t3(e,t)}static getApiKey(e){const t={apiKey:ja,projectId:ja,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(ys.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),ys.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"ropsten":n="ropsten.infura.io";break;case"rinkeby":n="rinkeby.infura.io";break;case"kovan":n="kovan.infura.io";break;case"goerli":n="goerli.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-kovan":n="optimism-kovan.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":n="arbitrum-rinkeby.infura.io";break;default:ys.throwError("unsupported network",L.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(a,o)=>(t.projectId===ja&&Ec(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===ja}}const Pc=new L(Xt),r3="ETHERS_JS_SHARED";class n3 extends hi{static getApiKey(e){return e&&typeof e!="string"&&Pc.throwArgumentError("invalid apiKey","apiKey",e),e||r3}static getUrl(e,t){Pc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Pc.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const xi=new L(Xt),ah={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class i3 extends hi{constructor(e,t){if(t==null){const n=nr(new.target,"getNetwork")(e);if(n){const i=ah[n.name];i&&(t={applicationId:i,loadBalancer:!0})}t==null&&xi.throwError("unsupported network",L.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){e==null&&xi.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(xi.assertArgument(typeof e.applicationId=="string","applicationSecretKey requires an applicationId","applicationId",e.applicationId),xi.assertArgument(typeof e.applicationSecretKey=="string","invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(xi.assertArgument(typeof e.applicationId=="string","apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):xi.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"goerli":n="eth-goerli.gateway.pokt.network";break;default:xi.throwError("unsupported network",L.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i=null;t.loadBalancer?i=`https://${n}/v1/lb/${t.applicationId}`:i=`https://${n}/v1/${t.applicationId}`;const a={url:i};return a.headers={},t.applicationSecretKey!=null&&(a.user="",a.password=t.applicationSecretKey),a}isCommunityResource(){return this.applicationId===ah[this.network.name]}}const Dc=new L(Xt);let a3=1;function oh(r,e){const t="Web3LegacyFetcher";return function(n,i){const a={method:n,params:i,id:a3++,jsonrpc:"2.0"};return new Promise((o,s)=>{this.emit("debug",{action:"request",fetcher:t,request:ur(a),provider:this}),e(a,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:a,provider:this}),s(c);if(this.emit("debug",{action:"response",fetcher:t,request:a,response:f,provider:this}),f.error){const u=new Error(f.error.message);return u.code=f.error.code,u.data=f.error.data,s(u)}o(f.result)})})}}function o3(r){return function(e,t){t==null&&(t=[]);let n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ur(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{var o;const a=((o=i==null?void 0:i.data)==null?void 0:o.message)||(i==null?void 0:i.message);if(a&&(a.indexOf(" could not be found")!==-1||a.indexOf("No state available for block ")!==-1)){console.error("block not available: ",a,"retrying....",n);let s=Promise.resolve();return n.params&&n.params.length>0&&n.params[n.params.length-1]==="latest"&&(console.log('request was made against "latest", fetching latest block...'),s=r.request({method:"eth_blockNumber",params:[]}).then(c=>{console.log(`replacing "latest" with "${c}" (${parseInt(c.slice(2),16)})`),n={method:n.method,params:[...n.params.slice(0,n.params.length-1),c]}})),s.then(()=>r.request(n).then(c=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:c,provider:this}),c),c=>{var u;const f=((u=c==null?void 0:c.data)==null?void 0:u.message)||(c==null?void 0:c.message);if(f&&(f.indexOf(" could not be found")!==-1||f.indexOf("No state available for block ")!==-1))return console.error("block not available again: ",f,"retrying....",n),r.request(n).then(l=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:l,provider:this}),l),l=>{var v;const m=((v=l==null?void 0:l.data)==null?void 0:v.message)||(l==null?void 0:l.message);throw m&&(m.indexOf(" could not be found")!==-1||m.indexOf("No state available for block ")!==-1)&&console.error("block not available again and again: ",m,n),l&&this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:l,provider:this}),l});throw c&&this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:c,provider:this}),c}))}else throw i&&this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class ia extends Jn{constructor(e,t){Dc.checkNew(new.target,ia),e==null&&Dc.throwArgumentError("missing provider","provider",e);let n=null,i=null,a=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),i=o3(e)):e.sendAsync?i=oh(e,e.sendAsync.bind(e)):e.send?i=oh(e,e.send.bind(e)):Dc.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:"));super(n,t);K(this,"jsonRpcFetchFunc",i),K(this,"provider",a)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}typeof window!="undefined"&&(window.PATCH_FOR_RPC_ISSUES=!0);const sh=new L(Xt);function O7(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1]){case"http":return new Jn(r);case"ws":return new Ic(r);default:sh.throwArgumentError("unsupported URL scheme","network",r)}}const t=od(r);return(!t||!t._defaultProvider)&&sh.throwError("unsupported getDefaultProvider network",L.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:Rc,AlchemyProvider:Kl,CloudflareProvider:q2,EtherscanProvider:Mc,InfuraProvider:ih,JsonRpcProvider:Jn,NodesmithProvider:n3,PocketProvider:i3,Web3Provider:ia,IpcProvider:e3},e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fc=function(r,e){return Fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Fc(r,e)};function s3(r,e){Fc(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var de=function(){return de=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},de.apply(this,arguments)};function ch(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c3(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a}function Xn(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(c3(arguments[e]));return r}function fh(){return typeof __SENTRY_NO_DEBUG__!="undefined"&&!__SENTRY_BROWSER_BUNDLE__}function f3(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function ws(){return!f3()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Zn(r,e){return r.require(e)}function u3(r){var e;try{e=Zn(module,r)}catch{}try{var t=Zn(module,"process").cwd;e=Zn(module,t()+"/node_modules/"+r)}catch{}return e}var d3={};function Ir(){return ws()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:d3}var l3=Object.prototype.toString;function uh(r,e){return l3.call(r)==="[object "+e+"]"}function dh(r){return uh(r,"String")}function lh(r){return uh(r,"Object")}function hh(r){return Boolean(r&&r.then&&typeof r.then=="function")}function Bc(r,e){try{return r instanceof e}catch{return!1}}var pi=Ir(),Lc="Sentry Logger ";function _s(r){var e=Ir(),t=["debug","info","warn","error","log","assert"];if(!("console"in e))return r();var n=e.console,i={};t.forEach(function(o){o in e.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var a=r();return Object.keys(i).forEach(function(o){n[o]=i[o]}),a}var h3=function(){function r(){this._enabled=!1}return r.prototype.disable=function(){this._enabled=!1},r.prototype.enable=function(){this._enabled=!0},r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!this._enabled||_s(function(){pi.console.log(Lc+"[Log]: "+e.join(" "))})},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!this._enabled||_s(function(){pi.console.warn(Lc+"[Warn]: "+e.join(" "))})},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!this._enabled||_s(function(){pi.console.error(Lc+"[Error]: "+e.join(" "))})},r}();pi.__SENTRY__=pi.__SENTRY__||{};var Wt=pi.__SENTRY__.logger||(pi.__SENTRY__.logger=new h3),Uc="<anonymous>";function x3(r){try{return!r||typeof r!="function"?Uc:r.name||Uc}catch{return Uc}}function Rn(r,e,t){if(e in r){var n=r[e],i=t(n);if(typeof i=="function")try{b3(i,n)}catch{}r[e]=i}}function p3(r,e,t){Object.defineProperty(r,e,{value:t})}function b3(r,e){var t=e.prototype||{};r.prototype=e.prototype=t,p3(r,"__sentry_original__",e)}function bi(r){var e,t;if(lh(r)){var n=r,i={};try{for(var a=ch(Object.keys(n)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof n[s]!="undefined"&&(i[s]=bi(n[s]))}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return i}return Array.isArray(r)?r.map(bi):r}function m3(){if(!("fetch"in Ir()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function xh(r){return r&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}function g3(){if(!m3())return!1;var r=Ir();if(xh(r.fetch))return!0;var e=!1,t=r.document;if(t&&typeof t.createElement=="function")try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=xh(n.contentWindow.fetch)),t.head.removeChild(n)}catch(i){fh()&&Wt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function v3(){var r=Ir(),e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}var ut=Ir(),Ha={},ph={};function y3(r){if(!ph[r])switch(ph[r]=!0,r){case"console":w3();break;case"dom":C3();break;case"xhr":A3();break;case"fetch":_3();break;case"history":k3();break;case"error":M3();break;case"unhandledrejection":O3();break;default:Wt.warn("unknown instrumentation type:",r)}}function bh(r,e){Ha[r]=Ha[r]||[],Ha[r].push(e),y3(r)}function Gr(r,e){var t,n;if(!(!r||!Ha[r]))try{for(var i=ch(Ha[r]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(e)}catch(s){fh()&&Wt.error(`Error while triggering instrumentation handler.
Type: `+r+`
Name: `+x3(o)+`
Error: `+s)}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function w3(){"console"in ut&&["debug","info","warn","error","log","assert"].forEach(function(r){r in ut.console&&Rn(ut.console,r,function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Gr("console",{args:t,level:r}),e&&Function.prototype.apply.call(e,ut.console,t)}})})}function _3(){!g3()||Rn(ut,"fetch",function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={args:e,fetchData:{method:E3(e),url:S3(e)},startTimestamp:Date.now()};return Gr("fetch",de({},n)),r.apply(ut,e).then(function(i){return Gr("fetch",de(de({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw Gr("fetch",de(de({},n),{endTimestamp:Date.now(),error:i})),i})}})}function E3(r){return r===void 0&&(r=[]),"Request"in ut&&Bc(r[0],Request)&&r[0].method?String(r[0].method).toUpperCase():r[1]&&r[1].method?String(r[1].method).toUpperCase():"GET"}function S3(r){return r===void 0&&(r=[]),typeof r[0]=="string"?r[0]:"Request"in ut&&Bc(r[0],Request)?r[0].url:String(r[0])}function A3(){if("XMLHttpRequest"in ut){var r=XMLHttpRequest.prototype;Rn(r,"open",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this,a=t[1],o=i.__sentry_xhr__={method:dh(t[0])?t[0].toUpperCase():t[0],url:t[1]};dh(a)&&o.method==="POST"&&a.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(i.readyState===4){try{o.status_code=i.status}catch{}Gr("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?Rn(i,"onreadystatechange",function(c){return function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];return s(),c.apply(i,f)}}):i.addEventListener("readystatechange",s),e.apply(i,t)}}),Rn(r,"send",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&t[0]!==void 0&&(this.__sentry_xhr__.body=t[0]),Gr("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}}var Es;function k3(){if(!v3())return;var r=ut.onpopstate;ut.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=ut.location.href,a=Es;if(Es=i,Gr("history",{from:a,to:i}),r)try{return r.apply(this,t)}catch{}};function e(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=Es,s=String(a);Es=s,Gr("history",{from:o,to:s})}return t.apply(this,n)}}Rn(ut.history,"pushState",e),Rn(ut.history,"replaceState",e)}var T3=1e3,Ss,As;function N3(r,e){if(!r||r.type!==e.type)return!0;try{if(r.target!==e.target)return!0}catch{}return!1}function I3(r){if(r.type!=="keypress")return!1;try{var e=r.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function mh(r,e){return e===void 0&&(e=!1),function(t){if(!(!t||As===t)&&!I3(t)){var n=t.type==="keypress"?"input":t.type;Ss===void 0?(r({event:t,name:n,global:e}),As=t):N3(As,t)&&(r({event:t,name:n,global:e}),As=t),clearTimeout(Ss),Ss=ut.setTimeout(function(){Ss=void 0},T3)}}}function C3(){if("document"in ut){var r=Gr.bind(null,"dom"),e=mh(r,!0);ut.document.addEventListener("click",e,!1),ut.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(t){var n=ut[t]&&ut[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Rn(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,f=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},u=f[a]=f[a]||{refCount:0};if(!u.handler){var l=mh(r);u.handler=l,i.call(this,a,l,s)}u.refCount+=1}catch{}return i.call(this,a,o,s)}}),Rn(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,f=c.__sentry_instrumentation_handlers__||{},u=f[a];u&&(u.refCount-=1,u.refCount<=0&&(i.call(this,a,u.handler,s),u.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}}var $c=null;function M3(){$c=ut.onerror,ut.onerror=function(r,e,t,n,i){return Gr("error",{column:n,error:i,line:t,msg:r,url:e}),$c?$c.apply(this,arguments):!1}}var jc=null;function O3(){jc=ut.onunhandledrejection,ut.onunhandledrejection=function(r){return Gr("unhandledrejection",r),jc?jc.apply(this,arguments):!0}}function mi(){var r=Ir(),e=r.crypto||r.msCrypto;if(e!==void 0&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=t[3]&4095|16384,t[4]=t[4]&16383|32768;var n=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}var R3=function(){function r(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(n){t._setResult(1,n)},this._reject=function(n){t._setResult(2,n)},this._setResult=function(n,i){if(t._state===0){if(hh(i)){i.then(t._resolve,t._reject);return}t._state=n,t._value=i,t._executeHandlers()}},this._executeHandlers=function(){if(t._state!==0){var n=t._handlers.slice();t._handlers=[],n.forEach(function(i){i[0]||(t._state===1&&i[1](t._value),t._state===2&&i[2](t._value),i[0]=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return r.prototype.then=function(e,t){var n=this;return new r(function(i,a){n._handlers.push([!1,function(o){if(!e)i(o);else try{i(e(o))}catch(s){a(s)}},function(o){if(!t)a(o);else try{i(t(o))}catch(s){a(s)}}]),n._executeHandlers()})},r.prototype.catch=function(e){return this.then(function(t){return t},e)},r.prototype.finally=function(e){var t=this;return new r(function(n,i){var a,o;return t.then(function(s){o=!1,a=s,e&&e()},function(s){o=!0,a=s,e&&e()}).then(function(){if(o){i(a);return}n(a)})})},r}(),Hc={nowSeconds:function(){return Date.now()/1e3}};function P3(){var r=Ir().performance;if(!(!r||!r.now)){var e=Date.now()-r.now();return{now:function(){return r.now()},timeOrigin:e}}}function D3(){try{var r=Zn(module,"perf_hooks");return r.performance}catch{return}}var qc=ws()?D3():P3(),gh=qc===void 0?Hc:{nowSeconds:function(){return(qc.timeOrigin+qc.now())/1e3}},vh=Hc.nowSeconds.bind(Hc),Gc=gh.nowSeconds.bind(gh),yh=Gc;(function(){var r=Ir().performance;if(!(!r||!r.now)){var e=3600*1e3,t=r.now(),n=Date.now(),i=r.timeOrigin?Math.abs(r.timeOrigin+t-n):e,a=i<e,o=r.timing&&r.timing.navigationStart,s=typeof o=="number",c=s?Math.abs(o+t-n):e,f=c<e;return a||f?i<=c?r.timeOrigin:o:n}})();var wh=100,zc=function(){function r(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return r.clone=function(e){var t=new r;return e&&(t._breadcrumbs=Xn(e._breadcrumbs),t._tags=de({},e._tags),t._extra=de({},e._extra),t._contexts=de({},e._contexts),t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=Xn(e._eventProcessors),t._requestSession=e._requestSession),t},r.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},r.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},r.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},r.prototype.getUser=function(){return this._user},r.prototype.getRequestSession=function(){return this._requestSession},r.prototype.setRequestSession=function(e){return this._requestSession=e,this},r.prototype.setTags=function(e){return this._tags=de(de({},this._tags),e),this._notifyScopeListeners(),this},r.prototype.setTag=function(e,t){var n;return this._tags=de(de({},this._tags),(n={},n[e]=t,n)),this._notifyScopeListeners(),this},r.prototype.setExtras=function(e){return this._extra=de(de({},this._extra),e),this._notifyScopeListeners(),this},r.prototype.setExtra=function(e,t){var n;return this._extra=de(de({},this._extra),(n={},n[e]=t,n)),this._notifyScopeListeners(),this},r.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},r.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},r.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},r.prototype.setTransaction=function(e){return this.setTransactionName(e)},r.prototype.setContext=function(e,t){var n;return t===null?delete this._contexts[e]:this._contexts=de(de({},this._contexts),(n={},n[e]=t,n)),this._notifyScopeListeners(),this},r.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},r.prototype.getSpan=function(){return this._span},r.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},r.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},r.prototype.getSession=function(){return this._session},r.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var t=e(this);return t instanceof r?t:this}return e instanceof r?(this._tags=de(de({},this._tags),e._tags),this._extra=de(de({},this._extra),e._extra),this._contexts=de(de({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):lh(e)&&(e=e,this._tags=de(de({},this._tags),e.tags),this._extra=de(de({},this._extra),e.extra),this._contexts=de(de({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},r.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},r.prototype.addBreadcrumb=function(e,t){var n=typeof t=="number"?Math.min(t,wh):wh;if(n<=0)return this;var i=de({timestamp:vh()},e);return this._breadcrumbs=Xn(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},r.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},r.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=de(de({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=de(de({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=de(de({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=de(de({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=de({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=de({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Xn(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Xn(F3(),this._eventProcessors),e,t)},r.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=de(de({},this._sdkProcessingMetadata),e),this},r.prototype._notifyEventProcessors=function(e,t,n,i){var a=this;return i===void 0&&(i=0),new R3(function(o,s){var c=e[i];if(t===null||typeof c!="function")o(t);else{var f=c(de({},t),n);hh(f)?f.then(function(u){return a._notifyEventProcessors(e,u,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(e,f,n,i+1).then(o).then(null,s)}})},r.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},r.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},r}();function F3(){var r=Ir();return r.__SENTRY__=r.__SENTRY__||{},r.__SENTRY__.globalEventProcessors=r.__SENTRY__.globalEventProcessors||[],r.__SENTRY__.globalEventProcessors}var B3=function(){function r(e){this.errors=0,this.sid=mi(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=Gc();this.timestamp=t,this.started=t,e&&this.update(e)}return r.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Gc(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:mi()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},r.prototype.close=function(e){e?this.update({status:e}):this.status==="ok"?this.update({status:"exited"}):this.update()},r.prototype.toJSON=function(){return bi({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},r}(),Vc=4,L3=100,ks=function(){function r(e,t,n){t===void 0&&(t=new zc),n===void 0&&(n=Vc),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return r.prototype.isOlderThan=function(e){return this._version<e},r.prototype.bindClient=function(e){var t=this.getStackTop();t.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},r.prototype.pushScope=function(){var e=zc.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},r.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},r.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},r.prototype.getClient=function(){return this.getStackTop().client},r.prototype.getScope=function(){return this.getStackTop().scope},r.prototype.getStack=function(){return this._stack},r.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},r.prototype.captureException=function(e,t){var n=this._lastEventId=mi(),i=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,de(de({},i),{event_id:n})),n},r.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=mi(),a=n;if(!n){var o=void 0;try{throw new Error(e)}catch(s){o=s}a={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,de(de({},a),{event_id:i})),i},r.prototype.captureEvent=function(e,t){var n=mi();return e.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",e,de(de({},t),{event_id:n})),n},r.prototype.lastEventId=function(){return this._lastEventId},r.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,a=n.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,c=s===void 0?null:s,f=o.maxBreadcrumbs,u=f===void 0?L3:f;if(!(u<=0)){var l=vh(),m=de({timestamp:l},e),v=c?_s(function(){return c(m,t)}):m;v!==null&&i.addBreadcrumb(v,u)}}},r.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},r.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},r.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},r.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},r.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},r.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},r.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,i=t.client;n&&i&&e(n)},r.prototype.run=function(e){var t=_h(this);try{e(this)}finally{_h(t)}},r.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch{return Wt.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},r.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},r.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},r.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},r.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},r.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},r.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,i=t.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,c=Ir(),f=(c.navigator||{}).userAgent,u=new B3(de(de(de({release:o,environment:s},n&&{user:n.getUser()}),f&&{userAgent:f}),e));if(n){var l=n.getSession&&n.getSession();l&&l.status==="ok"&&l.update({status:"exited"}),this.endSession(),n.setSession(u)}return u},r.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(!!t){var i=t.getSession&&t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},r.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[e]&&(t=s)[e].apply(t,Xn(n,[o]))},r.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=aa(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[e]=="function")return a.extensions[e].apply(this,t);Wt.warn("Extension method "+e+" couldn't be found, doing nothing.")},r}();function aa(){var r=Ir();return r.__SENTRY__=r.__SENTRY__||{extensions:{},hub:void 0},r}function _h(r){var e=aa(),t=Qn(e);return Wc(e,r),t}function Ts(){var r=aa();return(!Eh(r)||Qn(r).isOlderThan(Vc))&&Wc(r,new ks),ws()?U3(r):Qn(r)}function U3(r){try{var e=aa().__SENTRY__,t=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!t)return Qn(r);if(!Eh(t)||Qn(t).isOlderThan(Vc)){var n=Qn(r).getStackTop();Wc(t,new ks(n.client,zc.clone(n.scope)))}return Qn(t)}catch{return Qn(r)}}function Eh(r){return!!(r&&r.__SENTRY__&&r.__SENTRY__.hub)}function Qn(r){return r&&r.__SENTRY__&&r.__SENTRY__.hub||(r.__SENTRY__=r.__SENTRY__||{},r.__SENTRY__.hub=new ks),r.__SENTRY__.hub}function Wc(r,e){return r?(r.__SENTRY__=r.__SENTRY__||{},r.__SENTRY__.hub=e,!0):!1}function Sh(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Ts();if(n&&n[r])return n[r].apply(n,Xn(e));throw new Error("No hub defined or "+r+" was not found on the hub, please open a bug report.")}function R7(r,e){var t;try{throw new Error(r)}catch(a){t=a}var n=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return Sh("captureMessage",r,n,de({originalException:r,syntheticException:t},i))}function P7(r){Sh("setUser",r)}function $3(r){var e=Ts().getClient(),t=r||e&&e.getOptions();return!!t&&("tracesSampleRate"in t||"tracesSampler"in t)}function j3(r){var e=r||Ts(),t=e.getScope();return t&&t.getTransaction()}function H3(){bh("error",Ah),bh("unhandledrejection",Ah)}function Ah(){var r=j3();if(r){var e="internal_error";Wt.log("[Tracing] Transaction: "+e+" -> Global error occured"),r.setStatus(e)}}var q3=function(){function r(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return r.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},r}(),G3=function(){function r(e){if(this.traceId=mi(),this.spanId=mi().substring(16),this.startTimestamp=yh(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return r.prototype.child=function(e){return this.startChild(e)},r.prototype.startChild=function(e){var t=new r(de(de({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,t},r.prototype.setTag=function(e,t){var n;return this.tags=de(de({},this.tags),(n={},n[e]=t,n)),this},r.prototype.setData=function(e,t){var n;return this.data=de(de({},this.data),(n={},n[e]=t,n)),this},r.prototype.setStatus=function(e){return this.status=e,this},r.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=z3(e);return t!=="unknown_error"&&this.setStatus(t),this},r.prototype.isSuccess=function(){return this.status==="ok"},r.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:yh()},r.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},r.prototype.toContext=function(){return bi({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},r.prototype.updateWithContext=function(e){var t,n,i,a,o;return this.data=(t=e.data,t!=null?t:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(a=e.tags,a!=null?a:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},r.prototype.getTraceContext=function(){return bi({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},r.prototype.toJSON=function(){return bi({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},r}();function z3(r){if(r<400&&r>=100)return"ok";if(r>=400&&r<500)switch(r){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(r>=500&&r<600)switch(r){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var V3=function(r){s3(e,r);function e(t,n){var i=r.call(this,t)||this;return i._measurements={},i._hub=Ts(),Bc(n,ks)&&(i._hub=n),i.name=t.name||"",i.metadata=t.metadata||{},i._trimEnd=t.trimEnd,i.transaction=i,i}return e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){t===void 0&&(t=1e3),this.spanRecorder||(this.spanRecorder=new q3(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=de({},t)},e.prototype.setMetadata=function(t){this.metadata=de(de({},this.metadata),t)},e.prototype.finish=function(t){var n=this;if(this.endTimestamp===void 0){if(this.name||(Wt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),r.prototype.finish.call(this,t),this.sampled!==!0){Wt.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var i=this._hub.getClient(),a=i&&i.getTransport&&i.getTransport();a&&a.recordLostEvent&&a.recordLostEvent("sample_rate","transaction");return}var o=this.spanRecorder?this.spanRecorder.spans.filter(function(f){return f!==n&&f.endTimestamp}):[];this._trimEnd&&o.length>0&&(this.endTimestamp=o.reduce(function(f,u){return f.endTimestamp&&u.endTimestamp?f.endTimestamp>u.endTimestamp?f:u:f}).endTimestamp);var s={contexts:{trace:this.getTraceContext()},spans:o,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},c=Object.keys(this._measurements).length>0;return c&&(Wt.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),Wt.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(s)}},e.prototype.toContext=function(){var t=r.prototype.toContext.call(this);return bi(de(de({},t),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(t){var n;return r.prototype.updateWithContext.call(this,t),this.name=(n=t.name,n!=null?n:""),this._trimEnd=t.trimEnd,this},e}(G3);function W3(){var r=this.getScope();if(r){var e=r.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function K3(r,e,t){if(!$3(e))return r.sampled=!1,r;if(r.sampled!==void 0)return r.setMetadata({transactionSampling:{method:"explicitly_set"}}),r;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(t),r.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(n)}})):t.parentSampled!==void 0?(n=t.parentSampled,r.setMetadata({transactionSampling:{method:"inheritance"}})):(n=e.tracesSampleRate,r.setMetadata({transactionSampling:{method:"client_rate",rate:Number(n)}})),J3(n)?n?(r.sampled=Math.random()<n,r.sampled?(Wt.log("[Tracing] starting "+r.op+" transaction - "+r.name),r):(Wt.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),r)):(Wt.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),r.sampled=!1,r):(Wt.warn("[Tracing] Discarding transaction because of invalid sample rate."),r.sampled=!1,r)}function J3(r){return isNaN(r)||!(typeof r=="number"||typeof r=="boolean")?(Wt.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(r)+" of type "+JSON.stringify(typeof r)+"."),!1):r<0||r>1?(Wt.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+r+"."),!1):!0}function Y3(r,e){var t=this.getClient(),n=t&&t.getOptions()||{},i=new V3(r,this);return i=K3(i,n,de({parentSampled:r.parentSampled,transactionContext:r},e)),i.sampled&&i.initSpanRecorder(n._experiments&&n._experiments.maxSpans),i}function X3(){var r=aa();!r.__SENTRY__||(r.__SENTRY__.extensions=r.__SENTRY__.extensions||{},r.__SENTRY__.extensions.startTransaction||(r.__SENTRY__.extensions.startTransaction=Y3),r.__SENTRY__.extensions.traceHeaders||(r.__SENTRY__.extensions.traceHeaders=W3))}function Z3(){var r=aa();if(!!r.__SENTRY__){var e={mongodb:function(){var n=Zn(module,"./integrations/node/mongo");return new n.Mongo},mongoose:function(){var n=Zn(module,"./integrations/node/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=Zn(module,"./integrations/node/mysql");return new n.Mysql},pg:function(){var n=Zn(module,"./integrations/node/postgres");return new n.Postgres}},t=Object.keys(e).filter(function(n){return!!u3(n)}).map(function(n){try{return e[n]()}catch{return}}).filter(function(n){return n});t.length>0&&(r.__SENTRY__.integrations=Xn(r.__SENTRY__.integrations||[],t))}}function Q3(){X3(),ws()&&Z3(),H3()}Q3();const Pn=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],kh=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Ns(r){if(r>=kh.length)throw new Error("Unable to parse base64 string.");const e=kh[r];if(e===255)throw new Error("Unable to parse base64 string.");return e}function Th(r){let e="",t,n=r.length;for(t=2;t<n;t+=3)e+=Pn[r[t-2]>>2],e+=Pn[(r[t-2]&3)<<4|r[t-1]>>4],e+=Pn[(r[t-1]&15)<<2|r[t]>>6],e+=Pn[r[t]&63];return t===n+1&&(e+=Pn[r[t-2]>>2],e+=Pn[(r[t-2]&3)<<4],e+="=="),t===n&&(e+=Pn[r[t-2]>>2],e+=Pn[(r[t-2]&3)<<4|r[t-1]>>4],e+=Pn[(r[t-1]&15)<<2],e+="="),e}function Nh(r){if(r.length%4!=0)throw new Error("Unable to parse base64 string.");const e=r.indexOf("=");if(e!==-1&&e<r.length-2)throw new Error("Unable to parse base64 string.");let t=r.endsWith("==")?2:r.endsWith("=")?1:0,n=r.length,i=new Uint8Array(3*(n/4)),a;for(let o=0,s=0;o<n;o+=4,s+=3)a=Ns(r.charCodeAt(o))<<18|Ns(r.charCodeAt(o+1))<<12|Ns(r.charCodeAt(o+2))<<6|Ns(r.charCodeAt(o+3)),i[s]=a>>16,i[s+1]=a>>8&255,i[s+2]=a&255;return i.subarray(0,i.length-t)}function e6(r,e=new TextEncoder){return Th(e.encode(r))}function t6(r,e=new TextDecoder){return e.decode(Nh(r))}var D7=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bytesToBase64:Th,base64ToBytes:Nh,base64encode:e6,base64decode:t6}),Kc={exports:{}};(function(r){var e=function(){var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function o(c,f){if(!a[c]){a[c]={};for(var u=0;u<c.length;u++)a[c][c.charAt(u)]=u}return a[c][f]}var s={compressToBase64:function(c){if(c==null)return"";var f=s._compress(c,6,function(u){return n.charAt(u)});switch(f.length%4){default:case 0:return f;case 1:return f+"===";case 2:return f+"==";case 3:return f+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:s._decompress(c.length,32,function(f){return o(n,c.charAt(f))})},compressToUTF16:function(c){return c==null?"":s._compress(c,15,function(f){return t(f+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:s._decompress(c.length,16384,function(f){return c.charCodeAt(f)-32})},compressToUint8Array:function(c){for(var f=s.compress(c),u=new Uint8Array(f.length*2),l=0,m=f.length;l<m;l++){var v=f.charCodeAt(l);u[l*2]=v>>>8,u[l*2+1]=v%256}return u},decompressFromUint8Array:function(c){if(c==null)return s.decompress(c);for(var f=new Array(c.length/2),u=0,l=f.length;u<l;u++)f[u]=c[u*2]*256+c[u*2+1];var m=[];return f.forEach(function(v){m.push(t(v))}),s.decompress(m.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":s._compress(c,6,function(f){return i.charAt(f)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),s._decompress(c.length,32,function(f){return o(i,c.charAt(f))}))},compress:function(c){return s._compress(c,16,function(f){return t(f)})},_compress:function(c,f,u){if(c==null)return"";var l,m,v={},A={},N="",y="",k="",M=2,U=3,E=2,j=[],R=0,z=0,V;for(V=0;V<c.length;V+=1)if(N=c.charAt(V),Object.prototype.hasOwnProperty.call(v,N)||(v[N]=U++,A[N]=!0),y=k+N,Object.prototype.hasOwnProperty.call(v,y))k=y;else{if(Object.prototype.hasOwnProperty.call(A,k)){if(k.charCodeAt(0)<256){for(l=0;l<E;l++)R=R<<1,z==f-1?(z=0,j.push(u(R)),R=0):z++;for(m=k.charCodeAt(0),l=0;l<8;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1}else{for(m=1,l=0;l<E;l++)R=R<<1|m,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=0;for(m=k.charCodeAt(0),l=0;l<16;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1}M--,M==0&&(M=Math.pow(2,E),E++),delete A[k]}else for(m=v[k],l=0;l<E;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1;M--,M==0&&(M=Math.pow(2,E),E++),v[y]=U++,k=String(N)}if(k!==""){if(Object.prototype.hasOwnProperty.call(A,k)){if(k.charCodeAt(0)<256){for(l=0;l<E;l++)R=R<<1,z==f-1?(z=0,j.push(u(R)),R=0):z++;for(m=k.charCodeAt(0),l=0;l<8;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1}else{for(m=1,l=0;l<E;l++)R=R<<1|m,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=0;for(m=k.charCodeAt(0),l=0;l<16;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1}M--,M==0&&(M=Math.pow(2,E),E++),delete A[k]}else for(m=v[k],l=0;l<E;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1;M--,M==0&&(M=Math.pow(2,E),E++)}for(m=2,l=0;l<E;l++)R=R<<1|m&1,z==f-1?(z=0,j.push(u(R)),R=0):z++,m=m>>1;for(;;)if(R=R<<1,z==f-1){j.push(u(R));break}else z++;return j.join("")},decompress:function(c){return c==null?"":c==""?null:s._decompress(c.length,32768,function(f){return c.charCodeAt(f)})},_decompress:function(c,f,u){var l=[],m=4,v=4,A=3,N="",y=[],k,M,U,E,j,R,z,V={val:u(0),position:f,index:1};for(k=0;k<3;k+=1)l[k]=k;for(U=0,j=Math.pow(2,2),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;switch(U){case 0:for(U=0,j=Math.pow(2,8),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;z=t(U);break;case 1:for(U=0,j=Math.pow(2,16),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;z=t(U);break;case 2:return""}for(l[3]=z,M=z,y.push(z);;){if(V.index>c)return"";for(U=0,j=Math.pow(2,A),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;switch(z=U){case 0:for(U=0,j=Math.pow(2,8),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;l[v++]=t(U),z=v-1,m--;break;case 1:for(U=0,j=Math.pow(2,16),R=1;R!=j;)E=V.val&V.position,V.position>>=1,V.position==0&&(V.position=f,V.val=u(V.index++)),U|=(E>0?1:0)*R,R<<=1;l[v++]=t(U),z=v-1,m--;break;case 2:return y.join("")}if(m==0&&(m=Math.pow(2,A),A++),l[z])N=l[z];else if(z===v)N=M+M.charAt(0);else return null;y.push(N),l[v++]=M+N.charAt(0),m--,M=N,m==0&&(m=Math.pow(2,A),A++)}}};return s}();r!=null&&(r.exports=e)})(Kc);var r6=Kc.exports,F7=Object.freeze(x1({__proto__:null,[Symbol.toStringTag]:"Module",default:r6},[Kc.exports]));function n6(r){if(typeof r!="number")throw new TypeError("Expected a number");const e=r>0?Math.floor:Math.ceil;return{days:e(r/864e5),hours:e(r/36e5)%24,minutes:e(r/6e4)%60,seconds:e(r/1e3)%60,milliseconds:e(r)%1e3,microseconds:e(r*1e3)%1e3,nanoseconds:e(r*1e6)%1e3}}const i6=(r,e)=>e===1?r:`${r}s`,a6=1e-7;function B7(r,e={}){if(!Number.isFinite(r))throw new TypeError("Expected a finite number");e.colonNotation&&(e.compact=!1,e.formatSubMilliseconds=!1,e.separateMilliseconds=!1,e.verbose=!1),e.compact&&(e.secondsDecimalDigits=0,e.millisecondsDecimalDigits=0);const t=[],n=(o,s)=>{const c=Math.floor(o*10**s+a6);return(Math.round(c)/10**s).toFixed(s)},i=(o,s,c,f)=>{if((t.length===0||!e.colonNotation)&&o===0&&!(e.colonNotation&&c==="m"))return;f=(f||o||"0").toString();let u,l;if(e.colonNotation){u=t.length>0?":":"",l="";const m=f.includes(".")?f.split(".")[0].length:f.length,v=t.length>0?2:1;f="0".repeat(Math.max(0,v-m))+f}else u="",l=e.verbose?" "+i6(s,o):c;t.push(u+f+l)},a=n6(r);if(i(Math.trunc(a.days/365),"year","y"),i(a.days%365,"day","d"),i(a.hours,"hour","h"),i(a.minutes,"minute","m"),e.separateMilliseconds||e.formatSubMilliseconds||!e.colonNotation&&r<1e3)if(i(a.seconds,"second","s"),e.formatSubMilliseconds)i(a.milliseconds,"millisecond","ms"),i(a.microseconds,"microsecond","\xB5s"),i(a.nanoseconds,"nanosecond","ns");else{const o=a.milliseconds+a.microseconds/1e3+a.nanoseconds/1e6,s=typeof e.millisecondsDecimalDigits=="number"?e.millisecondsDecimalDigits:0,c=o>=1?Math.round(o):Math.ceil(o),f=s?o.toFixed(s):c;i(Number.parseFloat(f,10),"millisecond","ms",f)}else{const o=r/1e3%60,s=typeof e.secondsDecimalDigits=="number"?e.secondsDecimalDigits:1,c=n(o,s),f=e.keepDecimalsOnWholeSeconds?c:c.replace(/\.0+$/,"");i(Number.parseFloat(f,10),"second","s",f)}if(t.length===0)return"0"+(e.verbose?" milliseconds":"ms");if(e.compact)return t[0];if(typeof e.unitCount=="number"){const o=e.colonNotation?"":" ";return t.slice(0,Math.max(e.unitCount,1)).join(o)}return e.colonNotation?t.join(""):t.join(" ")}/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */function Jc(r){return parseInt(r)===r}function Ih(r){if(!Jc(r.length))return!1;for(var e=0;e<r.length;e++)if(!Jc(r[e])||r[e]<0||r[e]>255)return!1;return!0}function Lt(r,e){if(r.buffer&&r.name==="Uint8Array")return e&&(r.slice?r=r.slice():r=Array.prototype.slice.call(r)),r;if(Array.isArray(r)){if(!Ih(r))throw new Error("Array contains invalid value: "+r);return new Uint8Array(r)}if(Jc(r.length)&&Ih(r))return new Uint8Array(r);throw new Error("unsupported array-like object")}function Ut(r){return new Uint8Array(r)}function Zt(r,e,t,n,i){(n!=null||i!=null)&&(r.slice?r=r.slice(n,i):r=Array.prototype.slice.call(r,n,i)),e.set(r,t)}var o6=function(){function r(t){var n=[],i=0;for(t=encodeURI(t);i<t.length;){var a=t.charCodeAt(i++);a===37?(n.push(parseInt(t.substr(i,2),16)),i+=2):n.push(a)}return Lt(n)}function e(t){for(var n=[],i=0;i<t.length;){var a=t[i];a<128?(n.push(String.fromCharCode(a)),i++):a>191&&a<224?(n.push(String.fromCharCode((a&31)<<6|t[i+1]&63)),i+=2):(n.push(String.fromCharCode((a&15)<<12|(t[i+1]&63)<<6|t[i+2]&63)),i+=3)}return n.join("")}return{toBytes:r,fromBytes:e}}(),s6=function(){function r(n){for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substr(a,2),16));return i}var e="0123456789abcdef";function t(n){for(var i=[],a=0;a<n.length;a++){var o=n[a];i.push(e[(o&240)>>4]+e[o&15])}return i.join("")}return{toBytes:r,fromBytes:t}}(),c6={16:10,24:12,32:14},f6=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Cr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Is=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],u6=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],d6=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],l6=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],h6=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],x6=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],p6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b6=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],m6=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],g6=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],v6=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],y6=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],w6=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Yc(r){for(var e=[],t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}var bn=function(r){if(!(this instanceof bn))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:Lt(r,!0)}),this._prepare()};bn.prototype._prepare=function(){var r=c6[this.key.length];if(r==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=r;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var t=(r+1)*4,n=this.key.length/4,i=Yc(this.key),a,e=0;e<n;e++)a=e>>2,this._Ke[a][e%4]=i[e],this._Kd[r-a][e%4]=i[e];for(var o=0,s=n,c;s<t;){if(c=i[n-1],i[0]^=Cr[c>>16&255]<<24^Cr[c>>8&255]<<16^Cr[c&255]<<8^Cr[c>>24&255]^f6[o]<<24,o+=1,n!=8)for(var e=1;e<n;e++)i[e]^=i[e-1];else{for(var e=1;e<n/2;e++)i[e]^=i[e-1];c=i[n/2-1],i[n/2]^=Cr[c&255]^Cr[c>>8&255]<<8^Cr[c>>16&255]<<16^Cr[c>>24&255]<<24;for(var e=n/2+1;e<n;e++)i[e]^=i[e-1]}for(var e=0,f,u;e<n&&s<t;)f=s>>2,u=s%4,this._Ke[f][u]=i[e],this._Kd[r-f][u]=i[e++],s++}for(var f=1;f<r;f++)for(var u=0;u<4;u++)c=this._Kd[f][u],this._Kd[f][u]=g6[c>>24&255]^v6[c>>16&255]^y6[c>>8&255]^w6[c&255]};bn.prototype.encrypt=function(r){if(r.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,t=[0,0,0,0],n=Yc(r),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var a=1;a<e;a++){for(var i=0;i<4;i++)t[i]=u6[n[i]>>24&255]^d6[n[(i+1)%4]>>16&255]^l6[n[(i+2)%4]>>8&255]^h6[n[(i+3)%4]&255]^this._Ke[a][i];n=t.slice()}for(var o=Ut(16),s,i=0;i<4;i++)s=this._Ke[e][i],o[4*i]=(Cr[n[i]>>24&255]^s>>24)&255,o[4*i+1]=(Cr[n[(i+1)%4]>>16&255]^s>>16)&255,o[4*i+2]=(Cr[n[(i+2)%4]>>8&255]^s>>8)&255,o[4*i+3]=(Cr[n[(i+3)%4]&255]^s)&255;return o};bn.prototype.decrypt=function(r){if(r.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,t=[0,0,0,0],n=Yc(r),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var a=1;a<e;a++){for(var i=0;i<4;i++)t[i]=x6[n[i]>>24&255]^p6[n[(i+3)%4]>>16&255]^b6[n[(i+2)%4]>>8&255]^m6[n[(i+1)%4]&255]^this._Kd[a][i];n=t.slice()}for(var o=Ut(16),s,i=0;i<4;i++)s=this._Kd[e][i],o[4*i]=(Is[n[i]>>24&255]^s>>24)&255,o[4*i+1]=(Is[n[(i+3)%4]>>16&255]^s>>16)&255,o[4*i+2]=(Is[n[(i+2)%4]>>8&255]^s>>8)&255,o[4*i+3]=(Is[n[(i+1)%4]&255]^s)&255;return o};var Cs=function(r){if(!(this instanceof Cs))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new bn(r)};Cs.prototype.encrypt=function(r){if(r=Lt(r),r.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=Ut(r.length),t=Ut(16),n=0;n<r.length;n+=16)Zt(r,t,0,n,n+16),t=this._aes.encrypt(t),Zt(t,e,n);return e};Cs.prototype.decrypt=function(r){if(r=Lt(r),r.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=Ut(r.length),t=Ut(16),n=0;n<r.length;n+=16)Zt(r,t,0,n,n+16),t=this._aes.decrypt(t),Zt(t,e,n);return e};var Ms=function(r,e){if(!(this instanceof Ms))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!e)e=Ut(16);else if(e.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=Lt(e,!0),this._aes=new bn(r)};Ms.prototype.encrypt=function(r){if(r=Lt(r),r.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=Ut(r.length),t=Ut(16),n=0;n<r.length;n+=16){Zt(r,t,0,n,n+16);for(var i=0;i<16;i++)t[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(t),Zt(this._lastCipherblock,e,n)}return e};Ms.prototype.decrypt=function(r){if(r=Lt(r),r.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=Ut(r.length),t=Ut(16),n=0;n<r.length;n+=16){Zt(r,t,0,n,n+16),t=this._aes.decrypt(t);for(var i=0;i<16;i++)e[n+i]=t[i]^this._lastCipherblock[i];Zt(r,this._lastCipherblock,0,n,n+16)}return e};var Os=function(r,e,t){if(!(this instanceof Os))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!e)e=Ut(16);else if(e.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");t||(t=1),this.segmentSize=t,this._shiftRegister=Lt(e,!0),this._aes=new bn(r)};Os.prototype.encrypt=function(r){if(r.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e=Lt(r,!0),t,n=0;n<e.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)e[n+i]^=t[i];Zt(this._shiftRegister,this._shiftRegister,0,this.segmentSize),Zt(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return e};Os.prototype.decrypt=function(r){if(r.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e=Lt(r,!0),t,n=0;n<e.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)e[n+i]^=t[i];Zt(this._shiftRegister,this._shiftRegister,0,this.segmentSize),Zt(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return e};var qa=function(r,e){if(!(this instanceof qa))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!e)e=Ut(16);else if(e.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=Lt(e,!0),this._lastPrecipherIndex=16,this._aes=new bn(r)};qa.prototype.encrypt=function(r){for(var e=Lt(r,!0),t=0;t<e.length;t++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[t]^=this._lastPrecipher[this._lastPrecipherIndex++];return e};qa.prototype.decrypt=qa.prototype.encrypt;var gi=function(r){if(!(this instanceof gi))throw Error("Counter must be instanitated with `new`");r!==0&&!r&&(r=1),typeof r=="number"?(this._counter=Ut(16),this.setValue(r)):this.setBytes(r)};gi.prototype.setValue=function(r){if(typeof r!="number"||parseInt(r)!=r)throw new Error("invalid counter value (must be an integer)");if(r>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var e=15;e>=0;--e)this._counter[e]=r%256,r=parseInt(r/256)};gi.prototype.setBytes=function(r){if(r=Lt(r,!0),r.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=r};gi.prototype.increment=function(){for(var r=15;r>=0;r--)if(this._counter[r]===255)this._counter[r]=0;else{this._counter[r]++;break}};var Ga=function(r,e){if(!(this instanceof Ga))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",e instanceof gi||(e=new gi(e)),this._counter=e,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new bn(r)};Ga.prototype.encrypt=function(r){for(var e=Lt(r,!0),t=0;t<e.length;t++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[t]^=this._remainingCounter[this._remainingCounterIndex++];return e};Ga.prototype.decrypt=Ga.prototype.encrypt;function _6(r){r=Lt(r,!0);var e=16-r.length%16,t=Ut(r.length+e);Zt(r,t);for(var n=r.length;n<t.length;n++)t[n]=e;return t}function E6(r){if(r=Lt(r,!0),r.length<16)throw new Error("PKCS#7 invalid length");var e=r[r.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var t=r.length-e,n=0;n<e;n++)if(r[t+n]!==e)throw new Error("PKCS#7 invalid padding byte");var i=Ut(t);return Zt(r,i,0,0,t),i}var L7={AES:bn,Counter:gi,ModeOfOperation:{ecb:Cs,cbc:Ms,cfb:Os,ofb:qa,ctr:Ga},utils:{hex:s6,utf8:o6},padding:{pkcs7:{pad:_6,strip:E6}},_arrayTest:{coerceArray:Lt,createArray:Ut,copyArray:Zt}};const S6=(r,e)=>e.some(t=>r instanceof t);let Ch,Mh;function A6(){return Ch||(Ch=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k6(){return Mh||(Mh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Oh=new WeakMap,Xc=new WeakMap,Rh=new WeakMap,Zc=new WeakMap,Qc=new WeakMap;function T6(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",o)},a=()=>{t(ei(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Oh.set(t,r)}).catch(()=>{}),Qc.set(e,r),e}function N6(r){if(Xc.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",o),r.removeEventListener("abort",o)},a=()=>{t(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",o),r.addEventListener("abort",o)});Xc.set(r,e)}let ef={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Xc.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Rh.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function I6(r){ef=r(ef)}function C6(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(tf(this),e,...t);return Rh.set(n,e.sort?e.sort():[e]),ei(n)}:k6().includes(r)?function(...e){return r.apply(tf(this),e),ei(Oh.get(this))}:function(...e){return ei(r.apply(tf(this),e))}}function M6(r){return typeof r=="function"?C6(r):(r instanceof IDBTransaction&&N6(r),S6(r,A6())?new Proxy(r,ef):r)}function ei(r){if(r instanceof IDBRequest)return T6(r);if(Zc.has(r))return Zc.get(r);const e=M6(r);return e!==r&&(Zc.set(r,e),Qc.set(e,r)),e}const tf=r=>Qc.get(r);function U7(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(r,e),s=ei(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ei(o.result),c.oldVersion,c.newVersion,ei(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),s.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const O6=["get","getKey","getAll","getAllKeys","count"],R6=["put","add","delete","clear"],rf=new Map;function Ph(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rf.get(e))return rf.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=R6.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||O6.includes(t)))return;const a=async function(o,...s){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(s.shift())),(await Promise.all([f[t](...s),i&&c.done]))[0]};return rf.set(e,a),a}I6(r=>vu(gu({},r),{get:(e,t,n)=>Ph(e,t)||r.get(e,t,n),has:(e,t)=>!!Ph(e,t)||r.has(e,t)}));const P6="solidity/5.5.0",D6=new RegExp("^bytes([0-9]+)$"),F6=new RegExp("^(u?int)([0-9]*)$"),B6=new RegExp("^(.*)\\[([0-9]*)\\]$"),L6="0000000000000000000000000000000000000000000000000000000000000000",oa=new L(P6);function Dh(r,e,t){switch(r){case"address":return t?Go(e,32):ne(e);case"string":return qt(e);case"bytes":return ne(e);case"bool":return e=e?"0x01":"0x00",t?Go(e,32):ne(e)}let n=r.match(F6);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||i===0||i>256)&&oa.throwArgumentError("invalid number type","type",r),t&&(i=256),e=oe.from(e).toTwos(i),Go(e,i/8)}if(n=r.match(D6),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&oa.throwArgumentError("invalid bytes type","type",r),ne(e).byteLength!==i&&oa.throwArgumentError(`invalid value for ${r}`,"value",e),t?ne((e+L6).substring(0,66)):e}if(n=r.match(B6),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&oa.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(s){o.push(Dh(i,s,!0))}),mt(o)}return oa.throwArgumentError("invalid type","type",r)}function U6(r,e){r.length!=e.length&&oa.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(Dh(n,e[i]))}),ce(mt(t))}function $7(r,e){return ct(U6(r,e))}const za="abi/5.5.0",He=new L(za),vi={};let Fh={calldata:!0,memory:!0,storage:!0},$6={calldata:!0,memory:!0};function Rs(r,e){if(r==="bytes"||r==="string"){if(Fh[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&$6[e])return!0;return(Fh[e]||e==="payable")&&He.throwArgumentError("invalid modifier","name",e),!1}function j6(r,e){let t=r;function n(s){He.throwArgumentError(`unexpected character at position ${s}`,"param",r)}r=r.replace(/\s/g," ");function i(s){let c={type:"",name:"",parent:s,state:{allowType:!0}};return e&&(c.indexed=!1),c}let a={type:"",name:"",state:{allowType:!0}},o=a;for(let s=0;s<r.length;s++){let c=r[s];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=sa(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(s),o.indexed=!0,o.name=""),Rs(o.type,o.name)&&(o.name=""),o.type=sa(o.type);let f=o;o=o.parent,o||n(s),delete f.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(s),o.indexed=!0,o.name=""),Rs(o.type,o.name)&&(o.name=""),o.type=sa(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=sa(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):Rs(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(s)}}return o.parent&&He.throwArgumentError("unexpected eof","param",r),delete a.state,o.name==="indexed"?(e||n(t.length-7),o.indexed&&n(t.length-7),o.indexed=!0,o.name=""):Rs(o.type,o.name)&&(o.name=""),a.type=sa(a.type),a}function Ps(r,e){for(let t in e)K(r,t,e[t])}const We=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),H6=new RegExp(/^(.*)\[([0-9]*)\]$/);class Pt{constructor(e,t){e!==vi&&He.throwError("use fromString",L.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ps(this,t);let n=this.type.match(H6);n?Ps(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Pt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ps(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=We.sighash),We[e]||He.throwArgumentError("invalid format type","format",e),e===We.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==We.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===We.full?", ":",")+")"):t+=this.type,e!==We.sighash&&(this.indexed===!0&&(t+=" indexed"),e===We.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Pt.fromString(e,t):Pt.fromObject(e)}static fromObject(e){return Pt.isParamType(e)?e:new Pt(vi,{name:e.name||null,type:sa(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Pt.fromObject):null})}static fromString(e,t){function n(i){return Pt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(j6(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Va(r,e){return G6(r).map(t=>Pt.fromString(t,e))}class Dn{constructor(e,t){e!==vi&&He.throwError("use a static from method",L.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ps(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Dn.isFragment(e)?e:typeof e=="string"?Dn.fromString(e):Dn.fromObject(e)}static fromObject(e){if(Dn.isFragment(e))return e;switch(e.type){case"function":return gn.fromObject(e);case"event":return Fn.fromObject(e);case"constructor":return mn.fromObject(e);case"error":return ti.fromObject(e);case"fallback":case"receive":return null}return He.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Fn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?gn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?mn.fromString(e.trim()):e.split(" ")[0]==="error"?ti.fromString(e.substring(5).trim()):He.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Fn extends Dn{format(e){if(e||(e=We.sighash),We[e]||He.throwArgumentError("invalid format type","format",e),e===We.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==We.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===We.full?", ":",")+") ",e!==We.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Fn.fromString(e):Fn.fromObject(e)}static fromObject(e){if(Fn.isEventFragment(e))return e;e.type!=="event"&&He.throwArgumentError("invalid event object","value",e);const t={name:Wa(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Pt.fromObject):[],type:"event"};return new Fn(vi,t)}static fromString(e){let t=e.match(Ka);t||He.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:He.warn("unknown modifier: "+i)}}),Fn.fromObject({name:t[1].trim(),anonymous:n,inputs:Va(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Bh(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&He.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||He.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=oe.from(t[1]),t[0]):r}function Lh(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Uh(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&He.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&He.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&He.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&He.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&He.throwArgumentError("unable to determine stateMutability","value",r),e}class mn extends Dn{format(e){if(e||(e=We.sighash),We[e]||He.throwArgumentError("invalid format type","format",e),e===We.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===We.sighash&&He.throwError("cannot format a constructor for sighash",L.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===We.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?mn.fromString(e):mn.fromObject(e)}static fromObject(e){if(mn.isConstructorFragment(e))return e;e.type!=="constructor"&&He.throwArgumentError("invalid constructor object","value",e);let t=Uh(e);t.constant&&He.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Pt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?oe.from(e.gas):null};return new mn(vi,n)}static fromString(e){let t={type:"constructor"};e=Bh(e,t);let n=e.match(Ka);return(!n||n[1].trim()!=="constructor")&&He.throwArgumentError("invalid constructor string","value",e),t.inputs=Va(n[2].trim(),!1),Lh(n[3].trim(),t),mn.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class gn extends mn{format(e){if(e||(e=We.sighash),We[e]||He.throwArgumentError("invalid format type","format",e),e===We.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==We.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===We.full?", ":",")+") ",e!==We.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?gn.fromString(e):gn.fromObject(e)}static fromObject(e){if(gn.isFunctionFragment(e))return e;e.type!=="function"&&He.throwArgumentError("invalid function object","value",e);let t=Uh(e);const n={type:e.type,name:Wa(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Pt.fromObject):[],outputs:e.outputs?e.outputs.map(Pt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?oe.from(e.gas):null};return new gn(vi,n)}static fromString(e){let t={type:"function"};e=Bh(e,t);let n=e.split(" returns ");n.length>2&&He.throwArgumentError("invalid function string","value",e);let i=n[0].match(Ka);if(i||He.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Wa(t.name),t.inputs=Va(i[2],!1),Lh(i[3].trim(),t),n.length>1){let a=n[1].match(Ka);(a[1].trim()!=""||a[3].trim()!="")&&He.throwArgumentError("unexpected tokens","value",e),t.outputs=Va(a[2],!1)}else t.outputs=[];return gn.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function $h(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&He.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class ti extends Dn{format(e){if(e||(e=We.sighash),We[e]||He.throwArgumentError("invalid format type","format",e),e===We.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==We.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===We.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?ti.fromString(e):ti.fromObject(e)}static fromObject(e){if(ti.isErrorFragment(e))return e;e.type!=="error"&&He.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Wa(e.name),inputs:e.inputs?e.inputs.map(Pt.fromObject):[]};return $h(new ti(vi,t))}static fromString(e){let t={type:"error"},n=e.match(Ka);return n||He.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Wa(t.name),t.inputs=Va(n[2],!1),$h(ti.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function sa(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const q6=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Wa(r){return(!r||!r.match(q6))&&He.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Ka=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function G6(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let a=r[i];a===","&&n===0?(e.push(t),t=""):(t+=a,a==="("?n++:a===")"&&(n--,n===-1&&He.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const nf=new L(za);function z6(r){const e=[],t=function(n,i){if(!!Array.isArray(i))for(let a in i){const o=n.slice();o.push(a);try{t(o,i[a])}catch(s){e.push({path:o,error:s})}}};return t([],r),e}class Bn{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){nf.throwArgumentError(e,this.localName,t)}}class af{constructor(e){K(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Lr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(mt(e._data))}writeBytes(e){let t=ne(e);const n=t.length%this.wordSize;return n&&(t=mt([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=ne(oe.from(e));return t.length>this.wordSize&&nf.throwError("value out-of-bounds",L.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=mt([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Ds{constructor(e,t,n,i){K(this,"_data",ne(e)),K(this,"wordSize",t||32),K(this,"_coerceFunc",n),K(this,"allowLoose",i),this._offset=0}get data(){return ce(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Ds.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:nf.throwError("data out-of-bounds",L.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ds(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return oe.from(this.readBytes(this.wordSize))}}class V6 extends Bn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=gt(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return gt(ft(e.readValue().toHexString(),20))}}class W6 extends Bn{constructor(e){super(e.name,e.type,void 0,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const ca=new L(za);function jh(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{const u=f.localName;return u||ca.throwError("cannot encode object for signature with missing names",L.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[u]&&ca.throwError("cannot encode object for signature with duplicate names",L.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),c[u]=!0,t[u]})}else ca.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&ca.throwArgumentError("types/value length mismatch","tuple",t);let i=new af(r.wordSize),a=new af(r.wordSize),o=[];e.forEach((c,f)=>{let u=n[f];if(c.dynamic){let l=a.length;c.encode(a,u);let m=i.writeUpdatableValue();o.push(v=>{m(v+l)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let s=r.appendWriter(i);return s+=r.appendWriter(a),s}function Hh(r,e){let t=[],n=r.subReader(0);e.forEach(a=>{let o=null;if(a.dynamic){let s=r.readValue(),c=n.subReader(s.toNumber());try{o=a.decode(c)}catch(f){if(f.code===L.errors.BUFFER_OVERRUN)throw f;o=f,o.baseType=a.name,o.name=a.localName,o.type=a.type}}else try{o=a.decode(r)}catch(s){if(s.code===L.errors.BUFFER_OVERRUN)throw s;o=s,o.baseType=a.name,o.name=a.localName,o.type=a.type}o!=null&&t.push(o)});const i=e.reduce((a,o)=>{const s=o.localName;return s&&(a[s]||(a[s]=0),a[s]++),a},{});e.forEach((a,o)=>{let s=a.localName;if(!s||i[s]!==1||(s==="length"&&(s="_length"),t[s]!=null))return;const c=t[o];c instanceof Error?Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw c}}):t[s]=c});for(let a=0;a<t.length;a++){const o=t[a];o instanceof Error&&Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class K6 extends Bn{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",a=t===-1||e.dynamic;super("array",i,n,a);this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),ca.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<t.length;a++)i.push(this.coder);return jh(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&ca.throwError("insufficient data length",L.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new W6(this.coder));return e.coerce(this.name,Hh(e,n))}}class J6 extends Bn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class qh extends Bn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ne(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Y6 extends qh{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ce(super.decode(e)))}}class X6 extends Bn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=ne(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ce(e.readBytes(this.size)))}}class Z6 extends Bn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Q6 extends Bn{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1);this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=oe.from(t),i=Nb.mask(e.wordSize*8);if(this.signed){let a=i.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(Tb).mul(kb)))&&this._throwError("value out-of-bounds",t)}else(n.lt(yd)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}class e4 extends qh{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,qt(t))}decode(e){return Yo(super.decode(e))}}class Fs extends Bn{constructor(e,t){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,t,n);this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||t[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,t){return jh(e,this.coders,t)}decode(e){return e.coerce(this.name,Hh(e,this.coders))}}const Ja=new L(za),t4=new RegExp(/^bytes([0-9]*)$/),r4=new RegExp(/^(u?int)([0-9]*)$/);class of{constructor(e){Ja.checkNew(new.target,of),K(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new V6(e.name);case"bool":return new J6(e.name);case"string":return new e4(e.name);case"bytes":return new Y6(e.name);case"array":return new K6(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Fs((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Z6(e.name)}let t=e.type.match(r4);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!=0)&&Ja.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Q6(n/8,t[1]==="int",e.name)}if(t=e.type.match(t4),t){let n=parseInt(t[1]);return(n===0||n>32)&&Ja.throwArgumentError("invalid bytes length","param",e),new X6(n,e.name)}return Ja.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Ds(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new af(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Pt.from(i)));return new Fs(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Ja.throwError("types/values length mismatch",L.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(o=>this._getCoder(Pt.from(o))),i=new Fs(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}decode(e,t,n){const i=e.map(o=>this._getCoder(Pt.from(o)));return new Fs(i,"_").decode(this._getReader(ne(t),n))}}const n4=new of,dt=new L(za);class i4 extends $i{}class a4 extends $i{}class o4 extends $i{}class sf extends $i{static isIndexed(e){return!!(e&&e._isIndexed)}}const s4={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Gh(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Ya{constructor(e){dt.checkNew(new.target,Ya);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,K(this,"fragments",t.map(n=>Dn.from(n)).filter(n=>n!=null)),K(this,"_abiCoder",nr(new.target,"getAbiCoder")()),K(this,"functions",{}),K(this,"errors",{}),K(this,"events",{}),K(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){dt.warn("duplicate definition - constructor");return}K(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let a=n.format();if(i[a]){dt.warn("duplicate definition - "+a);return}i[a]=n}),this.deploy||K(this,"deploy",mn.from({payable:!1,type:"constructor"})),K(this,"_isInterface",!0)}format(e){e||(e=We.full),e===We.sighash&&dt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===We.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return n4}static getAddress(e){return gt(e)}static getSighash(e){return Sr(si(e.format()),0,4)}static getEventTopic(e){return si(e.format())}getFunction(e){if(Re(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];dt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return i.length===0?dt.throwArgumentError("no matching function","name",n):i.length>1&&dt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[gn.fromString(e).format()];return t||dt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Re(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];dt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return i.length===0?dt.throwArgumentError("no matching event","name",n):i.length>1&&dt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[Fn.fromString(e).format()];return t||dt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Re(e)){const n=nr(this.constructor,"getSighash");for(const i in this.errors){const a=this.errors[i];if(e===n(a))return this.errors[i]}dt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return i.length===0?dt.throwArgumentError("no matching error","name",n):i.length>1&&dt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[gn.fromString(e).format()];return t||dt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return nr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),nr(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=ne(t);return ce(n.slice(0,4))!==this.getSighash(e)&&dt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ce(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ce(mt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=ne(t);return ce(n.slice(0,4))!==this.getSighash(e)&&dt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ce(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ce(mt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=ne(t),i=null,a=null,o=null,s=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const c=ce(n.slice(0,4)),f=s4[c];if(f)a=this._abiCoder.decode(f.inputs,n.slice(4)),o=f.name,s=f.signature,f.reason&&(i=a[0]);else try{const u=this.getError(c);a=this._abiCoder.decode(u.inputs,n.slice(4)),o=u.name,s=u.format()}catch(u){console.log(u)}break}}return dt.throwError("call revert exception",L.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:a,errorName:o,errorSignature:s,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ce(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&dt.throwError("too many arguments for "+e.format(),L.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(a,o)=>a.type==="string"?si(o):a.type==="bytes"?ct(ce(o)):(a.type==="address"&&this._abiCoder.encode(["address"],[o]),ft(ce(o),32));for(t.forEach((a,o)=>{let s=e.inputs[o];if(!s.indexed){a!=null&&dt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,a);return}a==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?dt.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,a):Array.isArray(a)?n.push(a.map(c=>i(s,c))):n.push(i(s,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&dt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,s)=>{const c=t[s];if(o.indexed)if(o.type==="string")n.push(si(c));else if(o.type==="bytes")n.push(ct(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),a.push(c)}),{data:this._abiCoder.encode(i,a),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let m=this.getEventTopic(e);(!Re(n[0],32)||n[0].toLowerCase()!==m)&&dt.throwError("fragment/topic mismatch",L.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:m,value:n[0]}),n=n.slice(1)}let i=[],a=[],o=[];e.inputs.forEach((m,v)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(Pt.fromObject({type:"bytes32",name:m.name})),o.push(!0)):(i.push(m),o.push(!1)):(a.push(m),o.push(!1))});let s=n!=null?this._abiCoder.decode(i,mt(n)):null,c=this._abiCoder.decode(a,t,!0),f=[],u=0,l=0;e.inputs.forEach((m,v)=>{if(m.indexed)if(s==null)f[v]=new sf({_isIndexed:!0,hash:null});else if(o[v])f[v]=new sf({_isIndexed:!0,hash:s[l++]});else try{f[v]=s[l++]}catch(A){f[v]=A}else try{f[v]=c[u++]}catch(A){f[v]=A}if(m.name&&f[m.name]==null){const A=f[v];A instanceof Error?Object.defineProperty(f,m.name,{enumerable:!0,get:()=>{throw Gh(`property ${JSON.stringify(m.name)}`,A)}}):f[m.name]=A}});for(let m=0;m<f.length;m++){const v=f[m];v instanceof Error&&Object.defineProperty(f,m,{enumerable:!0,get:()=>{throw Gh(`index ${m}`,v)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new a4({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:oe.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new i4({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ce(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new o4({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const c4="contracts/5.5.0";var yi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const vt=new L(c4);function Bs(r,e){return yi(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&vt.throwArgumentError("invalid address or ENS name","name",t);try{return gt(t)}catch{}r||vt.throwError("a provider or signer is needed to resolve ENS names",L.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&vt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function Ls(r,e,t){return yi(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>Ls(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield Bs(r,e):t.type==="tuple"?yield Ls(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Ls(r,n,t.arrayChildren))):Promise.reject(vt.makeError("invalid value for array",L.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Us(r,e,t){return yi(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=At(t.pop())),vt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=St({override:Bs(r.signer,n.from),signer:r.signer.getAddress()}).then(f=>yi(this,void 0,void 0,function*(){return gt(f.signer)!==f.override&&vt.throwError("Contract with a Signer cannot override from",L.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=r.signer.getAddress():n.from&&(n.from=Bs(r.provider,n.from));const i=yield St({args:Ls(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:St(n)||{}}),a=r.interface.encodeFunctionData(e,i.args),o={data:a,to:i.address},s=i.overrides;if(s.nonce!=null&&(o.nonce=oe.from(s.nonce).toNumber()),s.gasLimit!=null&&(o.gasLimit=oe.from(s.gasLimit)),s.gasPrice!=null&&(o.gasPrice=oe.from(s.gasPrice)),s.maxFeePerGas!=null&&(o.maxFeePerGas=oe.from(s.maxFeePerGas)),s.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=oe.from(s.maxPriorityFeePerGas)),s.from!=null&&(o.from=s.from),s.type!=null&&(o.type=s.type),s.accessList!=null&&(o.accessList=li(s.accessList)),o.gasLimit==null&&e.gas!=null){let f=21e3;const u=ne(a);for(let l=0;l<u.length;l++)f+=4,u[l]&&(f+=64);o.gasLimit=oe.from(e.gas).add(f)}if(s.value){const f=oe.from(s.value);!f.isZero()&&!e.payable&&vt.throwError("non-payable method cannot override value",L.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=f}s.customData&&(o.customData=At(s.customData)),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&vt.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,L.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function f4(r,e){return function(...t){return Us(r,e,t)}}function u4(r,e){const t=r.signer||r.provider;return function(...n){return yi(this,void 0,void 0,function*(){t||vt.throwError("estimate require a provider or signer",L.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Us(r,e,n);return yield t.estimateGas(i)})}}function d4(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(a=>{let o=ur(a),s=null;try{s=r.interface.parseLog(a)}catch{}return s&&(o.args=s.args,o.decode=(c,f)=>r.interface.decodeEventLog(s.eventFragment,c,f),o.event=s.name,o.eventSignature=s.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(i.blockHash),o.getTransaction=()=>r.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function zh(r,e,t){const n=r.signer||r.provider;return function(...i){return yi(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=At(i.pop());c.blockTag!=null&&(a=yield c.blockTag),delete c.blockTag,i.push(c)}r.deployTransaction!=null&&(yield r._deployed(a));const o=yield Us(r,e,i),s=yield n.call(o,a);try{let c=r.interface.decodeFunctionResult(e,s);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===L.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=i,c.transaction=o),c}})}}function l4(r,e){return function(...t){return yi(this,void 0,void 0,function*(){r.signer||vt.throwError("sending a transaction requires a signer",L.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield Us(r,e,t),i=yield r.signer.sendTransaction(n);return d4(r,i),i})}}function Vh(r,e,t){return e.constant?zh(r,e,t):l4(r,e)}function Wh(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Xa{constructor(e,t){K(this,"tag",e),K(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class h4 extends Xa{constructor(){super("error",null)}}class Kh extends Xa{constructor(e,t,n,i){const a={address:e};let o=t.getEventTopic(n);i?(o!==i[0]&&vt.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[o];super(Wh(a),a);K(this,"address",e),K(this,"interface",t),K(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=z6(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Jh extends Xa{constructor(e,t){super("*",{address:e});K(this,"address",e),K(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class x4{constructor(e,t,n){vt.checkNew(new.target,cf),K(this,"interface",nr(new.target,"getInterface")(t)),n==null?(K(this,"provider",null),K(this,"signer",null)):ra.isSigner(n)?(K(this,"provider",n.provider||null),K(this,"signer",n)):oi.isProvider(n)?(K(this,"provider",n),K(this,"signer",null)):vt.throwArgumentError("invalid signer or provider","signerOrProvider",n),K(this,"callStatic",{}),K(this,"estimateGas",{}),K(this,"functions",{}),K(this,"populateTransaction",{}),K(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(s=>{const c=this.interface.events[s];K(this.filters,s,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),o[c.name]||(o[c.name]=[]),o[c.name].push(s)}),Object.keys(o).forEach(s=>{const c=o[s];c.length===1?K(this.filters,s,this.filters[c[0]]):vt.warn(`Duplicate definition of ${s} (${c.join(", ")})`)})}if(K(this,"_runningEvents",{}),K(this,"_wrappedEmits",{}),e==null&&vt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),K(this,"address",e),this.provider)K(this,"resolvedAddress",Bs(this.provider,e));else try{K(this,"resolvedAddress",Promise.resolve(gt(e)))}catch{vt.throwError("provider is required to use ENS name as contract address",L.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const i={},a={};Object.keys(this.interface.functions).forEach(o=>{const s=this.interface.functions[o];if(a[o]){vt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}a[o]=!0;{const c=s.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&K(this,o,Vh(this,s,!0)),this.functions[o]==null&&K(this.functions,o,Vh(this,s,!1)),this.callStatic[o]==null&&K(this.callStatic,o,zh(this,s,!0)),this.populateTransaction[o]==null&&K(this.populateTransaction,o,f4(this,s)),this.estimateGas[o]==null&&K(this.estimateGas,o,u4(this,s))}),Object.keys(i).forEach(o=>{const s=i[o];if(s.length>1)return;o=o.substring(1);const c=s[0];try{this[o]==null&&K(this,o,this[c])}catch{}this.functions[o]==null&&K(this.functions,o,this.functions[c]),this.callStatic[o]==null&&K(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&K(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&K(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return Bd(e)}static getInterface(e){return Ya.isInterface(e)?e:new Ya(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&vt.throwError("contract not deployed",L.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||vt.throwError("sending a transactions require a signer",L.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=At(e||{});return["from","to"].forEach(function(n){t[n]!=null&&vt.throwError("cannot override "+n,L.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new ds(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&K(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return sf.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new h4);if(e==="event")return this._normalizeRunningEvent(new Xa("event",null));if(e==="*")return this._normalizeRunningEvent(new Jh(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Kh(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Kh(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Xa(Wh(t),t))}return this._normalizeRunningEvent(new Jh(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=ur(t);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||vt.throwError("events require a provider or a signer with a provider",L.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let o=this._wrapEvent(e,a,t);if(o.decodeError==null)try{const s=e.getEmit(o);this.emit(e.filter,...s)}catch(s){o.decodeError=s.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),a=At(i.filter);return typeof t=="string"&&Re(t,32)?(n!=null&&vt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=t):(a.fromBlock=t!=null?t:0,a.toBlock=n!=null?n:"latest"),this.provider.getLogs(a).then(o=>o.map(s=>this._wrapEvent(i,s,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class cf extends x4{}const wt=()=>{};function p4(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}const fa=[];function b4(r,e=wt){let t=null;const n=[];function i(s){if(p4(r,s)&&(r=s,t)){const c=!fa.length;for(let f=0;f<n.length;f+=1){const u=n[f];u[1](),fa.push(u,r)}if(c){for(let f=0;f<fa.length;f+=2)fa[f][0](fa[f+1]);fa.length=0}}}function a(s){i(s(r))}function o(s,c=wt){const f=[s,c];return n.push(f),n.length===1&&(t=e(i)||wt),s(r),()=>{const u=n.indexOf(f);u!==-1&&n.splice(u,1),n.length===0&&t!==null&&(t(),t=null)}}return{set:i,update:a,subscribe:o}}function Yh(){if(typeof window!="undefined"){const r=window;if(r.ethereum)return r.ethereum;if(r.web3)return r.web3.currentProvider}return null}function m4(){return new Promise(r=>{document.readyState!=="complete"?document.onreadystatechange=function(){document.readyState==="complete"&&(document.onreadystatechange=null,r(Yh()))}:r(Yh())})}function g4(r){if(r)return r.isMetaMask?"Metamask":r.isFrame?"Frame":navigator.userAgent.indexOf("Opera")!=-1||navigator.userAgent.indexOf("OPR/")!=-1?"Opera":"unknown"}function v4(r,e,t){return new Promise((n,i)=>{let a=!1;const o=setTimeout(()=>{a=!0,t?typeof t=="function"?n(t()):i(t.error||t):i(new Error("TimedOut"))},r);e.then(s=>{a||(clearTimeout(o),n(s))}).catch(s=>{a||(clearTimeout(o),i(s))})})}var ff=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const y4=Bo("web3w:ethers");function Xh(r,e,t,n){y4.log("PROXY",{name:e});const i=n?Object.assign({onContractTxRequested:wt,onContractTxCancelled:wt,onContractTxSent:wt},n):{onContractTxRequested:wt,onContractTxCancelled:wt,onContractTxSent:wt},{onContractTxRequested:a,onContractTxCancelled:o,onContractTxSent:s}=i,c={},f={},u=r.interface.fragments.filter(y=>y.type==="event").map(y=>JSON.parse(y.format("json"))),l=r.interface.functions,m={};for(const y of Object.keys(l))m[l[y].name]=y;const v={};for(const y of Object.keys(r))v[y]=r[y];v.functions={};for(const y of Object.keys(r.functions))v.functions[y]=r.functions[y];function A(y,k,M){let U=y[M];if(!U){let E=r.interface.functions[M];E||(E=r.interface.functions[m[M]]),U=new Proxy(k[M],{apply:(j,R,z)=>ff(this,void 0,void 0,function*(){const V=yield r.signer.getAddress(),te=z.length;let be=z,I;te===E.inputs.length+1&&typeof z[te-1]=="object"&&(be=be.slice(0,te-1),I=z[te-1]);let d;I&&(d=I.metadata,I=Object.assign({},I),delete I.metadata),I||(I={}),I.nonce||(I.nonce=yield r.signer.getTransactionCount()),a({to:r.address,from:V,chainId:t,eventsABI:u,contractName:e,args:be,method:M,overrides:I,metadata:d});let p;try{p=yield j.bind(k)(...be,I)}catch(g){throw o({to:r.address,from:V,chainId:t,eventsABI:u,contractName:e,args:be,method:M,overrides:I,metadata:d}),g}return s({hash:p.hash,to:r.address,from:V,chainId:t,eventsABI:u,contractName:e,args:be,method:M,overrides:I,metadata:d}),p})}),y[M]=U}return U}const N=new Proxy(v.functions,{get:(y,k)=>A(c,r.functions,k)});return new Proxy(v,{get:(y,k)=>k==="functions"?N:r.functions[k]?A(f,r,k):k==="_proxiedContract"?r:k==="connect"?M=>Xh(r.connect(M),e,t,n):k==="toJSON"?()=>({address:r.address,abi:r.interface.fragments,functionsSignatures:r.interface.fragments.map(M=>M.format("full"))}):r[k]})}function Zh(r,e,{onTxRequested:t,onTxCancelled:n,onTxSent:i,onSignatureRequested:a,onSignatureCancelled:o,onSignatureReceived:s}){e=Object.assign({sendTransaction:(u,l,m)=>ff(this,void 0,void 0,function*(){const v=yield r.getAddress(),A=yield(yield r.getChainId()).toString(),N=Object.assign({},m[0]),y=m.slice(1);let{nonce:k}=N;k||(k=N.nonce=yield r.getTransactionCount());const M=Object.assign(Object.assign({},N),{from:v,chainId:A,nonce:k});t(M);let U;try{U=yield u.bind(l)(N,...y)}catch(R){throw n(M),R}const j=(yield r.provider.getBlock("latest")).timestamp;return i(Object.assign(Object.assign({},U),{from:v,nonce:k,submissionBlockTime:j,chainId:A})),U}),signMessage:(u,l,m)=>ff(this,void 0,void 0,function*(){const v=yield r.getAddress(),A={from:v,message:m[0]};a(A);let N;try{N=yield u.bind(l)(...m)}catch(y){throw o(A),y}return s({from:v,signature:N}),N})},e);const c={};function f(u,l){let m=c[u];return m||(m=new Proxy(r[u],l),c[u]=m),m}return new Proxy(r,{get:(u,l)=>{const m=e[l];return m?f(l,{apply:m}):u[l]}})}function w4(r,e){return Zh(r,{},e)}function _4(r,e){return Zh(r,{connectUnchecked:(t,n,i)=>{const a=t.bind(n)(...i);return w4(a,e)}},e)}function uf(r,e){const t=e?Object.assign({onTxRequested:wt,onTxCancelled:wt,onTxSent:wt,onSignatureRequested:wt,onSignatureCancelled:wt,onSignatureReceived:wt},e):{onTxRequested:wt,onTxCancelled:wt,onTxSent:wt,onSignatureRequested:wt,onSignatureCancelled:wt,onSignatureReceived:wt},n=new Proxy(r.getSigner,{apply:(i,a,o)=>{const s=i.bind(r)(...o);return _4(s,t)}});return new Proxy(r,{get:(i,a)=>a==="getSigner"?n:i[a]})}const E4=6e3,df=6001,S4=1e3,Qh=2001,A4=2002,k4=2003;var Kt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const ve=Bo("web3w:index"),T4=typeof window!="undefined",wi={state:"Idle",probing:!1,available:void 0,error:void 0,vendor:void 0},ex={state:"Idle",fetching:!1,stale:void 0,amount:void 0,error:void 0,blockNumber:void 0},qe={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},lf={state:"Idle",connecting:!1,loadingData:!1,contracts:void 0,error:void 0},ye={state:"Idle",connecting:!1,disconnecting:!1,loadingModule:!1,unlocking:!1,address:void 0,options:["builtin"],selected:void 0,pendingUserConfirmation:void 0,error:void 0},Za={inProgress:!1,executing:!1,executionError:void 0,error:void 0};function _i(r){const e=b4(r);return e.data=r,e}const kt=[],lt=_i(ye),ua=_i(kt),Ei=_i(wi),Nt=_i(qe),Si=_i(lf),$s=_i(ex),st=_i(Za);let Ai="_web3w_transactions",js="_web3w_previous_wallet_type";function fe(r,e){for(const t of Object.keys(e)){const n=e,i=r;if(i.data[t]&&typeof n[t]=="object")for(const a of Object.keys(n[t]))i.data[t][a]=n[t][a];else i.data[t]=n[t]}try{ve.debug(JSON.stringify(r.data,null,"  "))}catch(t){ve.error(t,r.data)}r.set(r.data)}let ri=!1,ht,hf,Xe,xf,pf,zr,ki,xt,Mr,Qt,Ln,vn;const bf={};function N4(r,e){return Kt(this,void 0,void 0,function*(){let t;if(typeof window!="undefined")try{const n=`_genesis_${e}`,i=yield r.getBlock("earliest");bf[e]=i.hash;const a=localStorage.getItem(n);a!==i.hash?a?t=!0:(t=!1,localStorage.setItem(n,i.hash)):t=!1}catch{}return t})}function I4(r,e){return Kt(this,void 0,void 0,function*(){if(!ht)throw new Error("no provider setup");try{yield ht.send("wallet_switchEthereumChain",[{chainId:"0x"+parseInt(r).toString(16)}])}catch(t){if(t.code===4902)if(e&&e.rpcUrls&&e.rpcUrls.length>0)try{yield ht.send("wallet_addEthereumChain",[{chainId:"0x"+parseInt(r).toString(16),rpcUrls:e.rpcUrls,chainName:e.chainName,blockExplorerUrls:e.blockExplorerUrls,iconUrls:e.iconUrls,nativeCurrency:e.nativeCurrency}])}catch(n){if(n.code!==4001)fe(Nt,{error:n});else return}else fe(Nt,{error:{code:k4,message:"Chain not available on your wallet"}});else if(t.code!==4001)fe(Nt,{error:t});else return}})}function mf(r){return Kt(this,void 0,void 0,function*(){if(r==="0xNaN"){if(ve.warn("onChainChanged bug (return 0xNaN), metamask bug?"),!Xe)throw new Error("no web3Provider to get chainId");r=yield gf(Xe,"eth_chainId")}const e=parseInt(r.slice(2),16).toString();if(ve.debug("onChainChanged",{chainId:r,chainIdAsDecimal:e}),fe(Nt,{contracts:void 0,addresses:void 0,state:"Connected",chainId:e,notSupported:void 0}),ye.address){wf(ye.address,e),ve.log("LOAD_CHAIN from chainChanged");try{yield Vs(e,ye.address,!0)}catch{}}})}function tx(r){return r[0]!==ye.address}function Hs(r){return Kt(this,void 0,void 0,function*(){if(!tx(r)){ve.debug("false account changed",r);return}ve.debug("onAccountsChanged",{accounts:r});const e=r[0];if(e)if(fe(lt,{address:e,state:"Ready"}),qe.chainId&&wf(e,qe.chainId),qe.state==="Connected")if(qe.chainId){ve.log("LOAD_CHAIN from accountsChanged");try{yield Vs(qe.chainId,e,!1)}catch{}}else throw new Error("no chainId while connected");else lx(e);else gx(),fe(lt,{address:e,state:"Locked"}),lx(e)})}function gf(r,e,t){var n;if(r.request)return r.request({method:e,params:t});const i=(n=r.sendAsync)===null||n===void 0?void 0:n.bind(r);if(i)return new Promise((a,o)=>{i({method:e,params:t},(s,c)=>{s?o(s):c.error?o(c.error):a(c.result)})});throw new Error("provider not supported")}function rx(r){return new Promise(e=>{setTimeout(e,r)})}function C4(r,e){return Kt(this,void 0,void 0,function*(){for(;ri;){const t=yield gf(r,"eth_chainId"),n=parseInt(t.slice(2),16).toString();if(ri&&qe.chainId!==n)try{e(t)}catch(i){ve.error(i)}yield rx(3e3)}})}function nx(r,e){return Kt(this,void 0,void 0,function*(){for(;ri;){let t=[];try{t=yield gf(r,"eth_accounts")}catch{}if(ve.debug({accounts:t}),ri&&tx(t))try{e(t)}catch(n){ve.error(n)}yield rx(3e3)}})}function ix(){Xe&&!ri&&(ve.log("LISTENNING"),Xe.on?(Xe.on("chainChanged",mf),Xe.on("accountsChanged",Hs),nx(Xe,Hs)):(C4(Xe,mf),nx(Xe,Hs)),ri=!0)}function M4(){Xe&&ri&&(ve.log("STOP LISTENNING"),ve.debug("stop listenning for changes..."),Xe.removeListener&&Xe.removeListener("chainChanged",mf),Xe.removeListener&&Xe.removeListener("accountsChanged",Hs),ri=!1)}function ax(r){const e=r&&r.chainId;if(e){const t=parseInt(e.slice(2),16).toString();ve.debug("onConnect",{chainId:e,chainIdAsDecimal:t})}else ve.warn("onConnect","no connection object passed in")}function ox(r){ve.debug("onDisconnect",{error:r})}function O4(){Xe&&(ve.debug("listenning for connection..."),Xe.on&&Xe.on("connect",ax),Xe.on&&Xe.on("disconnect",ox))}function R4(){Xe&&(ve.debug("stop listenning for connection..."),Xe.removeListener&&Xe.removeListener("connect",ax),Xe.removeListener&&Xe.removeListener("disconnect",ox))}function sx(r){return typeof r=="string"&&r.length>2&&r.slice(0,2).toLowerCase()==="0x"}function P4(r){return sx(r)?""+parseInt(r.slice(2)):r}function D4(r){return sx(r)?r:"0x"+parseInt(r).toString(16)}function cx(r){ye.pendingUserConfirmation?ye.pendingUserConfirmation.push(r):ye.pendingUserConfirmation=[r],fe(lt,{pendingUserConfirmation:ye.pendingUserConfirmation})}function qs(r){if(ye.pendingUserConfirmation){const e=ye.pendingUserConfirmation.indexOf(r);e>=0&&(ye.pendingUserConfirmation.splice(e,1),ye.pendingUserConfirmation.length===0&&(ye.pendingUserConfirmation=void 0),fe(lt,{pendingUserConfirmation:ye.pendingUserConfirmation}))}}const Gs={onTxRequested:r=>{ve.debug("onTxRequested",{txRequest:r}),cx("transaction")},onTxCancelled:r=>{ve.debug("onTxCancelled",{txRequest:r}),qs("transaction")},onTxSent:({hash:r,from:e,gasLimit:t,nonce:n,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:o,data:s,value:c,chainId:f,to:u,submissionBlockTime:l})=>{if(ve.debug("onTxSent",{hash:r,from:e,gasLimit:t,nonce:n,gasPrice:i,data:s,value:c,chainId:f,to:u}),r){const m={hash:r,from:e,acknowledged:!1,status:"pending",to:u,nonce:n,gasLimit:t==null?void 0:t.toString(),gasPrice:i==null?void 0:i.toString(),maxFeePerGas:a==null?void 0:a.toString(),maxPriorityFeePerGas:o==null?void 0:o.toString(),data:s,value:c==null?void 0:c.toString(),submissionBlockTime:l,confirmations:0,finalized:!1};H4(e,f,m)}qs("transaction")},onSignatureRequested:r=>{ve.debug("onSignatureRequested",{sigRequest:r}),cx("signature")},onSignatureCancelled:r=>{ve.debug("onSignatureCancelled",{sigRequest:r}),qs("signature")},onSignatureReceived:r=>{ve.debug("onSignatureReceived",{sigResponse:r}),qs("signature")},onContractTxRequested:({from:r,contractName:e,method:t,overrides:n,metadata:i})=>{ve.debug("onContractTxRequest",{from:r,contractName:e,method:t,overrides:n,metadata:i})},onContractTxCancelled:({from:r,contractName:e,method:t,overrides:n,metadata:i})=>{ve.debug("onContractTxCancelled",{from:r,contractName:e,method:t,overrides:n,metadata:i})},onContractTxSent:({hash:r,from:e,contractName:t,method:n,args:i,eventsABI:a,overrides:o,metadata:s,to:c,chainId:f})=>{var u,l,m;if(ve.debug("onContractTxSent",{hash:r,from:e,contractName:t,method:n,args:i,eventsABI:a,overrides:o,metadata:s,to:c}),r){let v;o&&o.nonce&&(v=parseInt(o.nonce.toString()));const A={hash:r,from:e,acknowledged:!1,contractName:t,method:n,args:i,eventsABI:a,metadata:s,to:c,nonce:v,gasLimit:(u=o==null?void 0:o.gasLimit)===null||u===void 0?void 0:u.toString(),gasPrice:(l=o==null?void 0:o.gasPrice)===null||l===void 0?void 0:l.toString(),value:(m=o==null?void 0:o.value)===null||m===void 0?void 0:m.toString()};bx(e,f,A,!1)}}};function fx(r){try{localStorage.setItem(js,r)}catch{}}function F4(){try{return localStorage.getItem(js)}catch{return null}}let zs;function B4(r){return Kt(this,void 0,void 0,function*(){pf=r,xt.fallbackNode&&(yield _x(xt.fallbackNode,r)),qe.chainId&&ye.address&&(yield Vs(qe.chainId,ye.address,!1))})}function L4(r){return Kt(this,void 0,void 0,function*(){if(zs)try{yield zs}catch{}zs=B4(r),yield zs})}function ux(r,e){return Kt(this,void 0,void 0,function*(){const t=vf(e);let n;if(qe.state==="Idle"){fe(Nt,{connecting:!0});let i;try{i=(yield t.getNetwork()).chainId,i===0&&(i=1337,ve.error("giving chainId = 0, assume local 1337?"))}catch{const o={code:Qh,message:"Failed to fetch chainId"};throw fe(Nt,{error:o,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(o.message)}n=String(i),fe(Nt,{chainId:n,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"})}else n=qe.chainId;if(!n){const i={code:A4,message:"chainId is not set even though chain is connected"};throw fe(Nt,{error:i,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"}),new Error(i.message)}wf(r,n),ve.log("LOAD_CHAIN from setupChain");try{yield Vs(n,r,e)}catch{}})}function dx(r,e){if(r.chainId){const t=r;if(e===t.chainId||e==P4(t.chainId))return t.contracts;throw{code:df,message:`chainConfig only available for ${t.chainId}, not available for ${e}`}}else{const t=r,n=t[e]||t[D4(e)];if(n)return n.contracts;throw{code:df,message:`chainConfig not available for ${e}`}}}function Vs(r,e,t){return Kt(this,void 0,void 0,function*(){const n=vf(t);fe(Nt,{loadingData:!0});const i={},a={};let o=pf;if(xt.checkGenesis){const s=yield N4(n,r);qe.genesisChanged!==s&&fe(Nt,{genesisChanged:s})}if(typeof o=="function"&&(o=yield o(r)),o){let s;try{s=dx(o,r)}catch(c){if(c.code===df){fe(Nt,{chainId:r,notSupported:!0,connecting:!1,loadingData:!1,state:"Connected"});return}else throw fe(Nt,{error:c,chainId:r,connecting:!1,loadingData:!1,state:"Connected"}),new Error(c.message||c)}for(const c of Object.keys(s)){const f=s[c];f.abi&&(ve.log({contractName:c}),i[c]=Xh(new cf(f.address,f.abi,xt.transactions.waitForTransactionDetails?n.getSigner(e):n.getSigner(e).connectUnchecked()),c,r,Gs)),a[c]=f.address}}if(fe(Nt,{state:"Ready",loadingData:!1,connecting:!1,chainId:r,addresses:a,contracts:i}),ye.state==="Ready"&&(ve.log("READY"),Qt&&Za.executionError===void 0&&!Za.executing)){ve.log(" => executing...");const s=Qt;if(vn){let c;try{ve.log("executing after chain Setup"),c=vn(i)}catch(f){fe(st,{executionError:f,executing:!1});return}"then"in c?(fe(st,{error:void 0,executionError:void 0,executing:!0}),c.then(()=>{fe(st,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),s(i),Mr=void 0,Ln=void 0,Qt=void 0}).catch(f=>{fe(st,{executionError:f,executing:!1})})):(fe(st,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Qt(i),Mr=void 0,Ln=void 0,Qt=void 0)}else fe(st,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Qt(i),Mr=void 0,Ln=void 0,Qt=void 0}})}function vf(r){if(ht===void 0||Xe===void 0){const e={code:E4,message:"no provider setup yet"};throw fe(Nt,{error:e,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle",genesisChanged:void 0}),new Error(e.message)}else r&&(ht=uf(new ia(Xe),Gs));return ht}function lx(r){const e=vf(!1),t=qe.contracts;if(!!t)for(const n of Object.keys(t))t[n]=t[n].connect(r?e.getSigner(r):e)}function hx(r,e){return Kt(this,void 0,void 0,function*(){ye.selected&&(ye.state==="Ready"||ye.state==="Locked")&&(yield Qa());let t=r;if(!t)if(ki.length===0)t="builtin";else if(ki.length===1)t=ki[0];else{const a=`No Wallet Type Specified, choose from ${ye.options}`;throw new Error(a)}if(t=="builtin"&&wi.state==="Ready"&&!wi.available){const a="No Builtin Wallet";throw new Error(a)}if(fe(lt,{address:void 0,connecting:!0,selected:r,state:"Idle",error:void 0}),ht=void 0,Xe=void 0,t==="builtin"){zr=void 0;const a=yield yf();Xe=a,ht=uf(new ia(a),Gs)}else{let a;if(typeof t=="string"){if(ki)for(const o of ki)typeof o!="string"&&o.id===r&&(a=o)}else a=t,r=a.id;if(!a){const o=`no module found ${r}`;throw fe(lt,{error:{message:o,code:1},selected:void 0,connecting:!1}),new Error(o)}try{"load"in a&&(fe(lt,{loadingModule:!0}),a=yield a.load(),fe(lt,{loadingModule:!1})),ve.log("setting up module");const{web3Provider:o}=yield a.setup(e);ve.log("module setup"),Xe=o,ht=uf(new ia(Xe),Gs),zr=a}catch(o){throw o.message==="USER_CANCELED"?fe(lt,{connecting:!1,selected:void 0,loadingModule:!1}):fe(lt,{error:{code:S4,message:o.message},selected:void 0,connecting:!1,loadingModule:!1}),o}}if(!ht){const a=`no provider found for wallet type ${r}`;throw fe(lt,{error:{message:a,code:1},selected:void 0,connecting:!1}),new Error(a)}O4();let n;try{if(r==="builtin"&&wi.vendor==="Metamask")n=yield v4(4e3,ht.listAccounts(),{error:'Metamask timed out. Please reload the page (see <a href="https://github.com/MetaMask/metamask-extension/issues/7221">here</a>)'});else{ve.log("fetching accounts...");try{n=yield ht.listAccounts()}catch(a){if(a.code===4100)ve.log(`4100 ${a.name}`),n=[];else if(a.code===-32500&&a.message==="permission denied")wi.vendor==="Opera"?ve.log("permission denied (opera) crypto wallet not enabled?)"):ve.log("permission denied"),n=[];else if(a.code===4001)n=[];else throw a}ve.log(`accounts: ${n}`)}}catch(a){throw fe(lt,{error:a,selected:void 0,connecting:!1}),a}fx(r);const i=n&&n[0];i?(fe(lt,{address:i,state:"Ready",connecting:void 0}),ix(),ve.log("SETUP_CHAIN from select"),yield ux(i,!1)):(ix(),fe(lt,{address:void 0,state:"Locked",connecting:void 0}))})}let Ws;function yf(){return Ws||(Ws=new Promise((r,e)=>Kt(this,void 0,void 0,function*(){if(xf&&wi.state==="Ready")return r(xf);fe(Ei,{probing:!0});try{const t=yield m4();t?(t.autoRefreshOnNetworkChange=!1,xf=t,fe(Ei,{state:"Ready",vendor:g4(t),available:!0,probing:!1})):fe(Ei,{state:"Ready",vendor:void 0,available:!1,probing:!1}),r(t)}catch(t){return fe(Ei,{error:t.message||t,vendor:void 0,available:void 0,probing:!1}),e(t)}})),Ws)}function da(r,e){return Kt(this,void 0,void 0,function*(){return yield hx(r,e),ye.state==="Locked"?Ys():!0})}function Ks(r){return()=>{fe(r,{error:void 0})}}function Js(r){M4(),R4(),fe(lt,{state:"Idle",address:void 0,connecting:!1,unlocking:void 0,selected:void 0,error:void 0}),gx(),fe($s,{state:"Idle",amount:void 0,error:void 0,blockNumber:void 0}),fe(Nt,{contracts:void 0,addresses:void 0,state:"Idle",notSupported:void 0,chainId:void 0,error:void 0,genesisChanged:void 0}),r||(fe(st,{error:void 0,executing:!1,executionError:void 0,inProgress:!1}),vn=void 0,Ln=void 0,Qt=void 0,Mr=void 0),fx("")}function Qa(r){if(ye.disconnecting)throw new Error("already disconnecting");const e=r&&r.logout,t=r&&r.wait,n=r&&r.keepFlow;return new Promise((i,a)=>{if(zr)if(e){let o;try{o=zr.logout()}catch(s){a(s)}t&&o&&"then"in o?(fe(lt,{disconnecting:!0}),o.then(()=>{zr&&zr.disconnect(),zr=void 0,Js(n),fe(lt,{disconnecting:!1}),i()}).catch(s=>{fe(lt,{disconnecting:!1,error:s}),a(s)})):(zr.disconnect(),zr=void 0,Js(n),i())}else zr.disconnect(),zr=void 0,Js(n),i();else Js(n),i()})}let eo;function Ys(){if(eo)return eo;let r=!1;const e=new Promise((t,n)=>Kt(this,void 0,void 0,function*(){if(ye.state==="Locked"){fe(lt,{unlocking:!0});let i;try{i=yield ht==null?void 0:ht.send("eth_requestAccounts",[]),i=i||[]}catch(a){console.error(a),i=[]}if(i.length>0){const a=i[0];fe(lt,{address:a,state:"Ready",unlocking:void 0}),ve.log("SETUP_CHAIN from unlock"),yield ux(a,!0)}else return fe(lt,{unlocking:!1}),eo=void 0,r=!0,t(!1);return eo=void 0,r=!0,t(!0)}else return r=!0,n(new Error("Not Locked"))}));return r||(eo=e),e}function U4(){if(ve.log("RETRYING..."),fe(st,{executionError:void 0}),qe.state==="Ready"&&ye.state==="Ready")if(qe.contracts){const r=qe.contracts;if(vn){let e;try{ve.log("EXECUTING RETRY"),e=vn(r)}catch(t){return fe(st,{executionError:t,executing:!1}),Promise.reject(t)}if("then"in e)return fe(st,{executing:!0}),e.then(()=>(vn=void 0,fe(st,{inProgress:!1,error:void 0,executionError:void 0,executing:!1}),Qt&&Qt(r))).catch(t=>(fe(st,{executionError:t,executing:!1}),Promise.reject(t)))}return Qt&&Qt(r),Promise.resolve()}else return Promise.reject("contracts not set");return ye.state==="Locked"?xt.flow&&xt.flow.autoUnlock&&Ys().catch(r=>{fe(st,{error:r})}):ye.state==="Idle"&&ye.options.length===1&&xt.flow&&xt.flow.autoSelect&&da(ye.options[0]).catch(r=>{fe(st,{error:r})}),Mr?Mr.then(()=>{}):Promise.resolve()}function $4(r,e){return Za.inProgress&&px(),xx(void 0,r,e)}function j4(r){return xx(r)}function xx(r,e,t){if(Za.inProgress)throw new Error("flow in progress");if(qe.state==="Ready"&&ye.state==="Ready"&&(!e||e===ye.selected))if(Ln=void 0,Qt=void 0,Mr=void 0,qe.contracts){const n=qe.contracts;if(r){let i;try{ve.log("EXECUTING DIRECT"),i=r(n)}catch(a){return fe(st,{executionError:a,executing:!1}),Promise.reject(a)}if("then"in i)return vn=r,fe(st,{inProgress:!0,error:void 0,executing:!0}),i.then(()=>(vn=void 0,fe(st,{inProgress:!1,error:void 0,executionError:void 0}),n)).catch(a=>(fe(st,{executionError:a,executing:!1}),Promise.reject(a)))}return Promise.resolve(n)}else return Promise.reject("contracts not set");return Mr||(vn=r,fe(st,{inProgress:!0,executing:!1,executionError:void 0,error:void 0}),Mr=new Promise((n,i)=>{Qt=n,Ln=i}),e&&e!==ye.selected?ye.selected?Qa({keepFlow:!0}).catch(n=>{fe(st,{error:n})}).then(()=>{da(e,t).catch(n=>{fe(st,{error:{code:11,message:`failed to connect to ${e}`,errorObject:n}}),Qa()})}):da(e,t).catch(n=>{fe(st,{error:{code:11,message:`failed to connect to ${e}`,errorObject:n}}),Qa()}):ye.state==="Locked"?xt.flow&&xt.flow.autoUnlock&&Ys().catch(n=>{fe(st,{error:n})}):ye.state==="Idle"&&ye.options.length===1?xt.flow&&xt.flow.autoSelect&&da(ye.options[0]).catch(n=>{fe(st,{error:n})}):ye.selected&&qe.state==="Idle"&&da(ye.selected).catch(n=>{fe(st,{error:n})}),Mr)}function px(){Ln&&Ln({code:1,message:"Cancel"}),Mr=void 0,Ln=void 0,Qt=void 0,vn=void 0,fe(st,{inProgress:!1,error:void 0,executionError:void 0,executing:!1})}function H4(r,e,t){mx(r,e,t,!0)}function bx(r,e,t,n){mx(r,e,t,n)}function mx(r,e,t,n){if(ye.address&&ye.address.toLowerCase()===r.toLowerCase()&&qe.chainId&&e===qe.chainId){ve.log("TransactionRecord",t);const i=kt.find(a=>a.hash===t.hash);if(i){const a=i,o=t;for(const s of Object.keys(o))(n||!n&&a[s]===void 0)&&(a[s]=o[s])}else kt.push(t);try{localStorage.setItem(Ai+`_${r.toLowerCase()}_${e}`,JSON.stringify(kt))}catch{}ua.set(kt)}else try{const i=Ai+`_${r.toLowerCase()}_${e}`,a=localStorage.getItem(i)||"[]",o=JSON.parse(a),s=o.find(c=>c.hash===t.hash);if(s){const c=s,f=t;for(const u of Object.keys(t))(!n&&c[u]===void 0||n&&f[u]!==void 0)&&(c[u]=f[u])}else o.push(t);localStorage.setItem(i,JSON.stringify(o))}catch{}}function gx(){kt.splice(0,kt.length),ua.set(kt),vx()}function wf(r,e){try{const t=localStorage.getItem(Ai+`_${r.toLowerCase()}_${e}`);let n=[];t&&(n=JSON.parse(t)),kt.splice(0,kt.length,...n),ua.set(kt),q4(r,e)}catch{}}let Un;function q4(r,e){vx(),yx(r,e),Un=setInterval(()=>yx(r,e),xt.transactions.pollingPeriod*1e3)}function vx(){Un&&(clearInterval(Un),Un=void 0)}let _f=!1;function yx(r,e){return Kt(this,void 0,void 0,function*(){if(_f)return;_f=!0;const t=xt.transactions.finality,n=kt.concat();for(const i of n){if(!ht||ye.address!==r||qe.chainId!==e||!Un)break;let a;try{a=yield ht.getBlock("latest")}catch(l){ve.error(l);break}if(i.finalized)continue;if(!ht||ye.address!==r||qe.chainId!==e||!Un)break;let o=0;if(a.number>=t)try{o=yield ht.getTransactionCount(r,a.number-Math.max(1,t)+1)}catch(l){ve.error(l);break}if(!ht||ye.address!==r||qe.chainId!==e||!Un)break;let s=0;try{s=yield ht.getTransactionCount(r)}catch(l){ve.error(l);break}if(!ht||ye.address!==r||qe.chainId!==e||!Un)break;let c;try{c=yield ht.getTransactionReceipt(i.hash)}catch(l){ve.error(l);continue}if(ye.address!==r||qe.chainId!==e||!Un)break;const f={hash:i.hash};let u=!1;if(!c||!c.blockHash)o>i.nonce?(f.status="cancelled",f.finalized=!0,f.confirmations=Math.max(1,t),(i.acknowledged||xt.transactions.autoDelete)&&(u=!0)):s>i.nonce?(f.status="cancelled",f.confirmations=1):(f.status="pending",f.confirmations=0),f.blockHash=void 0,f.blockNumber=void 0,f.events=void 0;else{if(c.status!==void 0){const l=c.status===1;f.status=l?"success":"failure",l&&(f.events=[])}else c.logs.length>0?f.status="success":f.status="mined";if(i.eventsABI&&c.logs.length>0){const l=new Ya(i.eventsABI);f.events=c.logs.reduce((m,v)=>{let A;try{A=l.parseLog(v)}catch(N){ve.error(N)}if(A){const N={};for(const k of Object.keys(A.args)){const M=A.args[k];N[k]=JSON.parse(JSON.stringify(M))}const y={args:N,name:A.name,signature:A.signature};m.push(y)}return m},[])}f.blockHash=c.blockHash,f.confirmations=c.confirmations,c.confirmations>=t&&(f.finalized=!0,(i.acknowledged||xt.transactions.autoDelete)&&(u=!0))}if(i.status!==f.status&&(f.acknowledged=!1),u)wx(i.hash);else{f.lastCheck=a.timestamp;try{bx(r,e,f,!0)}catch(l){ve.error(l)}}}_f=!1})}function wx(r){if(ve.log(`deleting  ${r}`),ye.address&&qe.chainId){const e=kt.findIndex(t=>t.hash===r);kt.splice(e,1);try{localStorage.setItem(Ai+`_${ye.address.toLowerCase()}_${qe.chainId}`,JSON.stringify(kt))}catch{}ua.set(kt)}}function _x(r,e){return Kt(this,void 0,void 0,function*(){typeof r=="string"&&(r=new Jn(r)),hf=r,fe(Si,{connecting:!0});let t;try{t=(yield r.getNetwork()).chainId}catch{fe(Si,{error:{code:Qh,message:"Failed to fetch chainId from fallback"},connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Idle"});return}const n=String(t);fe(Si,{chainId:n,connecting:!1,loadingData:!1,contracts:void 0,addresses:void 0,state:"Connected"}),fe(Si,{loadingData:!0}),typeof e=="function"&&(e=yield e(n));const i={},a={};if(e){let o;try{o=dx(e,n)}catch(s){throw fe(Si,{error:s,chainId:n,connecting:!1,loadingData:!1,state:"Connected"}),new Error(s.message||s)}for(const s of Object.keys(o)){const c=o[s];c.abi&&(ve.log({contractName:s}),i[s]=new cf(c.address,c.abi,r)),a[s]=c.address}}fe(Si,{state:"Ready",loadingData:!1,connecting:!1,chainId:n,addresses:a,contracts:i})})}function j7(r){xt={builtin:{autoProbe:r.builtin?r.builtin.autoProbe:!1},flow:{autoSelect:!!(r.flow&&r.flow.autoSelect),autoUnlock:!!(r.flow&&r.flow.autoUnlock)},debug:r.debug||!1,chainConfigs:r.chainConfigs,options:r.options||[],autoSelectPrevious:!!r.autoSelectPrevious,localStoragePrefix:r.localStoragePrefix||"",transactions:{waitForTransactionDetails:r.transactions&&r.transactions.waitForTransactionDetails||!1,autoDelete:r.transactions&&typeof r.transactions.autoDelete!="undefined"?r.transactions.autoDelete:!0,finality:r.transactions&&r.transactions.finality||12,pollingPeriod:r.transactions&&r.transactions.pollingPeriod||10},checkGenesis:r.checkGenesis||!1,fallbackNode:r.fallbackNode},(!xt.options||xt.options.length===0)&&(xt.options=["builtin"]),js=xt.localStoragePrefix+js,Ai=xt.localStoragePrefix+Ai;const{debug:e,chainConfigs:t,builtin:n}=xt;if(pf=t,r.fallbackNode&&_x(r.fallbackNode,t),e&&typeof window!="undefined"&&(window.$wallet=ye,window.$transactions=kt),ki=xt.options,fe(lt,{state:"Idle",options:ki.map(i=>{if(typeof i=="object"){if(!i.id)throw new Error("options need to be string or have an id");return i.id}return i})}),fe(Ei,{state:"Idle"}),fe(Nt,{state:"Idle"}),fe($s,{state:"Idle"}),T4){if(r.autoSelectPrevious){const i=F4();i&&i!==""&&hx(i)}n.autoProbe&&yf()}return{transactions:{subscribe:ua.subscribe,acknowledge(i,a){if(ye.address&&qe.chainId){const o=kt.find(s=>s.hash===i);if(o)if(o.finalized)wx(i);else{o.lastAcknowledgment=a,o.acknowledged=!0;try{localStorage.setItem(Ai+`_${ye.address.toLowerCase()}_${qe.chainId}`,JSON.stringify(kt))}catch{}ua.set(kt)}}}},balance:{subscribe:$s.subscribe,acknowledgeError:Ks($s)},chain:{subscribe:Nt.subscribe,acknowledgeError:Ks(Nt),acknowledgeNewGenesisHash(){const i=qe.chainId;if(i)if(bf[i]){const a=`_genesis_${i}`;localStorage.setItem(a,bf[i]),fe(Nt,{genesisChanged:!1})}else throw new Error(`no genesisHash for chainId: ${i}`);else throw new Error("no chainId")},get contracts(){return qe.contracts},updateContracts(i){return L4(i)},switchChain:I4},fallback:{subscribe:Si.subscribe,get contracts(){return lf.contracts},get state(){return lf.state},get provider(){return hf}},builtin:{subscribe:Ei.subscribe,acknowledgeError:Ks(Ei),probe:yf,get vendor(){return wi.vendor}},wallet:{subscribe:lt.subscribe,connect:da,unlock:Ys,acknowledgeError:Ks(lt),disconnect:Qa,get options(){return ye.options},get address(){return ye.address},get provider(){return ht},get web3Provider(){return Xe},get selected(){return ye.selected},get chain(){return qe},get contracts(){return qe.contracts},get balance(){return ex.amount},get fallbackProvider(){return hf}},flow:{subscribe:st.subscribe,execute:j4,retry:U4,cancel:px,connect:$4}}}var Ef=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Ti=Bo("web3w-walletconnect:index");let Sf;function G4(r,e,t){return new Promise(function(n,i){const a=document.createElement("script");a.type="text/javascript",a.src=r,e&&(a.integrity=e),t&&(a.crossOrigin=t),a.onload=a.onreadystatechange=function(){n()},a.onerror=function(){i()},document.head.appendChild(a)})}const z4={"1":{host:"mainnet",networkName:"Main Ethereum Network"},"3":{host:"ropsten",networkName:"Ropsten Test Network"},"4":{host:"rinkeby",networkName:"Rinkeby Test Network"},"5":{host:"goerli",networkName:"Goerli Test Network"},"42":{host:"kovan",networkName:"Kovan Test Network"}};class V4{constructor(e){this.id="walletconnect",this.infuraId=e&&e.infuraId,this.nodeUrl=e&&e.nodeUrl,this.chainId=e&&e.chainId}setup(e){return Ef(this,void 0,void 0,function*(){e=e||{};let{chainId:t,nodeUrl:n}=e;if(t=t||this.chainId,n=n||this.nodeUrl,n&&!t){Ti.log("no chanId provided but nodeUrl, fetching chainId...");const c=yield(yield fetch(n,{headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:Math.floor(Math.random()*1e6),jsonrpc:"2.0",method:"eth_chainId",params:[]}),method:"POST"})).json();t=parseInt(c.result.slice(2),16).toString(),Ti.log({chainId:t})}if(!t)throw new Error("chainId missing");const i=parseInt(t),a=z4[t];let o;if(this.infuraId&&a)Ti.log(`known network, using infuraId: ${this.infuraId}`),o={infuraId:this.infuraId};else{if(Ti.log(`unknown network, using nodeUrl: ${n}`),!n)throw new Error("no infuraId or unknown network and nodeURL missing");o={rpc:{[i]:n}}}return this.walletConnectProvider=new Sf(o),yield this.walletConnectProvider.enable(),window.walletConnectProvider=this.walletConnectProvider,{web3Provider:this.walletConnectProvider,chainId:t}})}logout(){return Promise.resolve()}disconnect(){this.walletConnectProvider.close(),this.walletConnectProvider=void 0,window.walletConnectProvider=void 0}isLoggedIn(){return Ef(this,void 0,void 0,function*(){return!0})}}class yn{constructor(e){this.id="walletconnect",this.moduleConfig=e}static setJsURL(e,t){if(yn._jsURLUsed)throw new Error("cannot change js url once used");yn._jsURL=e,yn._jsURLIntegrity=t}load(){return Ef(this,void 0,void 0,function*(){if(!Sf){const e=yn._jsURL,t=yn._jsURLIntegrity;yn._jsURLUsed=!0;try{Ti.log(`loading ${e}...`),yield G4(e,t,"anonymous")}catch(n){throw Ti.error("error loading",n),yn._jsURLUsed=!1,n}Sf=window.WalletConnectProvider.default,Ti.log("WalletConnectProvider Module",window.WalletConnectProvider)}return new V4(this.moduleConfig)})}}yn._jsURL="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js";yn._jsURLUsed=!1;var Ex=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const la=Bo("web3w-portis:index");let Af;function W4(r,e,t){return new Promise(function(n,i){const a=document.createElement("script");a.type="text/javascript",a.src=r,e&&(a.integrity=e),t&&(a.crossOrigin=t),a.onload=a.onreadystatechange=function(){n()},a.onerror=function(){i()},document.head.appendChild(a)})}const K4={"1":"mainnet","3":"ropsten","4":"rinkeby","5":"goerli","8":"ubiq","18":"thundercoreTestnet","42":"kovan","61":"classic","77":"sokol","99":"core","100":"xdai","108":"thundercore","163":"lightstreams"};class J4{constructor(e,t){this.id="portis",this.dappId=e,this.forceNodeUrl=t&&t.forceNodeUrl,this.nodeUrl=t&&t.nodeUrl,this.chainId=t&&t.chainId,this.config=t}setup(e){return Ex(this,void 0,void 0,function*(){e=e||{};let{chainId:t,nodeUrl:n}=e;if(t=t||this.chainId,n=n||this.nodeUrl,n&&!t){const c=yield(yield fetch(n,{headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:Math.floor(Math.random()*1e6),jsonrpc:"2.0",method:"eth_chainId",params:[]}),method:"POST"})).json();t=parseInt(c.result.slice(2),16).toString()}if(!t)throw new Error("chainId missing");const i=K4[t];let a;i&&!this.forceNodeUrl&&(a=i);const o=parseInt(t);if(!a&&n&&(a={nodeUrl:n,chainId:o},la.log("PORTIS with "+a.nodeUrl+" "+t)),!a)throw new Error(`chain (${t}) not supported by portis`);return this.portis=new Af(this.dappId,a,this.config),this.portis.onError(s=>{la.error("PORTIS ERROR:"),la.error(s)}),this.portis.onActiveWalletChanged(s=>{la.log("PORTIS address: "+s)}),this.portis.onLogout(()=>{la.log("PORTIS logout ")}),this.portis.onLogin((s,c,f)=>{la.log("PORTIS login: "+s+","+c+","+f)}),window.portis=this.portis,{web3Provider:this.portis.provider,chainId:t}})}logout(){return this.portis.logout()}disconnect(){this.portis=void 0,window.portis=void 0}isLoggedIn(){return this.portis.isLoggedIn()}onAccountsChanged(e){this.portis.onActiveWalletChanged(t=>{e([t])})}}class Vr{constructor(e,t){this.id="portis",this.dappId=e,this.moduleConfig=t}static setJsURL(e,t){if(Vr._jsURLUsed)throw new Error("cannot change js url once used");Vr._jsURL=e,Vr._jsURLIntegrity=t}load(){return Ex(this,void 0,void 0,function*(){if(!Af){const e=Vr._jsURL,t=Vr._jsURLIntegrity;Vr._jsURLUsed=!0;try{yield W4(e,t,"anonymous")}catch(n){throw Vr._jsURLUsed=!1,n}Af=window.Portis}return new J4(this.dappId,this.moduleConfig)})}}Vr._jsURL="https://cdn.jsdelivr.net/npm/@portis/web3@4.0.5/umd/index.js";Vr._jsURLIntegrity="sha256-uDiS2XQ/uXRXnbGu5e6WDDL2T6ShiUQzVyXkYm7l7bI=";Vr._jsURLUsed=!1;function kf(r,e,t,n,i){r=ne(r),e=ne(e);let a,o=1;const s=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,u;for(let l=1;l<=o;l++){c[e.length]=l>>24&255,c[e.length+1]=l>>16&255,c[e.length+2]=l>>8&255,c[e.length+3]=l&255;let m=ne(es(i,r,c));a||(a=m.length,u=new Uint8Array(a),o=Math.ceil(n/a),f=n-(o-1)*a),u.set(m);for(let N=1;N<t;N++){m=ne(es(i,r,m));for(let y=0;y<a;y++)u[y]^=m[y]}const v=(l-1)*a,A=l===o?f:a;s.set(ne(u).slice(0,A),v)}return ce(s)}const Y4="wordlists/5.5.0",X4=new L(Y4);class to{constructor(e){X4.checkAbstract(new.target,to),K(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return si(t.join(`
`)+`
`)}static register(e,t){}}const Z4="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let ro=null;function Sx(r){if(ro==null&&(ro=Z4.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),to.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw ro=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Q4 extends to{constructor(){super("en")}getWord(e){return Sx(this),ro[e]}getWordIndex(e){return Sx(this),ro.indexOf(e)}}const Ax=new Q4;to.register(Ax);const kx={en:Ax},ev="hdnode/5.5.0",no=new L(ev),tv=oe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rv=qt("Bitcoin seed"),io=2147483648;function Tx(r){return(1<<r)-1<<8-r}function nv(r){return(1<<r)-1}function Xs(r){return ft(ce(r),32)}function Nx(r){return Wo.encode(mt([r,Sr(fi(fi(r)),0,4)]))}function Tf(r){if(r==null)return kx.en;if(typeof r=="string"){const e=kx[r];return e==null&&no.throwArgumentError("unknown locale","wordlist",r),e}return r}const ha={},ao="m/44'/60'/0'/0/0";class mr{constructor(e,t,n,i,a,o,s,c){if(no.checkNew(new.target,mr),e!==ha)throw new Error("HDNode constructor cannot be called directly");if(t){const f=new Qi(t);K(this,"privateKey",f.privateKey),K(this,"publicKey",f.compressedPublicKey)}else K(this,"privateKey",null),K(this,"publicKey",ce(n));K(this,"parentFingerprint",i),K(this,"fingerprint",Sr(Bg(fi(this.publicKey)),0,4)),K(this,"address",di(this.publicKey)),K(this,"chainCode",a),K(this,"index",o),K(this,"depth",s),c==null?(K(this,"mnemonic",null),K(this,"path",null)):typeof c=="string"?(K(this,"mnemonic",null),K(this,"path",c)):(K(this,"mnemonic",c),K(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Nx(mt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ce(this.depth),this.parentFingerprint,ft(ce(this.index),4),this.chainCode,this.privateKey!=null?mt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new mr(ha,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~io));const n=new Uint8Array(37);if(e&io){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ne(this.privateKey),1),t&&(t+="'")}else n.set(ne(this.publicKey));for(let l=24;l>=0;l-=8)n[33+(l>>3)]=e>>24-l&255;const i=ne(es(Pa.sha512,this.chainCode,n)),a=i.slice(0,32),o=i.slice(32);let s=null,c=null;this.privateKey?s=Xs(oe.from(a).add(this.privateKey).mod(tv)):c=new Qi(ce(a))._addPoint(this.publicKey);let f=t;const u=this.mnemonic;return u&&(f=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new mr(ha,s,c,this.fingerprint,Xs(o),e,this.depth+1,f)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const a=t[i];if(a.match(/^[0-9]+'$/)){const o=parseInt(a.substring(0,a.length-1));if(o>=io)throw new Error("invalid path index - "+a);n=n._derive(io+o)}else if(a.match(/^[0-9]+$/)){const o=parseInt(a);if(o>=io)throw new Error("invalid path index - "+a);n=n._derive(o)}else throw new Error("invalid path component - "+a)}return n}static _fromSeed(e,t){const n=ne(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=ne(es(Pa.sha512,rv,n));return new mr(ha,Xs(i.slice(0,32)),null,"0x00000000",Xs(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=Tf(n),e=Nf(Ix(e,n),n),mr._fromSeed(iv(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return mr._fromSeed(e,null)}static fromExtendedKey(e){const t=Wo.decode(e);(t.length!==82||Nx(t.slice(0,78))!==e)&&no.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=ce(t.slice(5,9)),a=parseInt(ce(t.slice(9,13)).substring(2),16),o=ce(t.slice(13,45)),s=t.slice(45,78);switch(ce(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new mr(ha,null,ce(s),i,o,a,n,null);case"0x0488ade4":case"0x04358394 ":if(s[0]!==0)break;return new mr(ha,ce(s.slice(1)),null,i,o,a,n,null)}return no.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function iv(r,e){e||(e="");const t=qt("mnemonic"+e,Nn.NFKD);return kf(qt(r,Nn.NFKD),t,2048,64,"sha512")}function Ix(r,e){e=Tf(e),no.checkNormalize();const t=e.split(r);if(t.length%3!=0)throw new Error("invalid mnemonic");const n=ne(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let f=0;f<t.length;f++){let u=e.getWordIndex(t[f].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let l=0;l<11;l++)u&1<<10-l&&(n[i>>3]|=1<<7-i%8),i++}const a=32*t.length/3,o=t.length/3,s=Tx(o);if((ne(fi(n.slice(0,a/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return ce(n.slice(0,a/8))}function Nf(r,e){if(e=Tf(e),r=ne(r),r.length%4!=0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&nv(8-n)),n+=3);const i=r.length/4,a=ne(fi(r))[0]&Tx(i);return t[t.length-1]<<=i,t[t.length-1]|=a>>8-i,e.join(t.map(o=>e.getWord(o)))}var Cx={exports:{}};(function(r,e){(function(t){function n(b){return parseInt(b)===b}function i(b){if(!n(b.length))return!1;for(var P=0;P<b.length;P++)if(!n(b[P])||b[P]<0||b[P]>255)return!1;return!0}function a(b,P){if(b.buffer&&ArrayBuffer.isView(b)&&b.name==="Uint8Array")return P&&(b.slice?b=b.slice():b=Array.prototype.slice.call(b)),b;if(Array.isArray(b)){if(!i(b))throw new Error("Array contains invalid value: "+b);return new Uint8Array(b)}if(n(b.length)&&i(b))return new Uint8Array(b);throw new Error("unsupported array-like object")}function o(b){return new Uint8Array(b)}function s(b,P,H,D,x){(D!=null||x!=null)&&(b.slice?b=b.slice(D,x):b=Array.prototype.slice.call(b,D,x)),P.set(b,H)}var c=function(){function b(H){var D=[],x=0;for(H=encodeURI(H);x<H.length;){var B=H.charCodeAt(x++);B===37?(D.push(parseInt(H.substr(x,2),16)),x+=2):D.push(B)}return a(D)}function P(H){for(var D=[],x=0;x<H.length;){var B=H[x];B<128?(D.push(String.fromCharCode(B)),x++):B>191&&B<224?(D.push(String.fromCharCode((B&31)<<6|H[x+1]&63)),x+=2):(D.push(String.fromCharCode((B&15)<<12|(H[x+1]&63)<<6|H[x+2]&63)),x+=3)}return D.join("")}return{toBytes:b,fromBytes:P}}(),f=function(){function b(D){for(var x=[],B=0;B<D.length;B+=2)x.push(parseInt(D.substr(B,2),16));return x}var P="0123456789abcdef";function H(D){for(var x=[],B=0;B<D.length;B++){var q=D[B];x.push(P[(q&240)>>4]+P[q&15])}return x.join("")}return{toBytes:b,fromBytes:H}}(),u={16:10,24:12,32:14},l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],m=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],v=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],A=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],N=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],k=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],M=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],U=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],E=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],j=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],R=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],z=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],V=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],te=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function be(b){for(var P=[],H=0;H<b.length;H+=4)P.push(b[H]<<24|b[H+1]<<16|b[H+2]<<8|b[H+3]);return P}var I=function(b){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(b,!0)}),this._prepare()};I.prototype._prepare=function(){var b=u[this.key.length];if(b==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var P=0;P<=b;P++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var H=(b+1)*4,D=this.key.length/4,x=be(this.key),B,P=0;P<D;P++)B=P>>2,this._Ke[B][P%4]=x[P],this._Kd[b-B][P%4]=x[P];for(var q=0,W=D,J;W<H;){if(J=x[D-1],x[0]^=m[J>>16&255]<<24^m[J>>8&255]<<16^m[J&255]<<8^m[J>>24&255]^l[q]<<24,q+=1,D!=8)for(var P=1;P<D;P++)x[P]^=x[P-1];else{for(var P=1;P<D/2;P++)x[P]^=x[P-1];J=x[D/2-1],x[D/2]^=m[J&255]^m[J>>8&255]<<8^m[J>>16&255]<<16^m[J>>24&255]<<24;for(var P=D/2+1;P<D;P++)x[P]^=x[P-1]}for(var P=0,ee,ue;P<D&&W<H;)ee=W>>2,ue=W%4,this._Ke[ee][ue]=x[P],this._Kd[b-ee][ue]=x[P++],W++}for(var ee=1;ee<b;ee++)for(var ue=0;ue<4;ue++)J=this._Kd[ee][ue],this._Kd[ee][ue]=R[J>>24&255]^z[J>>16&255]^V[J>>8&255]^te[J&255]},I.prototype.encrypt=function(b){if(b.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var P=this._Ke.length-1,H=[0,0,0,0],D=be(b),x=0;x<4;x++)D[x]^=this._Ke[0][x];for(var B=1;B<P;B++){for(var x=0;x<4;x++)H[x]=A[D[x]>>24&255]^N[D[(x+1)%4]>>16&255]^y[D[(x+2)%4]>>8&255]^k[D[(x+3)%4]&255]^this._Ke[B][x];D=H.slice()}for(var q=o(16),W,x=0;x<4;x++)W=this._Ke[P][x],q[4*x]=(m[D[x]>>24&255]^W>>24)&255,q[4*x+1]=(m[D[(x+1)%4]>>16&255]^W>>16)&255,q[4*x+2]=(m[D[(x+2)%4]>>8&255]^W>>8)&255,q[4*x+3]=(m[D[(x+3)%4]&255]^W)&255;return q},I.prototype.decrypt=function(b){if(b.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var P=this._Kd.length-1,H=[0,0,0,0],D=be(b),x=0;x<4;x++)D[x]^=this._Kd[0][x];for(var B=1;B<P;B++){for(var x=0;x<4;x++)H[x]=M[D[x]>>24&255]^U[D[(x+3)%4]>>16&255]^E[D[(x+2)%4]>>8&255]^j[D[(x+1)%4]&255]^this._Kd[B][x];D=H.slice()}for(var q=o(16),W,x=0;x<4;x++)W=this._Kd[P][x],q[4*x]=(v[D[x]>>24&255]^W>>24)&255,q[4*x+1]=(v[D[(x+3)%4]>>16&255]^W>>16)&255,q[4*x+2]=(v[D[(x+2)%4]>>8&255]^W>>8)&255,q[4*x+3]=(v[D[(x+1)%4]&255]^W)&255;return q};var d=function(b){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new I(b)};d.prototype.encrypt=function(b){if(b=a(b),b.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=o(b.length),H=o(16),D=0;D<b.length;D+=16)s(b,H,0,D,D+16),H=this._aes.encrypt(H),s(H,P,D);return P},d.prototype.decrypt=function(b){if(b=a(b),b.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=o(b.length),H=o(16),D=0;D<b.length;D+=16)s(b,H,0,D,D+16),H=this._aes.decrypt(H),s(H,P,D);return P};var p=function(b,P){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!P)P=o(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(P,!0),this._aes=new I(b)};p.prototype.encrypt=function(b){if(b=a(b),b.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=o(b.length),H=o(16),D=0;D<b.length;D+=16){s(b,H,0,D,D+16);for(var x=0;x<16;x++)H[x]^=this._lastCipherblock[x];this._lastCipherblock=this._aes.encrypt(H),s(this._lastCipherblock,P,D)}return P},p.prototype.decrypt=function(b){if(b=a(b),b.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=o(b.length),H=o(16),D=0;D<b.length;D+=16){s(b,H,0,D,D+16),H=this._aes.decrypt(H);for(var x=0;x<16;x++)P[D+x]=H[x]^this._lastCipherblock[x];s(b,this._lastCipherblock,0,D,D+16)}return P};var g=function(b,P,H){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!P)P=o(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");H||(H=1),this.segmentSize=H,this._shiftRegister=a(P,!0),this._aes=new I(b)};g.prototype.encrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var P=a(b,!0),H,D=0;D<P.length;D+=this.segmentSize){H=this._aes.encrypt(this._shiftRegister);for(var x=0;x<this.segmentSize;x++)P[D+x]^=H[x];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(P,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return P},g.prototype.decrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var P=a(b,!0),H,D=0;D<P.length;D+=this.segmentSize){H=this._aes.encrypt(this._shiftRegister);for(var x=0;x<this.segmentSize;x++)P[D+x]^=H[x];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(b,this._shiftRegister,16-this.segmentSize,D,D+this.segmentSize)}return P};var _=function(b,P){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!P)P=o(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(P,!0),this._lastPrecipherIndex=16,this._aes=new I(b)};_.prototype.encrypt=function(b){for(var P=a(b,!0),H=0;H<P.length;H++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),P[H]^=this._lastPrecipher[this._lastPrecipherIndex++];return P},_.prototype.decrypt=_.prototype.encrypt;var S=function(b){if(!(this instanceof S))throw Error("Counter must be instanitated with `new`");b!==0&&!b&&(b=1),typeof b=="number"?(this._counter=o(16),this.setValue(b)):this.setBytes(b)};S.prototype.setValue=function(b){if(typeof b!="number"||parseInt(b)!=b)throw new Error("invalid counter value (must be an integer)");for(var P=15;P>=0;--P)this._counter[P]=b%256,b=b>>8},S.prototype.setBytes=function(b){if(b=a(b,!0),b.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=b},S.prototype.increment=function(){for(var b=15;b>=0;b--)if(this._counter[b]===255)this._counter[b]=0;else{this._counter[b]++;break}};var O=function(b,P){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",P instanceof S||(P=new S(P)),this._counter=P,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new I(b)};O.prototype.encrypt=function(b){for(var P=a(b,!0),H=0;H<P.length;H++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),P[H]^=this._remainingCounter[this._remainingCounterIndex++];return P},O.prototype.decrypt=O.prototype.encrypt;function F(b){b=a(b,!0);var P=16-b.length%16,H=o(b.length+P);s(b,H);for(var D=b.length;D<H.length;D++)H[D]=P;return H}function T(b){if(b=a(b,!0),b.length<16)throw new Error("PKCS#7 invalid length");var P=b[b.length-1];if(P>16)throw new Error("PKCS#7 padding byte out of range");for(var H=b.length-P,D=0;D<P;D++)if(b[H+D]!==P)throw new Error("PKCS#7 invalid padding byte");var x=o(H);return s(b,x,0,0,H),x}var h={AES:I,Counter:S,ModeOfOperation:{ecb:d,cbc:p,cfb:g,ofb:_,ctr:O},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:F,strip:T}},_arrayTest:{coerceArray:a,createArray:o,copyArray:s}};r.exports=h})()})(Cx);var wn=Cx.exports;const Mx="json-wallets/5.5.0";function Ni(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ne(r)}function oo(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function If(r){return typeof r=="string"?qt(r,Nn.NFKC):ne(r)}function _t(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let a=null;for(const o in t)if(o.toLowerCase()===n[i]){a=t[o];break}if(a===null)return null;t=a}return t}function av(r){const e=ne(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ce(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const ov=new L(Mx);class sv extends $i{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Ox(r,e){const t=JSON.parse(r);e=If(e);const n=gt(_t(t,"ethaddr")),i=Ni(_t(t,"encseed"));(!i||i.length%16!=0)&&ov.throwArgumentError("invalid encseed","json",r);const a=ne(kf(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),s=i.slice(16),c=new wn.ModeOfOperation.cbc(a,o),f=wn.padding.pkcs7.strip(ne(c.decrypt(s)));let u="";for(let v=0;v<f.length;v++)u+=String.fromCharCode(f[v]);const l=qt(u),m=ct(l);return new sv({_isCrowdsaleAccount:!0,address:n,privateKey:m})}function Rx(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function Px(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var Dx={exports:{}};(function(r,e){(function(t){const n=2147483647;function i(N){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let k=1779033703,M=3144134277,U=1013904242,E=2773480762,j=1359893119,R=2600822924,z=528734635,V=1541459225;const te=new Uint32Array(64);function be(O){let F=0,T=O.length;for(;T>=64;){let h=k,b=M,P=U,H=E,D=j,x=R,B=z,q=V,W,J,ee,ue,ie;for(J=0;J<16;J++)ee=F+J*4,te[J]=(O[ee]&255)<<24|(O[ee+1]&255)<<16|(O[ee+2]&255)<<8|O[ee+3]&255;for(J=16;J<64;J++)W=te[J-2],ue=(W>>>17|W<<32-17)^(W>>>19|W<<32-19)^W>>>10,W=te[J-15],ie=(W>>>7|W<<32-7)^(W>>>18|W<<32-18)^W>>>3,te[J]=(ue+te[J-7]|0)+(ie+te[J-16]|0)|0;for(J=0;J<64;J++)ue=(((D>>>6|D<<32-6)^(D>>>11|D<<32-11)^(D>>>25|D<<32-25))+(D&x^~D&B)|0)+(q+(y[J]+te[J]|0)|0)|0,ie=((h>>>2|h<<32-2)^(h>>>13|h<<32-13)^(h>>>22|h<<32-22))+(h&b^h&P^b&P)|0,q=B,B=x,x=D,D=H+ue|0,H=P,P=b,b=h,h=ue+ie|0;k=k+h|0,M=M+b|0,U=U+P|0,E=E+H|0,j=j+D|0,R=R+x|0,z=z+B|0,V=V+q|0,F+=64,T-=64}}be(N);let I,d=N.length%64,p=N.length/536870912|0,g=N.length<<3,_=d<56?56:120,S=N.slice(N.length-d,N.length);for(S.push(128),I=d+1;I<_;I++)S.push(0);return S.push(p>>>24&255),S.push(p>>>16&255),S.push(p>>>8&255),S.push(p>>>0&255),S.push(g>>>24&255),S.push(g>>>16&255),S.push(g>>>8&255),S.push(g>>>0&255),be(S),[k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255]}function a(N,y,k){N=N.length<=64?N:i(N);const M=64+y.length+4,U=new Array(M),E=new Array(64);let j,R=[];for(j=0;j<64;j++)U[j]=54;for(j=0;j<N.length;j++)U[j]^=N[j];for(j=0;j<y.length;j++)U[64+j]=y[j];for(j=M-4;j<M;j++)U[j]=0;for(j=0;j<64;j++)E[j]=92;for(j=0;j<N.length;j++)E[j]^=N[j];function z(){for(let V=M-1;V>=M-4;V--){if(U[V]++,U[V]<=255)return;U[V]=0}}for(;k>=32;)z(),R=R.concat(i(E.concat(i(U)))),k-=32;return k>0&&(z(),R=R.concat(i(E.concat(i(U))).slice(0,k))),R}function o(N,y,k,M,U){let E;for(u(N,(2*k-1)*16,U,0,16),E=0;E<2*k;E++)f(N,E*16,U,16),c(U,M),u(U,0,N,y+E*16,16);for(E=0;E<k;E++)u(N,y+E*2*16,N,E*16,16);for(E=0;E<k;E++)u(N,y+(E*2+1)*16,N,(E+k)*16,16)}function s(N,y){return N<<y|N>>>32-y}function c(N,y){u(N,0,y,0,16);for(let k=8;k>0;k-=2)y[4]^=s(y[0]+y[12],7),y[8]^=s(y[4]+y[0],9),y[12]^=s(y[8]+y[4],13),y[0]^=s(y[12]+y[8],18),y[9]^=s(y[5]+y[1],7),y[13]^=s(y[9]+y[5],9),y[1]^=s(y[13]+y[9],13),y[5]^=s(y[1]+y[13],18),y[14]^=s(y[10]+y[6],7),y[2]^=s(y[14]+y[10],9),y[6]^=s(y[2]+y[14],13),y[10]^=s(y[6]+y[2],18),y[3]^=s(y[15]+y[11],7),y[7]^=s(y[3]+y[15],9),y[11]^=s(y[7]+y[3],13),y[15]^=s(y[11]+y[7],18),y[1]^=s(y[0]+y[3],7),y[2]^=s(y[1]+y[0],9),y[3]^=s(y[2]+y[1],13),y[0]^=s(y[3]+y[2],18),y[6]^=s(y[5]+y[4],7),y[7]^=s(y[6]+y[5],9),y[4]^=s(y[7]+y[6],13),y[5]^=s(y[4]+y[7],18),y[11]^=s(y[10]+y[9],7),y[8]^=s(y[11]+y[10],9),y[9]^=s(y[8]+y[11],13),y[10]^=s(y[9]+y[8],18),y[12]^=s(y[15]+y[14],7),y[13]^=s(y[12]+y[15],9),y[14]^=s(y[13]+y[12],13),y[15]^=s(y[14]+y[13],18);for(let k=0;k<16;++k)N[k]+=y[k]}function f(N,y,k,M){for(let U=0;U<M;U++)k[U]^=N[y+U]}function u(N,y,k,M,U){for(;U--;)k[M++]=N[y++]}function l(N){if(!N||typeof N.length!="number")return!1;for(let y=0;y<N.length;y++){const k=N[y];if(typeof k!="number"||k%1||k<0||k>=256)return!1}return!0}function m(N,y){if(typeof N!="number"||N%1)throw new Error("invalid "+y);return N}function v(N,y,k,M,U,E,j){if(k=m(k,"N"),M=m(M,"r"),U=m(U,"p"),E=m(E,"dkLen"),k===0||(k&k-1)!=0)throw new Error("N must be power of 2");if(k>n/128/M)throw new Error("N too large");if(M>n/128/U)throw new Error("r too large");if(!l(N))throw new Error("password must be an array or buffer");if(N=Array.prototype.slice.call(N),!l(y))throw new Error("salt must be an array or buffer");y=Array.prototype.slice.call(y);let R=a(N,y,U*128*M);const z=new Uint32Array(U*32*M);for(let D=0;D<z.length;D++){const x=D*4;z[D]=(R[x+3]&255)<<24|(R[x+2]&255)<<16|(R[x+1]&255)<<8|(R[x+0]&255)<<0}const V=new Uint32Array(64*M),te=new Uint32Array(32*M*k),be=32*M,I=new Uint32Array(16),d=new Uint32Array(16),p=U*k*2;let g=0,_=null,S=!1,O=0,F=0,T,h;const b=j?parseInt(1e3/M):4294967295,P=typeof setImmediate!="undefined"?setImmediate:setTimeout,H=function(){if(S)return j(new Error("cancelled"),g/p);let D;switch(O){case 0:h=F*32*M,u(z,h,V,0,be),O=1,T=0;case 1:D=k-T,D>b&&(D=b);for(let B=0;B<D;B++)u(V,0,te,(T+B)*be,be),o(V,be,M,I,d);if(T+=D,g+=D,j){const B=parseInt(1e3*g/p);if(B!==_){if(S=j(null,g/p),S)break;_=B}}if(T<k)break;T=0,O=2;case 2:D=k-T,D>b&&(D=b);for(let B=0;B<D;B++){const q=(2*M-1)*16,W=V[q]&k-1;f(te,W*be,V,be),o(V,be,M,I,d)}if(T+=D,g+=D,j){const B=parseInt(1e3*g/p);if(B!==_){if(S=j(null,g/p),S)break;_=B}}if(T<k)break;if(u(V,0,z,h,be),F++,F<U){O=0;break}R=[];for(let B=0;B<z.length;B++)R.push(z[B]>>0&255),R.push(z[B]>>8&255),R.push(z[B]>>16&255),R.push(z[B]>>24&255);const x=a(N,R,E);return j&&j(null,1,x),x}j&&P(H)};if(!j)for(;;){const D=H();if(D!=null)return D}H()}const A={scrypt:function(N,y,k,M,U,E,j){return new Promise(function(R,z){let V=0;j&&j(0),v(N,y,k,M,U,E,function(te,be,I){if(te)z(te);else if(I)j&&V!==1&&j(1),R(new Uint8Array(I));else if(j&&be!==V)return V=be,j(be)})})},syncScrypt:function(N,y,k,M,U,E){return new Uint8Array(v(N,y,k,M,U,E))}};r.exports=A})()})(Dx);var Cf=Dx.exports,cv=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Mf=new L(Mx);function Fx(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class fv extends $i{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function uv(r,e,t){if(_t(r,"crypto/cipher")==="aes-128-ctr"){const i=Ni(_t(r,"crypto/cipherparams/iv")),a=new wn.Counter(i),o=new wn.ModeOfOperation.ctr(e,a);return ne(o.decrypt(t))}return null}function Bx(r,e){const t=Ni(_t(r,"crypto/ciphertext"));if(ce(ct(mt([e.slice(16,32),t]))).substring(2)!==_t(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=uv(r,e.slice(0,16),t);i||Mf.throwError("unsupported cipher",L.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const a=e.slice(32,64),o=di(i);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),gt(c)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:ce(i)};if(_t(r,"x-ethers/version")==="0.1"){const c=Ni(_t(r,"x-ethers/mnemonicCiphertext")),f=Ni(_t(r,"x-ethers/mnemonicCounter")),u=new wn.Counter(f),l=new wn.ModeOfOperation.ctr(a,u),m=_t(r,"x-ethers/path")||ao,v=_t(r,"x-ethers/locale")||"en",A=ne(l.decrypt(c));try{const N=Nf(A,v),y=mr.fromMnemonic(N,null,v).derivePath(m);if(y.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=y.mnemonic}catch(N){if(N.code!==L.errors.INVALID_ARGUMENT||N.argument!=="wordlist")throw N}}return new fv(s)}function Lx(r,e,t,n,i){return ne(kf(r,e,t,n,i))}function dv(r,e,t,n,i){return Promise.resolve(Lx(r,e,t,n,i))}function Ux(r,e,t,n,i){const a=If(e),o=_t(r,"crypto/kdf");if(o&&typeof o=="string"){const s=function(c,f){return Mf.throwArgumentError("invalid key-derivation function parameters",c,f)};if(o.toLowerCase()==="scrypt"){const c=Ni(_t(r,"crypto/kdfparams/salt")),f=parseInt(_t(r,"crypto/kdfparams/n")),u=parseInt(_t(r,"crypto/kdfparams/r")),l=parseInt(_t(r,"crypto/kdfparams/p"));(!f||!u||!l)&&s("kdf",o),(f&f-1)!=0&&s("N",f);const m=parseInt(_t(r,"crypto/kdfparams/dklen"));return m!==32&&s("dklen",m),n(a,c,f,u,l,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Ni(_t(r,"crypto/kdfparams/salt"));let f=null;const u=_t(r,"crypto/kdfparams/prf");u==="hmac-sha256"?f="sha256":u==="hmac-sha512"?f="sha512":s("prf",u);const l=parseInt(_t(r,"crypto/kdfparams/c")),m=parseInt(_t(r,"crypto/kdfparams/dklen"));return m!==32&&s("dklen",m),t(a,c,l,m,f)}}return Mf.throwArgumentError("unsupported key-derivation function","kdf",o)}function lv(r,e){const t=JSON.parse(r),n=Ux(t,e,Lx,Cf.syncScrypt);return Bx(t,n)}function hv(r,e,t){return cv(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield Ux(n,e,dv,Cf.scrypt,t);return Bx(n,i)})}function xv(r,e,t,n){try{if(gt(r.address)!==di(r.privateKey))throw new Error("address/privateKey mismatch");if(Fx(r)){const y=r.mnemonic;if(mr.fromMnemonic(y.phrase,null,y.locale).derivePath(y.path||ao).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=ne(r.privateKey),a=If(e);let o=null,s=null,c=null;if(Fx(r)){const y=r.mnemonic;o=ne(Ix(y.phrase,y.locale||"en")),s=y.path||ao,c=y.locale||"en"}let f=t.client;f||(f="ethers.js");let u=null;t.salt?u=ne(t.salt):u=Ua(32);let l=null;if(t.iv){if(l=ne(t.iv),l.length!==16)throw new Error("invalid iv")}else l=Ua(16);let m=null;if(t.uuid){if(m=ne(t.uuid),m.length!==16)throw new Error("invalid uuid")}else m=Ua(16);let v=1<<17,A=8,N=1;return t.scrypt&&(t.scrypt.N&&(v=t.scrypt.N),t.scrypt.r&&(A=t.scrypt.r),t.scrypt.p&&(N=t.scrypt.p)),Cf.scrypt(a,u,v,A,N,64,n).then(y=>{y=ne(y);const k=y.slice(0,16),M=y.slice(16,32),U=y.slice(32,64),E=new wn.Counter(l),j=new wn.ModeOfOperation.ctr(k,E),R=ne(j.encrypt(i)),z=ct(mt([M,R])),V={address:r.address.substring(2).toLowerCase(),id:av(m),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ce(l).substring(2)},ciphertext:ce(R).substring(2),kdf:"scrypt",kdfparams:{salt:ce(u).substring(2),n:v,dklen:32,p:N,r:A},mac:z.substring(2)}};if(o){const te=Ua(16),be=new wn.Counter(te),I=new wn.ModeOfOperation.ctr(U,be),d=ne(I.encrypt(o)),p=new Date,g=p.getUTCFullYear()+"-"+oo(p.getUTCMonth()+1,2)+"-"+oo(p.getUTCDate(),2)+"T"+oo(p.getUTCHours(),2)+"-"+oo(p.getUTCMinutes(),2)+"-"+oo(p.getUTCSeconds(),2)+".0Z";V["x-ethers"]={client:f,gethFilename:"UTC--"+g+"--"+V.address,mnemonicCounter:ce(te).substring(2),mnemonicCiphertext:ce(d).substring(2),path:s,locale:c,version:"0.1"}}return JSON.stringify(V)})}function pv(r,e,t){if(Rx(r)){t&&t(0);const n=Ox(r,e);return t&&t(1),Promise.resolve(n)}return Px(r)?hv(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function bv(r,e){if(Rx(r))return Ox(r,e);if(Px(r))return lv(r,e);throw new Error("invalid JSON wallet")}const mv="wallet/5.5.0";var $x=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(u){try{f(n.next(u))}catch(l){o(l)}}function c(u){try{f(n.throw(u))}catch(l){o(l)}}function f(u){u.done?a(u.value):i(u.value).then(s,c)}f((n=n.apply(r,e||[])).next())})};const Ii=new L(mv);function gv(r){return r!=null&&Re(r.privateKey,32)&&r.address!=null}function vv(r){const e=r.mnemonic;return e&&e.phrase}class Ci extends ra{constructor(e,t){Ii.checkNew(new.target,Ci);super();if(gv(e)){const n=new Qi(e.privateKey);if(K(this,"_signingKey",()=>n),K(this,"address",di(this.publicKey)),this.address!==gt(e.address)&&Ii.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),vv(e)){const i=e.mnemonic;K(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ao,locale:i.locale||"en"}));const a=this.mnemonic,o=mr.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);di(o.privateKey)!==this.address&&Ii.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else K(this,"_mnemonic",()=>null)}else{if(Qi.isSigningKey(e))e.curve!=="secp256k1"&&Ii.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),K(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Qi(e);K(this,"_signingKey",()=>n)}K(this,"_mnemonic",()=>null),K(this,"address",di(this.publicKey))}t&&!oi.isProvider(t)&&Ii.throwArgumentError("invalid provider","provider",t),K(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Ci(this,e)}signTransaction(e){return St(e).then(t=>{t.from!=null&&(gt(t.from)!==this.address&&Ii.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(ct(Ol(t)));return Ol(t,n)})}signMessage(e){return $x(this,void 0,void 0,function*(){return fd(this._signingKey().signDigest(Yb(e)))})}_signTypedData(e,t,n){return $x(this,void 0,void 0,function*(){const i=yield Yt.resolveNames(e,t,n,a=>(this.provider==null&&Ii.throwError("cannot resolve ENS names without a provider",L.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return fd(this._signingKey().signDigest(Yt.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),xv(this,e,t,n)}static createRandom(e){let t=Ua(16);e||(e={}),e.extraEntropy&&(t=ne(Sr(ct(mt([t,e.extraEntropy])),0,16)));const n=Nf(t,e.locale);return Ci.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return pv(e,t,n).then(i=>new Ci(i))}static fromEncryptedJsonSync(e,t){return new Ci(bv(e,t))}static fromMnemonic(e,t,n){return t||(t=ao),new Ci(mr.fromMnemonic(e,null,n).derivePath(t))}}const yv=10,jx=2;function Hx(r){return Zs(r,[])}function Zs(r,e){switch(typeof r){case"string":return JSON.stringify(r);case"function":return r.name?`[function ${r.name}]`:"[function]";case"object":return wv(r,e);default:return String(r)}}function wv(r,e){if(r===null)return"null";if(e.includes(r))return"[Circular]";const t=[...e,r];if(_v(r)){const n=r.toJSON();if(n!==r)return typeof n=="string"?n:Zs(n,t)}else if(Array.isArray(r))return Sv(r,t);return Ev(r,t)}function _v(r){return typeof r.toJSON=="function"}function Ev(r,e){const t=Object.entries(r);if(t.length===0)return"{}";if(e.length>jx)return"["+Av(r)+"]";const n=t.map(([i,a])=>i+": "+Zs(a,e));return"{ "+n.join(", ")+" }"}function Sv(r,e){if(r.length===0)return"[]";if(e.length>jx)return"[Array]";const t=Math.min(yv,r.length),n=r.length-t,i=[];for(let a=0;a<t;++a)i.push(Zs(r[a],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function Av(r){const e=Object.prototype.toString.call(r).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof r.constructor=="function"){const t=r.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}function Qs(r,e){if(!Boolean(r))throw new Error(e)}class kv{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class qx{constructor(e,t,n,i,a,o){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=a,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Gx={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Tv=new Set(Object.keys(Gx));function zx(r){const e=r==null?void 0:r.kind;return typeof e=="string"&&Tv.has(e)}let xa;(function(r){r.QUERY="query",r.MUTATION="mutation",r.SUBSCRIPTION="subscription"})(xa||(xa={}));let we;(function(r){r.NAME="Name",r.DOCUMENT="Document",r.OPERATION_DEFINITION="OperationDefinition",r.VARIABLE_DEFINITION="VariableDefinition",r.SELECTION_SET="SelectionSet",r.FIELD="Field",r.ARGUMENT="Argument",r.FRAGMENT_SPREAD="FragmentSpread",r.INLINE_FRAGMENT="InlineFragment",r.FRAGMENT_DEFINITION="FragmentDefinition",r.VARIABLE="Variable",r.INT="IntValue",r.FLOAT="FloatValue",r.STRING="StringValue",r.BOOLEAN="BooleanValue",r.NULL="NullValue",r.ENUM="EnumValue",r.LIST="ListValue",r.OBJECT="ObjectValue",r.OBJECT_FIELD="ObjectField",r.DIRECTIVE="Directive",r.NAMED_TYPE="NamedType",r.LIST_TYPE="ListType",r.NON_NULL_TYPE="NonNullType",r.SCHEMA_DEFINITION="SchemaDefinition",r.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",r.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",r.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",r.FIELD_DEFINITION="FieldDefinition",r.INPUT_VALUE_DEFINITION="InputValueDefinition",r.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",r.UNION_TYPE_DEFINITION="UnionTypeDefinition",r.ENUM_TYPE_DEFINITION="EnumTypeDefinition",r.ENUM_VALUE_DEFINITION="EnumValueDefinition",r.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",r.DIRECTIVE_DEFINITION="DirectiveDefinition",r.SCHEMA_EXTENSION="SchemaExtension",r.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",r.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",r.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",r.UNION_TYPE_EXTENSION="UnionTypeExtension",r.ENUM_TYPE_EXTENSION="EnumTypeExtension",r.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(we||(we={}));const Nv=Object.freeze({});function Vx(r,e,t=Gx){const n=new Map;for(const M of Object.values(we))n.set(M,Iv(e,M));let i,a=Array.isArray(r),o=[r],s=-1,c=[],f,u,l;const m=[],v=[];let A=r;do{s++;const M=s===o.length,U=M&&c.length!==0;if(M){if(u=v.length===0?void 0:m[m.length-1],f=l,l=v.pop(),U)if(a){f=f.slice();let j=0;for(const[R,z]of c){const V=R-j;z===null?(f.splice(V,1),j++):f[V]=z}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(const[j,R]of c)f[j]=R}s=i.index,o=i.keys,c=i.edits,a=i.inArray,i=i.prev}else{if(u=l?a?s:o[s]:void 0,f=l?l[u]:A,f==null)continue;l&&m.push(u)}let E;if(!Array.isArray(f)){var N,y;zx(f)||Qs(!1,`Invalid AST Node: ${Hx(f)}.`);const j=M?(N=n.get(f.kind))===null||N===void 0?void 0:N.leave:(y=n.get(f.kind))===null||y===void 0?void 0:y.enter;if(E=j==null?void 0:j.call(e,f,u,l,m,v),E===Nv)break;if(E===!1){if(!M){m.pop();continue}}else if(E!==void 0&&(c.push([u,E]),!M))if(zx(E))f=E;else{m.pop();continue}}if(E===void 0&&U&&c.push([u,f]),M)m.pop();else{var k;i={inArray:a,index:s,keys:o,edits:c,prev:i},a=Array.isArray(f),o=a?f:(k=t[f.kind])!==null&&k!==void 0?k:[],s=-1,c=[],l&&v.push(l),l=f}}while(i!==void 0);return c.length!==0&&(A=c[c.length-1][1]),A}function Iv(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function Of(r){return r===9||r===32}function so(r){return r>=48&&r<=57}function Wx(r){return r>=97&&r<=122||r>=65&&r<=90}function Kx(r){return Wx(r)||r===95}function Cv(r){return Wx(r)||so(r)||r===95}function Mv(r){var e;let t=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let o=0;o<r.length;++o){var a;const s=r[o],c=Ov(s);c!==s.length&&(n=(a=n)!==null&&a!==void 0?a:o,i=o,o!==0&&c<t&&(t=c))}return r.map((o,s)=>s===0?o:o.slice(t)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function Ov(r){let e=0;for(;e<r.length&&Of(r.charCodeAt(e));)++e;return e}function Rv(r,e){const t=r.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),i=n.length===1,a=n.length>1&&n.slice(1).every(v=>v.length===0||Of(v.charCodeAt(0))),o=t.endsWith('\\"""'),s=r.endsWith('"')&&!o,c=r.endsWith("\\"),f=s||c,u=!(e!=null&&e.minimize)&&(!i||r.length>70||f||a||o);let l="";const m=i&&Of(r.charCodeAt(0));return(u&&!m||a)&&(l+=`
`),l+=t,(u||f)&&(l+=`
`),'"""'+l+'"""'}function Pv(r){return`"${r.replace(Dv,Fv)}"`}const Dv=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Fv(r){return Bv[r.charCodeAt(0)]}const Bv=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function Jx(r){return Vx(r,Uv)}const Lv=80,Uv={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>he(r.definitions,`

`)},OperationDefinition:{leave(r){const e=Ue("(",he(r.variableDefinitions,", "),")"),t=he([r.operation,he([r.name,e]),he(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n})=>r+": "+e+Ue(" = ",t)+Ue(" ",he(n," "))},SelectionSet:{leave:({selections:r})=>Wr(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:i}){const a=Ue("",r,": ")+e;let o=a+Ue("(",he(t,", "),")");return o.length>Lv&&(o=a+Ue(`(
`,e0(he(t,`
`)),`
)`)),he([o,he(n," "),i]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+Ue(" ",he(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>he(["...",Ue("on ",r),he(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:i})=>`fragment ${r}${Ue("(",he(t,", "),")")} on ${e} ${Ue("",he(n," ")," ")}`+i},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?Rv(r):Pv(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+he(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+he(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+Ue("(",he(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>Ue("",r,`
`)+he(["schema",he(e," "),Wr(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>Ue("",r,`
`)+he(["scalar",e,he(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>Ue("",r,`
`)+he(["type",e,Ue("implements ",he(t," & ")),he(n," "),Wr(i)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:i})=>Ue("",r,`
`)+e+(Yx(t)?Ue(`(
`,e0(he(t,`
`)),`
)`):Ue("(",he(t,", "),")"))+": "+n+Ue(" ",he(i," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:i})=>Ue("",r,`
`)+he([e+": "+t,Ue("= ",n),he(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:i})=>Ue("",r,`
`)+he(["interface",e,Ue("implements ",he(t," & ")),he(n," "),Wr(i)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>Ue("",r,`
`)+he(["union",e,he(t," "),Ue("= ",he(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>Ue("",r,`
`)+he(["enum",e,he(t," "),Wr(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>Ue("",r,`
`)+he([e,he(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>Ue("",r,`
`)+he(["input",e,he(t," "),Wr(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:i})=>Ue("",r,`
`)+"directive @"+e+(Yx(t)?Ue(`(
`,e0(he(t,`
`)),`
)`):Ue("(",he(t,", "),")"))+(n?" repeatable":"")+" on "+he(i," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>he(["extend schema",he(r," "),Wr(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>he(["extend scalar",r,he(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>he(["extend type",r,Ue("implements ",he(e," & ")),he(t," "),Wr(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>he(["extend interface",r,Ue("implements ",he(e," & ")),he(t," "),Wr(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>he(["extend union",r,he(e," "),Ue("= ",he(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>he(["extend enum",r,he(e," "),Wr(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>he(["extend input",r,he(e," "),Wr(t)]," ")}};function he(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function Wr(r){return Ue(`{
`,e0(he(r,`
`)),`
}`)}function Ue(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function e0(r){return Ue("  ",r.replace(/\n/g,`
  `))}function Yx(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function $v(r){return typeof r=="object"&&r!==null}function jv(r,e){if(!Boolean(r))throw new Error(e!=null?e:"Unexpected invariant triggered.")}const Hv=/\r\n|[\n\r]/g;function Rf(r,e){let t=0,n=1;for(const i of r.body.matchAll(Hv)){if(typeof i.index=="number"||jv(!1),i.index>=e)break;t=i.index+i[0].length,n+=1}return{line:n,column:e+1-t}}function qv(r){return Xx(r.source,Rf(r.source,r.start))}function Xx(r,e){const t=r.locationOffset.column-1,n="".padStart(t)+r.body,i=e.line-1,a=r.locationOffset.line-1,o=e.line+a,s=e.line===1?t:0,c=e.column+s,f=`${r.name}:${o}:${c}
`,u=n.split(/\r\n|[\n\r]/g),l=u[i];if(l.length>120){const m=Math.floor(c/80),v=c%80,A=[];for(let N=0;N<l.length;N+=80)A.push(l.slice(N,N+80));return f+Zx([[`${o} |`,A[0]],...A.slice(1,m+1).map(N=>["|",N]),["|","^".padStart(v)],["|",A[m+1]]])}return f+Zx([[`${o-1} |`,u[i-1]],[`${o} |`,l],["|","^".padStart(c)],[`${o+1} |`,u[i+1]]])}function Zx(r){const e=r.filter(([n,i])=>i!==void 0),t=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(t)+(i?" "+i:"")).join(`
`)}class co extends Error{constructor(e,t,n,i,a,o,s){var c,f,u;super(e);this.name="GraphQLError",this.path=a!=null?a:void 0,this.originalError=o!=null?o:void 0,this.nodes=Qx(Array.isArray(t)?t:t?[t]:void 0);const l=Qx((c=this.nodes)===null||c===void 0?void 0:c.map(v=>v.loc).filter(v=>v!=null));this.source=n!=null?n:l==null||(f=l[0])===null||f===void 0?void 0:f.source,this.positions=i!=null?i:l==null?void 0:l.map(v=>v.start),this.locations=i&&n?i.map(v=>Rf(n,v)):l==null?void 0:l.map(v=>Rf(v.source,v.start));const m=$v(o==null?void 0:o.extensions)?o==null?void 0:o.extensions:void 0;this.extensions=(u=s!=null?s:m)!==null&&u!==void 0?u:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),o!=null&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,co):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+qv(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+Xx(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Qx(r){return r===void 0||r.length===0?void 0:r}function $t(r,e,t){return new co(`Syntax Error: ${t}`,void 0,r,[e])}let X;(function(r){r.SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment"})(X||(X={}));const Gv=function(e,t){return e instanceof t};class ep{constructor(e,t="GraphQL request",n={line:1,column:1}){typeof e=="string"||Qs(!1,`Body must be a string. Received: ${Hx(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Qs(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Qs(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function zv(r){return Gv(r,ep)}let Pf;(function(r){r.QUERY="QUERY",r.MUTATION="MUTATION",r.SUBSCRIPTION="SUBSCRIPTION",r.FIELD="FIELD",r.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",r.FRAGMENT_SPREAD="FRAGMENT_SPREAD",r.INLINE_FRAGMENT="INLINE_FRAGMENT",r.VARIABLE_DEFINITION="VARIABLE_DEFINITION",r.SCHEMA="SCHEMA",r.SCALAR="SCALAR",r.OBJECT="OBJECT",r.FIELD_DEFINITION="FIELD_DEFINITION",r.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",r.INTERFACE="INTERFACE",r.UNION="UNION",r.ENUM="ENUM",r.ENUM_VALUE="ENUM_VALUE",r.INPUT_OBJECT="INPUT_OBJECT",r.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Pf||(Pf={}));class Vv{constructor(e){const t=new qx(X.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==X.EOF)do if(e.next)e=e.next;else{const t=Kv(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===X.COMMENT);return e}}function Wv(r){return r===X.BANG||r===X.DOLLAR||r===X.AMP||r===X.PAREN_L||r===X.PAREN_R||r===X.SPREAD||r===X.COLON||r===X.EQUALS||r===X.AT||r===X.BRACKET_L||r===X.BRACKET_R||r===X.BRACE_L||r===X.PIPE||r===X.BRACE_R}function pa(r){return r>=0&&r<=55295||r>=57344&&r<=1114111}function t0(r,e){return tp(r.charCodeAt(e))&&rp(r.charCodeAt(e+1))}function tp(r){return r>=55296&&r<=56319}function rp(r){return r>=56320&&r<=57343}function Mi(r,e){const t=r.source.body.codePointAt(e);if(t===void 0)return X.EOF;if(t>=32&&t<=126){const n=String.fromCodePoint(t);return n==='"'?`'"'`:`"${n}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function Tt(r,e,t,n,i){const a=r.line,o=1+t-r.lineStart;return new qx(e,t,n,a,o,i)}function Kv(r,e){const t=r.source.body,n=t.length;let i=e;for(;i<n;){const a=t.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++r.line,r.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++r.line,r.lineStart=i;continue;case 35:return Jv(r,i);case 33:return Tt(r,X.BANG,i,i+1);case 36:return Tt(r,X.DOLLAR,i,i+1);case 38:return Tt(r,X.AMP,i,i+1);case 40:return Tt(r,X.PAREN_L,i,i+1);case 41:return Tt(r,X.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return Tt(r,X.SPREAD,i,i+3);break;case 58:return Tt(r,X.COLON,i,i+1);case 61:return Tt(r,X.EQUALS,i,i+1);case 64:return Tt(r,X.AT,i,i+1);case 91:return Tt(r,X.BRACKET_L,i,i+1);case 93:return Tt(r,X.BRACKET_R,i,i+1);case 123:return Tt(r,X.BRACE_L,i,i+1);case 124:return Tt(r,X.PIPE,i,i+1);case 125:return Tt(r,X.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?t5(r,i):Xv(r,i)}if(so(a)||a===45)return Yv(r,i,a);if(Kx(a))return r5(r,i);throw $t(r.source,i,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:pa(a)||t0(t,i)?`Unexpected character: ${Mi(r,i)}.`:`Invalid character: ${Mi(r,i)}.`)}return Tt(r,X.EOF,n,n)}function Jv(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const a=t.charCodeAt(i);if(a===10||a===13)break;if(pa(a))++i;else if(t0(t,i))i+=2;else break}return Tt(r,X.COMMENT,e,i,t.slice(e+1,i))}function Yv(r,e,t){const n=r.source.body;let i=e,a=t,o=!1;if(a===45&&(a=n.charCodeAt(++i)),a===48){if(a=n.charCodeAt(++i),so(a))throw $t(r.source,i,`Invalid number, unexpected digit after 0: ${Mi(r,i)}.`)}else i=Df(r,i,a),a=n.charCodeAt(i);if(a===46&&(o=!0,a=n.charCodeAt(++i),i=Df(r,i,a),a=n.charCodeAt(i)),(a===69||a===101)&&(o=!0,a=n.charCodeAt(++i),(a===43||a===45)&&(a=n.charCodeAt(++i)),i=Df(r,i,a),a=n.charCodeAt(i)),a===46||Kx(a))throw $t(r.source,i,`Invalid number, expected digit but got: ${Mi(r,i)}.`);return Tt(r,o?X.FLOAT:X.INT,e,i,n.slice(e,i))}function Df(r,e,t){if(!so(t))throw $t(r.source,e,`Invalid number, expected digit but got: ${Mi(r,e)}.`);const n=r.source.body;let i=e+1;for(;so(n.charCodeAt(i));)++i;return i}function Xv(r,e){const t=r.source.body,n=t.length;let i=e+1,a=i,o="";for(;i<n;){const s=t.charCodeAt(i);if(s===34)return o+=t.slice(a,i),Tt(r,X.STRING,e,i+1,o);if(s===92){o+=t.slice(a,i);const c=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?Zv(r,i):Qv(r,i):e5(r,i);o+=c.value,i+=c.size,a=i;continue}if(s===10||s===13)break;if(pa(s))++i;else if(t0(t,i))i+=2;else throw $t(r.source,i,`Invalid character within String: ${Mi(r,i)}.`)}throw $t(r.source,i,"Unterminated string.")}function Zv(r,e){const t=r.source.body;let n=0,i=3;for(;i<12;){const a=t.charCodeAt(e+i++);if(a===125){if(i<5||!pa(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|fo(a),n<0)break}throw $t(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function Qv(r,e){const t=r.source.body,n=np(t,e+2);if(pa(n))return{value:String.fromCodePoint(n),size:6};if(tp(n)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const i=np(t,e+8);if(rp(i))return{value:String.fromCodePoint(n,i),size:12}}throw $t(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function np(r,e){return fo(r.charCodeAt(e))<<12|fo(r.charCodeAt(e+1))<<8|fo(r.charCodeAt(e+2))<<4|fo(r.charCodeAt(e+3))}function fo(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function e5(r,e){const t=r.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw $t(r.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function t5(r,e){const t=r.source.body,n=t.length;let i=r.lineStart,a=e+3,o=a,s="";const c=[];for(;a<n;){const f=t.charCodeAt(a);if(f===34&&t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34){s+=t.slice(o,a),c.push(s);const u=Tt(r,X.BLOCK_STRING,e,a+3,Mv(c).join(`
`));return r.line+=c.length-1,r.lineStart=i,u}if(f===92&&t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34&&t.charCodeAt(a+3)===34){s+=t.slice(o,a),o=a+1,a+=4;continue}if(f===10||f===13){s+=t.slice(o,a),c.push(s),f===13&&t.charCodeAt(a+1)===10?a+=2:++a,s="",o=a,i=a;continue}if(pa(f))++a;else if(t0(t,a))a+=2;else throw $t(r.source,a,`Invalid character within String: ${Mi(r,a)}.`)}throw $t(r.source,a,"Unterminated string.")}function r5(r,e){const t=r.source.body,n=t.length;let i=e+1;for(;i<n;){const a=t.charCodeAt(i);if(Cv(a))++i;else break}return Tt(r,X.NAME,e,i,t.slice(e,i))}function n5(r,e){return new i5(r,e).parseDocument()}class i5{constructor(e,t){const n=zv(e)?e:new ep(e);this._lexer=new Vv(n),this._options=t}parseName(){const e=this.expectToken(X.NAME);return this.node(e,{kind:we.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:we.DOCUMENT,definitions:this.many(X.SOF,this.parseDefinition,X.EOF)})}parseDefinition(){if(this.peek(X.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===X.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw $t(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(X.BRACE_L))return this.node(e,{kind:we.OPERATION_DEFINITION,operation:xa.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(X.NAME)&&(n=this.parseName()),this.node(e,{kind:we.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(X.NAME);switch(e.value){case"query":return xa.QUERY;case"mutation":return xa.MUTATION;case"subscription":return xa.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(X.PAREN_L,this.parseVariableDefinition,X.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:we.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(X.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(X.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(X.DOLLAR),this.node(e,{kind:we.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:we.SELECTION_SET,selections:this.many(X.BRACE_L,this.parseSelection,X.BRACE_R)})}parseSelection(){return this.peek(X.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,i;return this.expectOptionalToken(X.COLON)?(n=t,i=this.parseName()):i=t,this.node(e,{kind:we.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(X.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(X.PAREN_L,t,X.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(t,{kind:we.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(X.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(X.NAME)?this.node(e,{kind:we.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:we.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.allowLegacyFragmentVariables)===!0?this.node(t,{kind:we.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:we.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case X.BRACKET_L:return this.parseList(e);case X.BRACE_L:return this.parseObject(e);case X.INT:return this._lexer.advance(),this.node(t,{kind:we.INT,value:t.value});case X.FLOAT:return this._lexer.advance(),this.node(t,{kind:we.FLOAT,value:t.value});case X.STRING:case X.BLOCK_STRING:return this.parseStringLiteral();case X.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:we.BOOLEAN,value:!0});case"false":return this.node(t,{kind:we.BOOLEAN,value:!1});case"null":return this.node(t,{kind:we.NULL});default:return this.node(t,{kind:we.ENUM,value:t.value})}case X.DOLLAR:if(e)if(this.expectToken(X.DOLLAR),this._lexer.token.kind===X.NAME){const n=this._lexer.token.value;throw $t(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:we.STRING,value:e.value,block:e.kind===X.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:we.LIST,values:this.any(X.BRACKET_L,t,X.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:we.OBJECT,fields:this.any(X.BRACE_L,t,X.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(t,{kind:we.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(X.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(X.AT),this.node(t,{kind:we.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(X.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(X.BRACKET_R),t=this.node(e,{kind:we.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(X.BANG)?this.node(e,{kind:we.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:we.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(X.STRING)||this.peek(X.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);return this.node(e,{kind:we.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(X.COLON);const n=this.parseNamedType();return this.node(e,{kind:we.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:we.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:we.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:a,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(X.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseFieldDefinition,X.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(X.COLON);const a=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:we.FIELD_DEFINITION,description:t,name:n,arguments:i,type:a,directives:o})}parseArgumentDefs(){return this.optionalMany(X.PAREN_L,this.parseInputValueDef,X.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(X.COLON);const i=this.parseTypeReference();let a;this.expectOptionalToken(X.EQUALS)&&(a=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:we.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:a,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:we.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:a,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(e,{kind:we.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(X.EQUALS)?this.delimitedMany(X.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(e,{kind:we.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:a})}parseEnumValuesDefinition(){return this.optionalMany(X.BRACE_L,this.parseEnumValueDefinition,X.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:we.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw $t(this._lexer.source,this._lexer.token.start,`${r0(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(e,{kind:we.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseInputValueDef,X.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===X.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);if(t.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:we.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:we.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:we.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:a})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:we.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:a})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:we.UNION_TYPE_EXTENSION,name:t,directives:n,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:we.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:we.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(X.AT);const n=this.parseName(),i=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:we.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:a,locations:o})}parseDirectiveLocations(){return this.delimitedMany(X.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(Pf,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return((n=this._options)===null||n===void 0?void 0:n.noLocation)!==!0&&(t.loc=new kv(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw $t(this._lexer.source,t.start,`Expected ${ip(e)}, found ${r0(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this._lexer.advance(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===X.NAME&&t.value===e)this._lexer.advance();else throw $t(this._lexer.source,t.start,`Expected "${e}", found ${r0(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===X.NAME&&t.value===e?(this._lexer.advance(),!0):!1}unexpected(e){const t=e!=null?e:this._lexer.token;return $t(this._lexer.source,t.start,`Unexpected ${r0(t)}.`)}any(e,t,n){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(n);)i.push(t.call(this));return i}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,t,n){this.expectToken(e);const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}}function r0(r){const e=r.value;return ip(r.kind)+(e!=null?` "${e}"`:"")}function ip(r){return Wv(r)?`"${r}"`:r}function yt(r,e){return e.tag=r,e}function or(){}function Ff(r){return function(e){var t=r.length;let n=!1,i=!1,a=!1,o=0;e(yt(0,[function(s){if(s)n=!0;else if(i)a=!0;else{for(i=a=!0;a&&!n;)o<t?(s=r[o],o=o+1|0,a=!1,e(yt(1,[s]))):(n=!0,e(0));i=!1}}]))}}function a5(){}function o5(r){r(0)}function s5(r){let e=!1;r(yt(0,[function(t){t?e=!0:e||r(0)}]))}function c5(r){if(r===null||r[0]!==dp)return r;if((r=r[1])!==0)return[dp,r-1|0]}function f5(r){return function(e){return function(t){function n(l){typeof l=="number"?c&&(c=!1,(l=i.shift())!==void 0?(l=r(c5(l)),c=!0,l(n)):u?t(0):o||(o=!0,a(0))):l.tag?c&&(t(l),f?f=!1:s(0)):(s=l=l[0],f=!1,l(0))}let i=[],a=or,o=!1,s=or,c=!1,f=!1,u=!1;e(function(l){typeof l=="number"?u||(u=!0,c||i.length!==0||t(0)):l.tag?u||(l=l[0],o=!1,c?i.push(l):(l=r(l),c=!0,l(n))):a=l[0]}),t(yt(0,[function(l){if(l){if(u||(u=!0,a(1)),c)return c=!1,s(1)}else u||o||(o=!0,a(0)),c&&!f&&(f=!0,s(0))}]))}}}function u5(r){return r}function d5(r){return r(0)}function ap(r){return function(e){return function(t){let n=or,i=!1,a=[],o=!1;e(function(s){typeof s=="number"?o||(o=!0,a.length===0&&t(0)):s.tag?o||(i=!1,function(c){function f(m){typeof m=="number"?a.length!==0&&(a=a.filter(u),m=a.length===0,o&&m?t(0):!i&&m&&(i=!0,n(0))):m.tag?a.length!==0&&(t(yt(1,[m[0]])),l(0)):(l=m=m[0],a=a.concat(m),m(0))}function u(m){return m!==l}let l=or;c.length===1?c(f):c.bind(null,f)}(r(s[0])),i||(i=!0,n(0))):n=s[0]}),t(yt(0,[function(s){s?(o||(o=!0,n(s)),a.forEach(function(c){return c(s)}),a=[]):(i||o?i=!1:(i=!0,n(0)),a.forEach(d5))}]))}}}function l5(r){return r}function uo(r){return function(e){return function(t){let n=!1;return e(function(i){if(typeof i=="number")n||(n=!0,t(i));else if(i.tag)n||(r(i[0]),t(i));else{var a=i[0];t(yt(0,[function(o){if(!n)return o&&(n=!0),a(o)}]))}})}}}function h5(r){r(0)}function x5(r){return function(e){return function(t){function n(u){s&&(typeof u=="number"?(s=!1,f?t(u):a||(a=!0,i(0))):u.tag?(t(u),c?c=!1:o(0)):(o=u=u[0],c=!1,u(0)))}let i=or,a=!1,o=or,s=!1,c=!1,f=!1;e(function(u){typeof u=="number"?f||(f=!0,s||t(0)):u.tag?f||(s&&(o(1),o=or),a?a=!1:(a=!0,i(0)),u=r(u[0]),s=!0,u(n)):i=u[0]}),t(yt(0,[function(u){if(u){if(f||(f=!0,i(1)),s)return s=!1,o(1)}else f||a||(a=!0,i(0)),s&&!c&&(c=!0,o(0))}]))}}}function p5(r){return function(e){return function(t){let n=[],i=or;return e(function(a){typeof a=="number"?Ff(n)(t):a.tag?(n.length>=r&&0<r&&n.shift(),n.push(a[0]),i(0)):(a=a[0],0>=r?(a(1),s5(t)):(i=a,a(0)))})}}}function Bf(r){return function(e){let t=or,n=!1;return e(function(i){typeof i=="number"?n=!0:i.tag?n||(r(i[0]),t(0)):(t=i=i[0],i(0))}),{unsubscribe:function(){if(!n)return n=!0,t(1)}}}}function b5(){}function H7(r){return f5(u5)(Ff(r))}function gr(r){return function(e){return function(t){let n=or;return e(function(i){typeof i=="number"?t(i):i.tag?r(i[0])?t(i):n(0):(n=i[0],t(i))})}}}function op(r){return function(e){let t=!1;e(yt(0,[function(n){n?t=!0:t||(t=!0,e(yt(1,[r])),e(0))}]))}}function sp(r){return function(e){let t=a5,n=!1;t=r({next:function(i){n||e(yt(1,[i]))},complete:function(){n||(n=!0,e(0))}}),e(yt(0,[function(i){if(i&&!n)return n=!0,t()}]))}}function m5(){let r=[],e=!1;return{source:function(t){function n(i){return i!==t}r=r.concat(t),t(yt(0,[function(i){i&&(r=r.filter(n))}]))},next:function(t){e||r.forEach(function(n){n(yt(1,[t]))})},complete:function(){e||(e=!0,r.forEach(o5))}}}function lo(r){return function(e){return function(t){return e(function(n){n=typeof n=="number"?0:n.tag?yt(1,[r(n[0])]):yt(0,[n[0]]),t(n)})}}}function n0(r){return ap(l5)(Ff(r))}function cp(r){return function(e){return function(t){let n=!1;return e(function(i){if(typeof i=="number")return n?void 0:(n=!0,t(i),r());if(i.tag)n||t(i);else{var a=i[0];t(yt(0,[function(o){if(!n)return o?(n=!0,a(o),r()):a(o)}]))}})}}}function fp(r){return function(e){return function(t){return e(function(n){typeof n=="number"||n.tag?t(n):(t(n),r())})}}}function q7(){for(var r=arguments,e=arguments[0],t=1,n=arguments.length;t<n;t++)e=r[t](e);return e}function g5(r){return Bf(b5)(r)}function G7(r,e){return function(t,n){return function(i){return function(a){let o=n;return i(function(s){typeof s=="number"?s=0:s.tag?(o=t(o,s[0]),s=yt(1,[o])):s=yt(0,[s[0]]),a(s)})}}}(r,e)}function i0(r){function e(a){typeof a=="number"?(t.forEach(h5),t=[]):a.tag?(i=!1,t.forEach(function(o){o(a)})):n=a[0]}let t=[],n=or,i=!1;return function(a){function o(s){return s!==a}t=t.concat(a),t.length===1&&r(e),a(yt(0,[function(s){if(s){if(t=t.filter(o),t.length===0)return n(1)}else i||(i=!0,n(s))}]))}}function Lf(r){return function(e){return function(t){let n=!1,i=0,a=or;e(function(o){typeof o=="number"?n||(n=!0,t(0)):o.tag?i<r&&!n&&(i=i+1|0,t(o),!n&&i>=r&&(n=!0,t(0),a(1))):(o=o[0],0>=r?(n=!0,t(0),o(1)):a=o)}),t(yt(0,[function(o){if(!n){if(o)return n=!0,a(1);if(i<r)return a(0)}}]))}}}function up(r){return function(e){return function(t){function n(s){typeof s!="number"&&(s.tag?(i=!0,a(1),t(0)):(o=s=s[0],s(0)))}let i=!1,a=or,o=or;e(function(s){typeof s=="number"?i||(i=!0,o(1),t(0)):s.tag?i||t(s):(a=s[0],r(n))}),t(yt(0,[function(s){if(!i)return s?(i=!0,a(1),o(1)):a(0)}]))}}}function v5(r){return new Promise(function(e){p5(1)(r)(function(t){typeof t!="number"&&(t.tag?e(t[0]):t[0](0))})})}var dp=[];typeof Symbol=="function"&&(Symbol.observable||(Symbol.observable=Symbol("observable")));function y5(r){return typeof r=="string"?new co(r):typeof r=="object"&&r.message?new co(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):r}var Uf=function(r){function e(t){var n=t.networkError,i=t.response,a=(t.graphQLErrors||[]).map(y5),o=function(c,f){var u="";return c!==void 0?u="[Network] "+c.message:(f!==void 0&&f.forEach(function(l){u+="[GraphQL] "+l.message+`
`}),u.trim())}(n,a);r.call(this,o),this.name="CombinedError",this.message=o,this.graphQLErrors=a,this.networkError=n,this.response=i}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.toString=function(){return this.message},e}(Error);function lp(r,e){r|=0;for(var t=0,n=0|e.length;t<n;t++)r=(r<<5)+r+e.charCodeAt(t);return r}function hp(r){return lp(5381,r)>>>0}var a0=new Set,xp=new WeakMap;function ho(r){if(r===null||a0.has(r))return"null";if(typeof r!="object")return JSON.stringify(r)||"";if(r.toJSON)return ho(r.toJSON());if(Array.isArray(r)){for(var e="[",t=0,n=r.length;t<n;t++){t>0&&(e+=",");var i=ho(r[t]);e+=i.length>0?i:"null"}return e+="]"}var a=Object.keys(r).sort();if(!a.length&&r.constructor&&r.constructor!==Object){var o=xp.get(r)||Math.random().toString(36).slice(2);return xp.set(r,o),'{"__key":"'+o+'"}'}a0.add(r);for(var s="{",c=0,f=a.length;c<f;c++){var u=a[c],l=ho(r[u]);l&&(s.length>1&&(s+=","),s+=ho(u)+":"+l)}return a0.delete(r),s+="}"}function $f(r){return a0.clear(),ho(r)}function jf(r){var e=(typeof r!="string"?r.loc&&r.loc.source.body||Jx(r):r).replace(/([\s,]|#[^\n\r]+)+/g," ").trim();if(typeof r!="string"){var t="definitions"in r&&bp(r);t&&(e="# "+t+`
`+e),r.loc||(r.loc={start:0,end:e.length,source:{body:e,name:"gql",locationOffset:{line:1,column:1}}})}return e}var Hf=new Map;function pp(r){var e,t;return typeof r=="string"?(e=hp(jf(r)),t=Hf.get(e)||n5(r,{noLocation:!0})):(e=r.__key||hp(jf(r)),t=Hf.get(e)||r),t.loc||jf(t),t.__key=e,Hf.set(e,t),t}function qf(r,e){e||(e={});var t=pp(r);return{key:lp(t.__key,$f(e))>>>0,query:t,variables:e}}function bp(r){for(var e=0,t=r.definitions.length;e<t;e++){var n=r.definitions[e];if(n.kind===we.OPERATION_DEFINITION&&n.name)return n.name.value}}function w5(r){for(var e=0,t=r.definitions.length;e<t;e++){var n=r.definitions[e];if(n.kind===we.OPERATION_DEFINITION)return n.operation}}function It(){return(It=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function Gf(r,e,t){if(!("data"in e)&&!("errors"in e)||"path"in e)throw new Error("No Content");return{operation:r,data:e.data,error:Array.isArray(e.errors)?new Uf({graphQLErrors:e.errors,response:t}):void 0,extensions:typeof e.extensions=="object"&&e.extensions||void 0,hasNext:!!e.hasNext}}function _5(r,e,t){var n=It({},r);if(n.hasNext=!!e.hasNext,!("path"in e))return"data"in e&&(n.data=e.data),n;Array.isArray(e.errors)&&(n.error=new Uf({graphQLErrors:n.error?n.error.graphQLErrors.concat(e.errors):e.errors,response:t}));for(var i=n.data=It({},n.data),a=0,o;a<e.path.length;)i=i[o=e.path[a++]]=Array.isArray(i[o])?[].concat(i[o]):It({},i[o]);return It(i,e.data),n}function E5(r,e,t){return{operation:r,data:void 0,error:new Uf({networkError:e,response:t}),extensions:void 0}}function mp(r){return r.kind==="query"&&!!r.context.preferGetMethod}function S5(r){return{query:Jx(r.query),operationName:bp(r.query),variables:r.variables||void 0,extensions:void 0}}function A5(r,e){var t=mp(r),n=r.context.url;if(!t||!e)return n;var i=[];return e.operationName&&i.push("operationName="+encodeURIComponent(e.operationName)),e.query&&i.push("query="+encodeURIComponent(e.query.replace(/#[^\n\r]+/g," ").trim())),e.variables&&i.push("variables="+encodeURIComponent($f(e.variables))),e.extensions&&i.push("extensions="+encodeURIComponent($f(e.extensions))),n+"?"+i.join("&")}function k5(r,e){var t=mp(r),n=typeof r.context.fetchOptions=="function"?r.context.fetchOptions():r.context.fetchOptions||{};return It({},n,{body:!t&&e?JSON.stringify(e):void 0,method:t?"GET":"POST",headers:t?n.headers:It({},{"content-type":"application/json"},n.headers)})}var zf=typeof Symbol!="undefined"?Symbol.asyncIterator:null,T5=typeof TextDecoder!="undefined"?new TextDecoder:null,N5=/content-type:[^\r\n]*application\/json/i,I5=/boundary="?([^=";]+)"?/i;function C5(r,e,t){var n=t.headers&&t.headers.get("Content-Type")||"";if(!/multipart\/mixed/i.test(n))return t.json().then(function(A){r(Gf(e,A,t))});var i="---",a=n.match(I5);a&&(i="--"+a[1]);var o,s=function(){};if(zf&&t[zf]){var c=t[zf]();o=c.next.bind(c)}else if("body"in t&&t.body){var f=t.body.getReader();s=f.cancel.bind(f),o=f.read.bind(f)}else throw new TypeError("Streaming requests unsupported");var u="",l=!0,m=null,v=null;return o().then(function A(N){if(!N.done){var y=function(te){return te.constructor.name==="Buffer"?te.toString():T5.decode(te)}(N.value),k=y.indexOf(i);for(k>-1?k+=u.length:k=u.indexOf(i),u+=y;k>-1;){var M=u.slice(0,k),U=u.slice(k+i.length);if(l)l=!1;else{var E=M.indexOf(`\r
\r
`)+4,j=M.slice(0,E),R=M.slice(E,M.lastIndexOf(`\r
`)),z=void 0;if(N5.test(j))try{z=JSON.parse(R),m=v=v?_5(v,z,t):Gf(e,z,t)}catch{}if(U.slice(0,2)==="--"||z&&!z.hasNext){if(!v)return r(Gf(e,{},t));break}}k=(u=U).indexOf(i)}}if(m&&(r(m),m=null),!N.done&&(!v||v.hasNext))return o().then(A)}).finally(s)}function M5(r,e,t){var n=t.redirect==="manual"?400:300,i=r.context.fetch;return sp(function(a){var o=a.next,s=a.complete,c=typeof AbortController!="undefined"?new AbortController:null;c&&(t.signal=c.signal);var f=!1,u=!1,l;return Promise.resolve().then(function(){if(!f)return(i||fetch)(e,t)}).then(function(m){if(!!m)return u=(l=m).status<200||l.status>=n,C5(o,r,l)}).then(s).catch(function(m){if(m.name!=="AbortError"){var v=E5(r,u?new Error(l.statusText):m,l);o(v),s()}}),function(){f=!0,c&&c.abort()}})}function Vf(r,e){if(Array.isArray(r))for(var t=0;t<r.length;t++)Vf(r[t],e);else if(typeof r=="object"&&r!==null)for(var n in r)n==="__typename"&&typeof r[n]=="string"?e[r[n]]=0:Vf(r[n],e);return e}function O5(r){return Object.keys(Vf(r,{}))}var gp=function(r){if(r.selectionSet&&!r.selectionSet.selections.some(function(e){return e.kind===we.FIELD&&e.name.value==="__typename"&&!e.alias}))return It({},r,{selectionSet:It({},r.selectionSet,{selections:r.selectionSet.selections.concat([{kind:we.FIELD,name:{kind:we.NAME,value:"__typename"}}])})})},vp=new Map;function R5(r){var e=pp(r),t=vp.get(e.__key);return t||(t=Vx(e,{Field:gp,InlineFragment:gp}),Object.defineProperty(t,"__key",{value:e.__key,enumerable:!1}),vp.set(e.__key,t)),t}function Wf(r){return!r||typeof r!="object"?r:Object.keys(r).reduce(function(e,t){var n=r[t];return t==="__typename"?Object.defineProperty(e,"__typename",{enumerable:!1,value:n}):Array.isArray(n)?e[t]=n.map(Wf):n&&typeof n=="object"&&"__typename"in n?e[t]=Wf(n):e[t]=n,e},Array.isArray(r)?[]:{})}function yp(r){return r.toPromise=function(){return v5(Lf(1)(gr(function(e){return!e.stale&&!e.hasNext})(r)))},r}function xo(r,e,t){return t||(t=e.context),{key:e.key,query:e.query,variables:e.variables,kind:r,context:t}}function wp(r,e){return xo(r.kind,r,It({},r.context,{meta:It({},r.context.meta,e)}))}function _p(){}function Kf(r){var e=r.kind;return e!=="mutation"&&e!=="query"}function P5(r){var e=r.forward,t=r.client;r.dispatchDebug;var n=new Map,i=Object.create(null);function a(s){var c=xo(s.kind,s);return c.query=R5(s.query),c}function o(s){var c=s.context.requestPolicy;return s.kind==="query"&&c!=="network-only"&&(c==="cache-only"||n.has(s.key))}return function(s){var c=i0(s),f=lo(function(l){var m=n.get(l.key),v=It({},m,{operation:wp(l,{cacheOutcome:m?"hit":"miss"})});return l.context.requestPolicy==="cache-and-network"&&(v.stale=!0,Ep(t,l)),v})(gr(function(l){return!Kf(l)&&o(l)})(c)),u=uo(function(l){var m=l.operation;if(!!m){var v=O5(l.data).concat(m.context.additionalTypenames||[]);if(l.operation.kind==="mutation"){for(var A=new Set,N=0;N<v.length;N++){var y=v[N],k=i[y]||(i[y]=new Set);k.forEach(function(E){A.add(E)}),k.clear()}A.forEach(function(E){n.has(E)&&(m=n.get(E).operation,n.delete(E),Ep(t,m))})}else if(m.kind==="query"&&l.data){n.set(m.key,l);for(var M=0;M<v.length;M++){var U=v[M];(i[U]||(i[U]=new Set)).add(m.key)}}}})(e(gr(function(l){return l.kind!=="query"||l.context.requestPolicy!=="cache-only"})(lo(function(l){return wp(l,{cacheOutcome:"miss"})})(n0([lo(a)(gr(function(l){return!Kf(l)&&!o(l)})(c)),gr(function(l){return Kf(l)})(c)])))));return n0([f,u])}}function Ep(r,e){return r.reexecuteOperation(xo(e.kind,e,It({},e.context,{requestPolicy:"network-only"})))}function D5(r){var e=r.forward;r.dispatchDebug;var t=new Set;function n(a){var o=a.key,s=a.kind;if(s==="teardown")return t.delete(o),!0;if(s!=="query"&&s!=="subscription")return!0;var c=t.has(o);return t.add(o),!c}function i(a){a.hasNext||t.delete(a.operation.key)}return function(a){var o=gr(n)(a);return uo(i)(e(o))}}function F5(r){var e=r.forward;return r.dispatchDebug,function(t){var n=i0(t),i=ap(function(o){var s=o.key,c=gr(function(m){return m.kind==="teardown"&&m.key===s})(n),f=S5(o),u=A5(o,f),l=k5(o,f);return uo(function(m){m.data||m.error})(up(c)(M5(o,u,l)))})(gr(function(o){return o.kind==="query"||o.kind==="mutation"})(n)),a=e(gr(function(o){return o.kind!=="query"&&o.kind!=="mutation"})(n));return n0([i,a])}}function Sp(r){return r.dispatchDebug,function(e){return gr(function(){return!1})(uo(function(t){if(t.kind!=="teardown"&&!1)var n})(e))}}Sp({dispatchDebug:_p});function B5(r){return function(e){var t=e.client;return e.dispatchDebug,r.reduceRight(function(n,i){return i({client:t,forward:n,dispatchDebug:function(o){}})},e.forward)}}var L5=[D5,P5,F5],z7=function r(e){var t=new Map,n=new Map,i=[],a=m5(),o=a.source,s=a.next,c=!1;function f(y){for(c=!0,y&&s(y);y=i.shift();)s(y);c=!1}function u(y){var k=gr(function(M){return M.operation.kind===y.kind&&M.operation.key===y.key})(N);return m.maskTypename&&(k=lo(function(M){return It({},M,{data:Wf(M.data)})})(k)),y.kind==="mutation"?Lf(1)(fp(function(){return f(y)})(k)):i0(cp(function(){t.delete(y.key),n.delete(y.key);for(var M=i.length-1;M>=0;M--)i[M].key===y.key&&i.splice(M,1);f(xo("teardown",y,y.context))})(uo(function(M){t.set(y.key,M)})(x5(function(M){return y.kind!=="query"||M.stale?op(M):n0([op(M),lo(function(){return It({},M,{stale:!0})})(Lf(1)(gr(function(U){return U.kind==="query"&&U.key===y.key&&U.context.requestPolicy!=="cache-only"})(o)))])})(up(gr(function(M){return M.kind==="teardown"&&M.key===y.key})(o))(k)))))}var l=this instanceof r?this:Object.create(r.prototype),m=It(l,{url:e.url,fetchOptions:e.fetchOptions,fetch:e.fetch,suspense:!!e.suspense,requestPolicy:e.requestPolicy||"cache-first",preferGetMethod:!!e.preferGetMethod,maskTypename:!!e.maskTypename,operations$:o,reexecuteOperation:function(k){(k.kind==="mutation"||n.has(k.key))&&(i.push(k),c||Promise.resolve().then(f))},createOperationContext:function(k){return k||(k={}),It({},{url:m.url,fetchOptions:m.fetchOptions,fetch:m.fetch,preferGetMethod:m.preferGetMethod},k,{suspense:k.suspense||k.suspense!==!1&&m.suspense,requestPolicy:k.requestPolicy||m.requestPolicy})},createRequestOperation:function(k,M,U){return w5(M.query),xo(k,M,m.createOperationContext(U))},executeRequestOperation:function(k){return k.kind==="mutation"?u(k):sp(function(M){var U=n.get(k.key);U||n.set(k.key,U=u(k));var E=k.context.requestPolicy==="cache-and-network"||k.context.requestPolicy==="network-only";return Bf(M.next)(cp(M.complete)(fp(function(){var j=t.get(k.key);if(k.kind==="subscription")return f(k);E&&f(k),j!=null&&j===t.get(k.key)?M.next(E?It({},j,{stale:!0}):j):E||f(k)})(U))).unsubscribe})},executeQuery:function(k,M){var U=m.createRequestOperation("query",k,M);return m.executeRequestOperation(U)},executeSubscription:function(k,M){var U=m.createRequestOperation("subscription",k,M);return m.executeRequestOperation(U)},executeMutation:function(k,M){var U=m.createRequestOperation("mutation",k,M);return m.executeRequestOperation(U)},query:function(k,M,U){return(!U||typeof U.suspense!="boolean")&&(U=It({},U,{suspense:!1})),yp(m.executeQuery(qf(k,M),U))},readQuery:function(k,M,U){var E=null;return Bf(function(j){E=j})(m.query(k,M,U)).unsubscribe(),E},subscription:function(k,M,U){return m.executeSubscription(qf(k,M),U)},mutation:function(k,M,U){return yp(m.executeMutation(qf(k,M),U))}}),v=_p,A=B5(e.exchanges!==void 0?e.exchanges:L5),N=i0(A({client:m,dispatchDebug:v,forward:Sp({dispatchDebug:v})})(o));return g5(N),m},Or="top",Kr="bottom",Jr="right",Rr="left",Jf="auto",po=[Or,Kr,Jr,Rr],ba="start",Yf="end",U5="clippingParents",Ap="viewport",bo="popper",$5="reference",kp=po.reduce(function(r,e){return r.concat([e+"-"+ba,e+"-"+Yf])},[]),Tp=[].concat(po,[Jf]).reduce(function(r,e){return r.concat([e,e+"-"+ba,e+"-"+Yf])},[]),j5="beforeRead",H5="read",q5="afterRead",G5="beforeMain",z5="main",V5="afterMain",W5="beforeWrite",K5="write",J5="afterWrite",Y5=[j5,H5,q5,G5,z5,V5,W5,K5,J5];function _n(r){return r?(r.nodeName||"").toLowerCase():null}function Yr(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function mo(r){var e=Yr(r).Element;return r instanceof e||r instanceof Element}function Xr(r){var e=Yr(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function Np(r){if(typeof ShadowRoot=="undefined")return!1;var e=Yr(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function X5(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Xr(a)||!_n(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function Z5(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),s=o.reduce(function(c,f){return c[f]="",c},{});!Xr(i)||!_n(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}var Q5={name:"applyStyles",enabled:!0,phase:"write",fn:X5,effect:Z5,requires:["computeStyles"]};function En(r){return r.split("-")[0]}function ma(r){var e=r.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function Xf(r){var e=ma(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function Ip(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&Np(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function $n(r){return Yr(r).getComputedStyle(r)}function e8(r){return["table","td","th"].indexOf(_n(r))>=0}function ni(r){return((mo(r)?r.ownerDocument:r.document)||window.document).documentElement}function o0(r){return _n(r)==="html"?r:r.assignedSlot||r.parentNode||(Np(r)?r.host:null)||ni(r)}function Cp(r){return!Xr(r)||$n(r).position==="fixed"?null:r.offsetParent}function t8(r){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Xr(r)){var n=$n(r);if(n.position==="fixed")return null}for(var i=o0(r);Xr(i)&&["html","body"].indexOf(_n(i))<0;){var a=$n(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function go(r){for(var e=Yr(r),t=Cp(r);t&&e8(t)&&$n(t).position==="static";)t=Cp(t);return t&&(_n(t)==="html"||_n(t)==="body"&&$n(t).position==="static")?e:t||t8(r)||e}function Zf(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}var ii=Math.max,vo=Math.min,s0=Math.round;function c0(r,e,t){return ii(r,vo(e,t))}function Mp(){return{top:0,right:0,bottom:0,left:0}}function Op(r){return Object.assign({},Mp(),r)}function Rp(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var r8=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Op(typeof e!="number"?e:Rp(e,po))};function n8(r){var e,t=r.state,n=r.name,i=r.options,a=t.elements.arrow,o=t.modifiersData.popperOffsets,s=En(t.placement),c=Zf(s),f=[Rr,Jr].indexOf(s)>=0,u=f?"height":"width";if(!(!a||!o)){var l=r8(i.padding,t),m=Xf(a),v=c==="y"?Or:Rr,A=c==="y"?Kr:Jr,N=t.rects.reference[u]+t.rects.reference[c]-o[c]-t.rects.popper[u],y=o[c]-t.rects.reference[c],k=go(a),M=k?c==="y"?k.clientHeight||0:k.clientWidth||0:0,U=N/2-y/2,E=l[v],j=M-m[u]-l[A],R=M/2-m[u]/2+U,z=c0(E,R,j),V=c;t.modifiersData[n]=(e={},e[V]=z,e.centerOffset=z-R,e)}}function i8(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!Ip(e.elements.popper,i)||(e.elements.arrow=i))}var a8={name:"arrow",enabled:!0,phase:"main",fn:n8,effect:i8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},o8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function s8(r){var e=r.x,t=r.y,n=window,i=n.devicePixelRatio||1;return{x:s0(s0(e*i)/i)||0,y:s0(s0(t*i)/i)||0}}function Pp(r){var e,t=r.popper,n=r.popperRect,i=r.placement,a=r.offsets,o=r.position,s=r.gpuAcceleration,c=r.adaptive,f=r.roundOffsets,u=f===!0?s8(a):typeof f=="function"?f(a):a,l=u.x,m=l===void 0?0:l,v=u.y,A=v===void 0?0:v,N=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),k=Rr,M=Or,U=window;if(c){var E=go(t),j="clientHeight",R="clientWidth";E===Yr(t)&&(E=ni(t),$n(E).position!=="static"&&(j="scrollHeight",R="scrollWidth")),E=E,i===Or&&(M=Kr,A-=E[j]-n.height,A*=s?1:-1),i===Rr&&(k=Jr,m-=E[R]-n.width,m*=s?1:-1)}var z=Object.assign({position:o},c&&o8);if(s){var V;return Object.assign({},z,(V={},V[M]=y?"0":"",V[k]=N?"0":"",V.transform=(U.devicePixelRatio||1)<2?"translate("+m+"px, "+A+"px)":"translate3d("+m+"px, "+A+"px, 0)",V))}return Object.assign({},z,(e={},e[M]=y?A+"px":"",e[k]=N?m+"px":"",e.transform="",e))}function c8(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,a=t.adaptive,o=a===void 0?!0:a,s=t.roundOffsets,c=s===void 0?!0:s,f={placement:En(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Pp(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Pp(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var f8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:c8,data:{}},f0={passive:!0};function u8(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,c=Yr(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(u){u.addEventListener("scroll",t.update,f0)}),s&&c.addEventListener("resize",t.update,f0),function(){a&&f.forEach(function(u){u.removeEventListener("scroll",t.update,f0)}),s&&c.removeEventListener("resize",t.update,f0)}}var d8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:u8,data:{}},l8={left:"right",right:"left",bottom:"top",top:"bottom"};function u0(r){return r.replace(/left|right|bottom|top/g,function(e){return l8[e]})}var h8={start:"end",end:"start"};function Dp(r){return r.replace(/start|end/g,function(e){return h8[e]})}function Qf(r){var e=Yr(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function eu(r){return ma(ni(r)).left+Qf(r).scrollLeft}function x8(r){var e=Yr(r),t=ni(r),n=e.visualViewport,i=t.clientWidth,a=t.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+eu(r),y:s}}function p8(r){var e,t=ni(r),n=Qf(r),i=(e=r.ownerDocument)==null?void 0:e.body,a=ii(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ii(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+eu(r),c=-n.scrollTop;return $n(i||t).direction==="rtl"&&(s+=ii(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:c}}function tu(r){var e=$n(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}function Fp(r){return["html","body","#document"].indexOf(_n(r))>=0?r.ownerDocument.body:Xr(r)&&tu(r)?r:Fp(o0(r))}function yo(r,e){var t;e===void 0&&(e=[]);var n=Fp(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),a=Yr(n),o=i?[a].concat(a.visualViewport||[],tu(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(yo(o0(o)))}function ru(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function b8(r){var e=ma(r);return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function Bp(r,e){return e===Ap?ru(x8(r)):Xr(e)?b8(e):ru(p8(ni(r)))}function m8(r){var e=yo(o0(r)),t=["absolute","fixed"].indexOf($n(r).position)>=0,n=t&&Xr(r)?go(r):r;return mo(n)?e.filter(function(i){return mo(i)&&Ip(i,n)&&_n(i)!=="body"}):[]}function g8(r,e,t){var n=e==="clippingParents"?m8(r):[].concat(e),i=[].concat(n,[t]),a=i[0],o=i.reduce(function(s,c){var f=Bp(r,c);return s.top=ii(f.top,s.top),s.right=vo(f.right,s.right),s.bottom=vo(f.bottom,s.bottom),s.left=ii(f.left,s.left),s},Bp(r,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function wo(r){return r.split("-")[1]}function Lp(r){var e=r.reference,t=r.element,n=r.placement,i=n?En(n):null,a=n?wo(n):null,o=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,c;switch(i){case Or:c={x:o,y:e.y-t.height};break;case Kr:c={x:o,y:e.y+e.height};break;case Jr:c={x:e.x+e.width,y:s};break;case Rr:c={x:e.x-t.width,y:s};break;default:c={x:e.x,y:e.y}}var f=i?Zf(i):null;if(f!=null){var u=f==="y"?"height":"width";switch(a){case ba:c[f]=c[f]-(e[u]/2-t[u]/2);break;case Yf:c[f]=c[f]+(e[u]/2-t[u]/2);break}}return c}function _o(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,a=t.boundary,o=a===void 0?U5:a,s=t.rootBoundary,c=s===void 0?Ap:s,f=t.elementContext,u=f===void 0?bo:f,l=t.altBoundary,m=l===void 0?!1:l,v=t.padding,A=v===void 0?0:v,N=Op(typeof A!="number"?A:Rp(A,po)),y=u===bo?$5:bo,k=r.elements.reference,M=r.rects.popper,U=r.elements[m?y:u],E=g8(mo(U)?U:U.contextElement||ni(r.elements.popper),o,c),j=ma(k),R=Lp({reference:j,element:M,strategy:"absolute",placement:i}),z=ru(Object.assign({},M,R)),V=u===bo?z:j,te={top:E.top-V.top+N.top,bottom:V.bottom-E.bottom+N.bottom,left:E.left-V.left+N.left,right:V.right-E.right+N.right},be=r.modifiersData.offset;if(u===bo&&be){var I=be[i];Object.keys(te).forEach(function(d){var p=[Jr,Kr].indexOf(d)>=0?1:-1,g=[Or,Kr].indexOf(d)>=0?"y":"x";te[d]+=I[g]*p})}return te}function v8(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,a=t.rootBoundary,o=t.padding,s=t.flipVariations,c=t.allowedAutoPlacements,f=c===void 0?Tp:c,u=wo(n),l=u?s?kp:kp.filter(function(A){return wo(A)===u}):po,m=l.filter(function(A){return f.indexOf(A)>=0});m.length===0&&(m=l);var v=m.reduce(function(A,N){return A[N]=_o(r,{placement:N,boundary:i,rootBoundary:a,padding:o})[En(N)],A},{});return Object.keys(v).sort(function(A,N){return v[A]-v[N]})}function y8(r){if(En(r)===Jf)return[];var e=u0(r);return[Dp(r),e,Dp(e)]}function w8(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,o=t.altAxis,s=o===void 0?!0:o,c=t.fallbackPlacements,f=t.padding,u=t.boundary,l=t.rootBoundary,m=t.altBoundary,v=t.flipVariations,A=v===void 0?!0:v,N=t.allowedAutoPlacements,y=e.options.placement,k=En(y),M=k===y,U=c||(M||!A?[u0(y)]:y8(y)),E=[y].concat(U).reduce(function(D,x){return D.concat(En(x)===Jf?v8(e,{placement:x,boundary:u,rootBoundary:l,padding:f,flipVariations:A,allowedAutoPlacements:N}):x)},[]),j=e.rects.reference,R=e.rects.popper,z=new Map,V=!0,te=E[0],be=0;be<E.length;be++){var I=E[be],d=En(I),p=wo(I)===ba,g=[Or,Kr].indexOf(d)>=0,_=g?"width":"height",S=_o(e,{placement:I,boundary:u,rootBoundary:l,altBoundary:m,padding:f}),O=g?p?Jr:Rr:p?Kr:Or;j[_]>R[_]&&(O=u0(O));var F=u0(O),T=[];if(a&&T.push(S[d]<=0),s&&T.push(S[O]<=0,S[F]<=0),T.every(function(D){return D})){te=I,V=!1;break}z.set(I,T)}if(V)for(var h=A?3:1,b=function(x){var B=E.find(function(q){var W=z.get(q);if(W)return W.slice(0,x).every(function(J){return J})});if(B)return te=B,"break"},P=h;P>0;P--){var H=b(P);if(H==="break")break}e.placement!==te&&(e.modifiersData[n]._skip=!0,e.placement=te,e.reset=!0)}}var _8={name:"flip",enabled:!0,phase:"main",fn:w8,requiresIfExists:["offset"],data:{_skip:!1}};function Up(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function $p(r){return[Or,Jr,Kr,Rr].some(function(e){return r[e]>=0})}function E8(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=_o(e,{elementContext:"reference"}),s=_o(e,{altBoundary:!0}),c=Up(o,n),f=Up(s,i,a),u=$p(c),l=$p(f);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:l},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":l})}var S8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:E8};function A8(r,e,t){var n=En(r),i=[Rr,Or].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Rr,Jr].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function k8(r){var e=r.state,t=r.options,n=r.name,i=t.offset,a=i===void 0?[0,0]:i,o=Tp.reduce(function(u,l){return u[l]=A8(l,e.rects,a),u},{}),s=o[e.placement],c=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=o}var T8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:k8};function N8(r){var e=r.state,t=r.name;e.modifiersData[t]=Lp({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var I8={name:"popperOffsets",enabled:!0,phase:"read",fn:N8,data:{}};function C8(r){return r==="x"?"y":"x"}function M8(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,a=i===void 0?!0:i,o=t.altAxis,s=o===void 0?!1:o,c=t.boundary,f=t.rootBoundary,u=t.altBoundary,l=t.padding,m=t.tether,v=m===void 0?!0:m,A=t.tetherOffset,N=A===void 0?0:A,y=_o(e,{boundary:c,rootBoundary:f,padding:l,altBoundary:u}),k=En(e.placement),M=wo(e.placement),U=!M,E=Zf(k),j=C8(E),R=e.modifiersData.popperOffsets,z=e.rects.reference,V=e.rects.popper,te=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,be={x:0,y:0};if(!!R){if(a||s){var I=E==="y"?Or:Rr,d=E==="y"?Kr:Jr,p=E==="y"?"height":"width",g=R[E],_=R[E]+y[I],S=R[E]-y[d],O=v?-V[p]/2:0,F=M===ba?z[p]:V[p],T=M===ba?-V[p]:-z[p],h=e.elements.arrow,b=v&&h?Xf(h):{width:0,height:0},P=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Mp(),H=P[I],D=P[d],x=c0(0,z[p],b[p]),B=U?z[p]/2-O-x-H-te:F-x-H-te,q=U?-z[p]/2+O+x+D+te:T+x+D+te,W=e.elements.arrow&&go(e.elements.arrow),J=W?E==="y"?W.clientTop||0:W.clientLeft||0:0,ee=e.modifiersData.offset?e.modifiersData.offset[e.placement][E]:0,ue=R[E]+B-ee-J,ie=R[E]+q-ee;if(a){var Se=c0(v?vo(_,ue):_,g,v?ii(S,ie):S);R[E]=Se,be[E]=Se-g}if(s){var ge=E==="x"?Or:Rr,Ee=E==="x"?Kr:Jr,De=R[j],jt=De+y[ge],$e=De-y[Ee],Ge=c0(v?vo(jt,ue):jt,De,v?ii($e,ie):$e);R[j]=Ge,be[j]=Ge-De}}e.modifiersData[n]=be}}var O8={name:"preventOverflow",enabled:!0,phase:"main",fn:M8,requiresIfExists:["offset"]};function R8(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function P8(r){return r===Yr(r)||!Xr(r)?Qf(r):R8(r)}function D8(r,e,t){t===void 0&&(t=!1);var n=ni(e),i=ma(r),a=Xr(e),o={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(a||!a&&!t)&&((_n(e)!=="body"||tu(n))&&(o=P8(e)),Xr(e)?(s=ma(e),s.x+=e.clientLeft,s.y+=e.clientTop):n&&(s.x=eu(n))),{x:i.left+o.scrollLeft-s.x,y:i.top+o.scrollTop-s.y,width:i.width,height:i.height}}function F8(r){var e=new Map,t=new Set,n=[];r.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!t.has(s)){var c=e.get(s);c&&i(c)}}),n.push(a)}return r.forEach(function(a){t.has(a.name)||i(a)}),n}function B8(r){var e=F8(r);return Y5.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}function L8(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function U8(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var jp={placement:"bottom",modifiers:[],strategy:"absolute"};function Hp(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function $8(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?jp:i;return function(s,c,f){f===void 0&&(f=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jp,a),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},l=[],m=!1,v={state:u,setOptions:function(k){N(),u.options=Object.assign({},a,u.options,k),u.scrollParents={reference:mo(s)?yo(s):s.contextElement?yo(s.contextElement):[],popper:yo(c)};var M=B8(U8([].concat(n,u.options.modifiers)));return u.orderedModifiers=M.filter(function(U){return U.enabled}),A(),v.update()},forceUpdate:function(){if(!m){var k=u.elements,M=k.reference,U=k.popper;if(!!Hp(M,U)){u.rects={reference:D8(M,go(U),u.options.strategy==="fixed"),popper:Xf(U)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(be){return u.modifiersData[be.name]=Object.assign({},be.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var j=u.orderedModifiers[E],R=j.fn,z=j.options,V=z===void 0?{}:z,te=j.name;typeof R=="function"&&(u=R({state:u,options:V,name:te,instance:v})||u)}}}},update:L8(function(){return new Promise(function(y){v.forceUpdate(),y(u)})}),destroy:function(){N(),m=!0}};if(!Hp(s,c))return v;v.setOptions(f).then(function(y){!m&&f.onFirstUpdate&&f.onFirstUpdate(y)});function A(){u.orderedModifiers.forEach(function(y){var k=y.name,M=y.options,U=M===void 0?{}:M,E=y.effect;if(typeof E=="function"){var j=E({state:u,name:k,instance:v,options:U}),R=function(){};l.push(j||R)}})}function N(){l.forEach(function(y){return y()}),l=[]}return v}}var j8=[d8,I8,f8,Q5,T8,_8,O8,a8,S8],H8=$8({defaultModifiers:j8}),nu={passive:!0},q8="tippy-iOS",G8="tippy-box",qp="tippy-content",z8="tippy-backdrop",Gp="tippy-arrow",zp="tippy-svg-arrow";function iu(r,e,t){if(Array.isArray(r)){var n=r[e];return n==null?Array.isArray(t)?t[e]:t:n}return r}function au(r,e){var t={}.toString.call(r);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function Vp(r,e){return typeof r=="function"?r.apply(void 0,e):r}function Wp(r,e){if(e===0)return r;var t;return function(n){clearTimeout(t),t=setTimeout(function(){r(n)},e)}}function V8(r){return r.split(/\s+/).filter(Boolean)}function Eo(r){return[].concat(r)}function Kp(r,e){r.indexOf(e)===-1&&r.push(e)}function W8(r){return r.filter(function(e,t){return r.indexOf(e)===t})}function K8(r){return r.split("-")[0]}function d0(r){return[].slice.call(r)}function So(){return document.createElement("div")}function l0(r){return au(r,"Element")}function J8(r){return au(r,"NodeList")}function Y8(r){return au(r,"MouseEvent")}function X8(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function Z8(r){return l0(r)?[r]:J8(r)?d0(r):Array.isArray(r)?r:d0(document.querySelectorAll(r))}function ou(r,e){r.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Jp(r,e){r.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Q8(r){var e=Eo(r),t=e[0];return t&&t.ownerDocument||document}function ey(r,e){var t=e.clientX,n=e.clientY;return r.every(function(i){var a=i.popperRect,o=i.popperState,s=i.props,c=s.interactiveBorder,f=K8(o.placement),u=o.modifiersData.offset;if(!u)return!0;var l=f==="bottom"?u.top.y:0,m=f==="top"?u.bottom.y:0,v=f==="right"?u.left.x:0,A=f==="left"?u.right.x:0,N=a.top-n+l>c,y=n-a.bottom-m>c,k=a.left-t+v>c,M=t-a.right-A>c;return N||y||k||M})}function su(r,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){r[n](i,t)})}var Sn={isTouch:!1},Yp=0;function ty(){Sn.isTouch||(Sn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Xp))}function Xp(){var r=performance.now();r-Yp<20&&(Sn.isTouch=!1,document.removeEventListener("mousemove",Xp)),Yp=r}function ry(){var r=document.activeElement;if(X8(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function ny(){document.addEventListener("touchstart",ty,Object.assign({},nu,{capture:!0})),window.addEventListener("blur",ry)}var Zp=typeof window!="undefined"&&typeof document!="undefined",iy=Zp?navigator.userAgent:"",ay=/MSIE |Trident\//.test(iy),oy=Zp&&/iPhone|iPad|iPod/.test(navigator.platform),sy={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},cy={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Zr=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},content:"",delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},sy,{},cy),fy=Object.keys(Zr),uy=function(e){var t=Object.keys(e);t.forEach(function(n){Zr[n]=e[n]})};function Qp(r){var e=r.plugins||[],t=e.reduce(function(n,i){var a=i.name,o=i.defaultValue;return a&&(n[a]=r[a]!==void 0?r[a]:o),n},{});return Object.assign({},r,{},t)}function dy(r,e){var t=e?Object.keys(Qp(Object.assign({},Zr,{plugins:e}))):fy,n=t.reduce(function(i,a){var o=(r.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return n}function e1(r,e){var t=Object.assign({},e,{content:Vp(e.content,[r])},e.ignoreAttributes?{}:dy(r,e.plugins));return t.aria=Object.assign({},Zr.aria,{},t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var ly=function(){return"innerHTML"};function cu(r,e){r[ly()]=e}function t1(r){var e=So();return r===!0?e.className=Gp:(e.className=zp,l0(r)?e.appendChild(r):cu(e,r)),e}function r1(r,e){l0(e.content)?(cu(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?cu(r,e.content):r.textContent=e.content)}function fu(r){var e=r.firstElementChild,t=d0(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(qp)}),arrow:t.find(function(n){return n.classList.contains(Gp)||n.classList.contains(zp)}),backdrop:t.find(function(n){return n.classList.contains(z8)})}}function n1(r){var e=So(),t=So();t.className=G8,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=So();n.className=qp,n.setAttribute("data-state","hidden"),r1(n,r.props),e.appendChild(t),t.appendChild(n),i(r.props,r.props);function i(a,o){var s=fu(e),c=s.box,f=s.content,u=s.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),a.content!==o.content&&r1(f,r.props),o.arrow?u?a.arrow!==o.arrow&&(c.removeChild(u),c.appendChild(t1(o.arrow))):c.appendChild(t1(o.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}n1.$$tippy=!0;var hy=1,h0=[],x0=[];function xy(r,e){var t=e1(r,Object.assign({},Zr,{},Qp(e))),n,i,a,o=!1,s=!1,c=!1,f,u,l,m=[],v=Wp(ie,t.interactiveDebounce),A,N=Q8(t.triggerTarget||r),y=hy++,k=null,M=W8(t.plugins),U={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:y,reference:r,popper:So(),popperInstance:k,props:t,state:U,plugins:M,clearDelayTimeouts:ze,setProps:rt,setContent:_r,show:nt,hide:Qe,enable:Ke,disable:wr,unmount:Dr,destroy:it};if(!t.render)return E;var j=t.render(E),R=j.popper,z=j.onUpdate;R.setAttribute("data-tippy-root",""),R.id="tippy-"+E.id,E.popper=R,r._tippy=E,R._tippy=E;var V=M.map(function(Y){return Y.fn(E)}),te=r.hasAttribute("aria-expanded");return J(),h(),S(),F("onCreate",[E]),t.showOnCreate&&cr(),R.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),R.addEventListener("mouseleave",function(Y){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&(N.addEventListener("mousemove",v),v(Y))}),E;function be(){var Y=E.props.touch;return Array.isArray(Y)?Y:[Y,0]}function I(){return be()[0]==="hold"}function d(){var Y;return!!((Y=E.props.render)==null?void 0:Y.$$tippy)}function p(){return A||r}function g(){return fu(R)}function _(Y){return E.state.isMounted&&!E.state.isVisible||Sn.isTouch||f&&f.type==="focus"?0:iu(E.props.delay,Y?0:1,Zr.delay)}function S(){R.style.pointerEvents=E.props.interactive&&E.state.isVisible?"":"none",R.style.zIndex=""+E.props.zIndex}function O(Y){var le=Y&&oy&&Sn.isTouch;N.body.classList[le?"add":"remove"](q8)}function F(Y,le,re){if(re===void 0&&(re=!0),V.forEach(function(Ce){Ce[Y]&&Ce[Y].apply(void 0,le)}),re){var me;(me=E.props)[Y].apply(me,le)}}function T(){var Y=E.props.aria;if(!!Y.content){var le="aria-"+Y.content,re=R.id,me=Eo(E.props.triggerTarget||r);me.forEach(function(Ce){var ke=Ce.getAttribute(le);if(E.state.isVisible)Ce.setAttribute(le,ke?ke+" "+re:re);else{var Ne=ke&&ke.replace(re,"").trim();Ne?Ce.setAttribute(le,Ne):Ce.removeAttribute(le)}})}}function h(){if(!(te||!E.props.aria.expanded)){var Y=Eo(E.props.triggerTarget||r);Y.forEach(function(le){E.props.interactive?le.setAttribute("aria-expanded",E.state.isVisible&&le===p()?"true":"false"):le.removeAttribute("aria-expanded")})}}function b(){N.body.removeEventListener("mouseleave",je),N.removeEventListener("mousemove",v),h0=h0.filter(function(Y){return Y!==v})}function P(Y){E.props.interactive&&R.contains(Y.target)||p().contains(Y.target)&&(Sn.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)||E.props.hideOnClick===!0&&(o=!1,E.clearDelayTimeouts(),E.hide(),s=!0,setTimeout(function(){s=!1}),E.state.isMounted||D())}function H(){N.addEventListener("mousedown",P,!0)}function D(){N.removeEventListener("mousedown",P,!0)}function x(Y,le){q(Y,function(){!E.state.isVisible&&R.parentNode&&R.parentNode.contains(R)&&le()})}function B(Y,le){q(Y,le)}function q(Y,le){var re=g().box;function me(Ce){Ce.target===re&&(su(re,"remove",me),le())}if(Y===0)return le();su(re,"remove",u),su(re,"add",me),u=me}function W(Y,le,re){re===void 0&&(re=!1);var me=Eo(E.props.triggerTarget||r);me.forEach(function(Ce){Ce.addEventListener(Y,le,re),m.push({node:Ce,eventType:Y,handler:le,options:re})})}function J(){I()&&(W("touchstart",ue,nu),W("touchend",Se,nu)),V8(E.props.trigger).forEach(function(Y){if(Y!=="manual")switch(W(Y,ue),Y){case"mouseenter":W("mouseleave",Se);break;case"focus":W(ay?"focusout":"blur",ge);break;case"focusin":W("focusout",ge);break}})}function ee(){m.forEach(function(Y){var le=Y.node,re=Y.eventType,me=Y.handler,Ce=Y.options;le.removeEventListener(re,me,Ce)}),m=[]}function ue(Y){var le=!1;if(!(!E.state.isEnabled||Ee(Y)||s)){if(f=Y,A=Y.currentTarget,h(),!E.state.isVisible&&Y8(Y)&&h0.forEach(function(ke){return ke(Y)}),Y.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||o)&&E.props.hideOnClick!==!1&&E.state.isVisible)le=!0;else{var re=be(),me=re[0],Ce=re[1];Sn.isTouch&&me==="hold"&&Ce?n=setTimeout(function(){cr(Y)},Ce):cr(Y)}Y.type==="click"&&(o=!le),le&&je(Y)}}function ie(Y){var le=Y.target,re=r.contains(le)||R.contains(le);if(!(Y.type==="mousemove"&&re)){var me=Ge().concat(R).map(function(Ce){var ke,Ne=Ce._tippy,Dt=(ke=Ne.popperInstance)==null?void 0:ke.state;return Dt?{popperRect:Ce.getBoundingClientRect(),popperState:Dt,props:t}:null}).filter(Boolean);ey(me,Y)&&(b(),je(Y))}}function Se(Y){var le=Ee(Y)||E.props.trigger.indexOf("click")>=0&&o;if(!le){if(E.props.interactive){N.body.addEventListener("mouseleave",je),N.addEventListener("mousemove",v),Kp(h0,v),v(Y);return}je(Y)}}function ge(Y){E.props.trigger.indexOf("focusin")<0&&Y.target!==p()||E.props.interactive&&Y.relatedTarget&&R.contains(Y.relatedTarget)||je(Y)}function Ee(Y){return Sn.isTouch?I()!==Y.type.indexOf("touch")>=0:!1}function De(){jt();var Y=E.props,le=Y.popperOptions,re=Y.placement,me=Y.offset,Ce=Y.getReferenceClientRect,ke=Y.moveTransition,Ne=d()?fu(R).arrow:null,Dt=Ce?{getBoundingClientRect:Ce}:r,Pe={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(C){var $=C.state;if(d()){var G=g(),Q=G.box;["placement","reference-hidden","escaped"].forEach(function(Z){Z==="placement"?Q.setAttribute("data-placement",$.placement):$.attributes.popper["data-popper-"+Z]?Q.setAttribute("data-"+Z,""):Q.removeAttribute("data-"+Z)}),$.attributes.popper={}}}},Ve={name:"arrow",enabled:!!Ne,options:{element:Ne,padding:3}},tr=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ke}}].concat(d()?[Ve]:[],(le==null?void 0:le.modifiers)||[],[Pe]);E.popperInstance=H8(Dt,R,Object.assign({},le,{placement:re,onFirstUpdate:l,modifiers:tr}))}function jt(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function $e(){var Y=E.props.appendTo,le,re=p();E.props.interactive&&Y===Zr.appendTo||Y==="parent"?le=re.parentNode:le=Vp(Y,[re]),le.contains(R)||le.appendChild(R),De()}function Ge(){return d0(R.querySelectorAll("[data-tippy-root]"))}function cr(Y){E.clearDelayTimeouts(),Y&&F("onTrigger",[E,Y]),H();var le=_(!0);le?n=setTimeout(function(){E.show()},le):E.show()}function je(Y){if(E.clearDelayTimeouts(),F("onUntrigger",[E,Y]),!E.state.isVisible){D();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Y.type)>=0&&o)){var le=_(!1);le?i=setTimeout(function(){E.state.isVisible&&E.hide()},le):a=requestAnimationFrame(function(){E.hide()})}}function Ke(){E.state.isEnabled=!0}function wr(){E.hide(),E.state.isEnabled=!1}function ze(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function rt(Y){if(!E.state.isDestroyed){F("onBeforeUpdate",[E,Y]),ee();var le=E.props,re=e1(r,Object.assign({},E.props,{},Y,{ignoreAttributes:!0}));E.props=re,J(),le.interactiveDebounce!==re.interactiveDebounce&&(b(),v=Wp(ie,re.interactiveDebounce)),le.triggerTarget&&!re.triggerTarget?Eo(le.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):re.triggerTarget&&r.removeAttribute("aria-expanded"),h(),S(),z&&z(le,re),E.popperInstance&&(De(),Ge().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[E,Y])}}function _r(Y){E.setProps({content:Y})}function nt(){var Y=E.state.isVisible,le=E.state.isDestroyed,re=!E.state.isEnabled,me=Sn.isTouch&&!E.props.touch,Ce=iu(E.props.duration,0,Zr.duration);if(!(Y||le||re||me)&&!p().hasAttribute("disabled")&&(F("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,d()&&(R.style.visibility="visible"),S(),H(),E.state.isMounted||(R.style.transition="none"),d()){var ke=g(),Ne=ke.box,Dt=ke.content;ou([Ne,Dt],0)}l=function(){if(!(!E.state.isVisible||c)){if(c=!0,R.offsetHeight,R.style.transition=E.props.moveTransition,d()&&E.props.animation){var Ve=g(),tr=Ve.box,w=Ve.content;ou([tr,w],Ce),Jp([tr,w],"visible")}T(),h(),Kp(x0,E),O(!0),E.state.isMounted=!0,F("onMount",[E]),E.props.animation&&d()&&B(Ce,function(){E.state.isShown=!0,F("onShown",[E])})}},$e()}}function Qe(){var Y=!E.state.isVisible,le=E.state.isDestroyed,re=!E.state.isEnabled,me=iu(E.props.duration,1,Zr.duration);if(!(Y||le||re)&&(F("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,c=!1,d()&&(R.style.visibility="hidden"),b(),D(),S(),d()){var Ce=g(),ke=Ce.box,Ne=Ce.content;E.props.animation&&(ou([ke,Ne],me),Jp([ke,Ne],"hidden"))}T(),h(),E.props.animation?d()&&x(me,E.unmount):E.unmount()}}function Dr(){E.state.isVisible&&E.hide(),!!E.state.isMounted&&(jt(),Ge().forEach(function(Y){Y._tippy.unmount()}),R.parentNode&&R.parentNode.removeChild(R),x0=x0.filter(function(Y){return Y!==E}),x0.length===0&&O(!1),E.state.isMounted=!1,F("onHidden",[E]))}function it(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),ee(),delete r._tippy,E.state.isDestroyed=!0,F("onDestroy",[E]))}}function Ao(r,e){e===void 0&&(e={});var t=Zr.plugins.concat(e.plugins||[]);ny();var n=Object.assign({},e,{plugins:t}),i=Z8(r),a=i.reduce(function(o,s){var c=s&&xy(s,n);return c&&o.push(c),o},[]);return l0(r)?a[0]:a}Ao.defaultProps=Zr;Ao.setDefaultProps=uy;Ao.currentInput=Sn;Ao.setDefaultProps({render:n1});function V7(r,e){Ao(r,e)}const py="units/5.5.0",by=new L(py),i1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function my(r,e){if(typeof e=="string"){const t=i1.indexOf(e);t!==-1&&(e=3*t)}return Jo(r,e!=null?e:18)}function gy(r,e){if(typeof r!="string"&&by.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=i1.indexOf(e);t!==-1&&(e=3*t)}return on(r,e!=null?e:18)}function W7(r){return my(r,18)}function K7(r){return gy(r,18)}const uu=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],ga={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:r=>typeof console!="undefined"&&console.warn(r),getWeek:r=>{const e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ko={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:r=>{const e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},sr=(r,e=2)=>`000${r}`.slice(e*-1),Pr=r=>r===!0?1:0;function a1(r,e){let t;return function(){clearTimeout(t),t=setTimeout(()=>r.apply(this,arguments),e)}}const du=r=>r instanceof Array?r:[r];function er(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function Ze(r,e,t){const n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function p0(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function o1(r,e){if(e(r))return r;if(r.parentNode)return o1(r.parentNode,e)}function b0(r,e){const t=Ze("div","numInputWrapper"),n=Ze("input","numInput "+r),i=Ze("span","arrowUp"),a=Ze("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(const o in e)n.setAttribute(o,e[o]);return t.appendChild(n),t.appendChild(i),t.appendChild(a),t}function vr(r){try{return typeof r.composedPath=="function"?r.composedPath()[0]:r.target}catch{return r.target}}const lu=()=>{},m0=(r,e,t)=>t.months[e?"shorthand":"longhand"][r],vy={D:lu,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:(r,e)=>{r.setHours(parseFloat(e))},H:(r,e)=>{r.setHours(parseFloat(e))},J:(r,e)=>{r.setDate(parseFloat(e))},K:(r,e,t)=>{r.setHours(r.getHours()%12+12*Pr(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:(r,e)=>{r.setSeconds(parseFloat(e))},U:(r,e)=>new Date(parseFloat(e)*1e3),W:function(r,e,t){const n=parseInt(e),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:(r,e)=>{r.setFullYear(parseFloat(e))},Z:(r,e)=>new Date(e),d:(r,e)=>{r.setDate(parseFloat(e))},h:(r,e)=>{r.setHours(parseFloat(e))},i:(r,e)=>{r.setMinutes(parseFloat(e))},j:(r,e)=>{r.setDate(parseFloat(e))},l:lu,m:(r,e)=>{r.setMonth(parseFloat(e)-1)},n:(r,e)=>{r.setMonth(parseFloat(e)-1)},s:(r,e)=>{r.setSeconds(parseFloat(e))},u:(r,e)=>new Date(parseFloat(e)),w:lu,y:(r,e)=>{r.setFullYear(2e3+parseFloat(e))}},hu={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},To={Z:r=>r.toISOString(),D:function(r,e,t){return e.weekdays.shorthand[To.w(r,e,t)]},F:function(r,e,t){return m0(To.n(r,e,t)-1,!1,e)},G:function(r,e,t){return sr(To.h(r,e,t))},H:r=>sr(r.getHours()),J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:(r,e)=>e.amPM[Pr(r.getHours()>11)],M:function(r,e){return m0(r.getMonth(),!0,e)},S:r=>sr(r.getSeconds()),U:r=>r.getTime()/1e3,W:function(r,e,t){return t.getWeek(r)},Y:r=>sr(r.getFullYear(),4),d:r=>sr(r.getDate()),h:r=>r.getHours()%12?r.getHours()%12:12,i:r=>sr(r.getMinutes()),j:r=>r.getDate(),l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:r=>sr(r.getMonth()+1),n:r=>r.getMonth()+1,s:r=>r.getSeconds(),u:r=>r.getTime(),w:r=>r.getDay(),y:r=>String(r.getFullYear()).substring(2)},s1=({config:r=ga,l10n:e=ko,isMobile:t=!1})=>(n,i,a)=>{const o=a||e;return r.formatDate!==void 0&&!t?r.formatDate(n,i,o):i.split("").map((s,c,f)=>To[s]&&f[c-1]!=="\\"?To[s](n,o,r):s!=="\\"?s:"").join("")},xu=({config:r=ga,l10n:e=ko})=>(t,n,i,a)=>{if(t!==0&&!t)return;const o=a||e;let s;const c=t;if(t instanceof Date)s=new Date(t.getTime());else if(typeof t!="string"&&t.toFixed!==void 0)s=new Date(t);else if(typeof t=="string"){const f=n||(r||ga).dateFormat,u=String(t).trim();if(u==="today")s=new Date,i=!0;else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(t);else if(r&&r.parseDate)s=r.parseDate(t,f);else{s=!r||!r.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));let l,m=[];for(let v=0,A=0,N="";v<f.length;v++){const y=f[v],k=y==="\\",M=f[v-1]==="\\"||k;if(hu[y]&&!M){N+=hu[y];const U=new RegExp(N).exec(t);U&&(l=!0)&&m[y!=="Y"?"push":"unshift"]({fn:vy[y],val:U[++A]})}else k||(N+=".");m.forEach(({fn:U,val:E})=>s=U(s,E,o)||s)}s=l?s:void 0}}if(!(s instanceof Date&&!isNaN(s.getTime()))){r.errorHandler(new Error(`Invalid date provided: ${c}`));return}return i===!0&&s.setHours(0,0,0,0),s};function yr(r,e,t=!0){return t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}const yy=(r,e,t)=>r>Math.min(e,t)&&r<Math.max(e,t),wy={DAY:864e5};function pu(r){let e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){const i=r.minDate.getHours(),a=r.minDate.getMinutes(),o=r.minDate.getSeconds();e<i&&(e=i),e===i&&t<a&&(t=a),e===i&&t===a&&n<o&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){const i=r.maxDate.getHours(),a=r.maxDate.getMinutes();e=Math.min(e,i),e===i&&(t=Math.min(a,t)),e===i&&t===a&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r,...e){if(!r)throw TypeError("Cannot convert undefined or null to object");for(const t of e)t&&Object.keys(t).forEach(n=>r[n]=t[n]);return r});const _y=300;function Ey(r,e){const t={config:Object.assign(Object.assign({},ga),Ct.defaultConfig),l10n:ko};t.parseDate=xu({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=A,t._setHoursFromDate=l,t._positionCalendar=$e,t.changeMonth=h,t.changeYear=B,t.clear=b,t.close=P,t._createElement=Ze,t.destroy=H,t.isEnabled=q,t.jumpToDate=k,t.open=Se,t.redraw=je,t.set=rt,t.setDate=nt,t.toggle=le;function n(){t.utils={getDaysInMonth(w=t.currentMonth,C=t.currentYear){return w===1&&(C%4==0&&C%100!=0||C%400==0)?29:t.l10n.daysInMonth[w]}}}function i(){t.element=t.input=r,t.isOpen=!1,Ee(),jt(),it(),Dr(),n(),t.isMobile||E(),y(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&l(t.config.noCalendar?t.latestSelectedDateObj:void 0),Pe(!1)),o();const w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&w&&$e(),re("onReady")}function a(w){return w.bind(t)}function o(){const w=t.config;w.weekNumbers===!1&&w.showMonths===1||w.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){const C=(t.days.offsetWidth+1)*w.showMonths;t.daysContainer.style.width=C+"px",t.calendarContainer.style.width=C+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function s(w){if(t.selectedDates.length===0){const $=t.config.minDate===void 0||yr(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),G=pu(t.config);$.setHours(G.hours,G.minutes,G.seconds,$.getMilliseconds()),t.selectedDates=[$],t.latestSelectedDateObj=$}w!==void 0&&w.type!=="blur"&&tr(w);const C=t._input.value;u(),Pe(),t._input.value!==C&&t._debouncedChange()}function c(w,C){return w%12+12*Pr(C===t.l10n.amPM[1])}function f(w){switch(w%24){case 0:case 12:return 12;default:return w%12}}function u(){if(t.hourElement===void 0||t.minuteElement===void 0)return;let w=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,C=(parseInt(t.minuteElement.value,10)||0)%60,$=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(w=c(w,t.amPM.textContent));const G=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&yr(t.latestSelectedDateObj,t.config.minDate,!0)===0;if(t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&yr(t.latestSelectedDateObj,t.config.maxDate,!0)===0){const Z=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;w=Math.min(w,Z.getHours()),w===Z.getHours()&&(C=Math.min(C,Z.getMinutes())),C===Z.getMinutes()&&($=Math.min($,Z.getSeconds()))}if(G){const Z=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;w=Math.max(w,Z.getHours()),w===Z.getHours()&&C<Z.getMinutes()&&(C=Z.getMinutes()),C===Z.getMinutes()&&($=Math.max($,Z.getSeconds()))}m(w,C,$)}function l(w){const C=w||t.latestSelectedDateObj;C&&m(C.getHours(),C.getMinutes(),C.getSeconds())}function m(w,C,$){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(w%24,C,$||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=sr(t.config.time_24hr?w:(12+w)%12+12*Pr(w%12==0)),t.minuteElement.value=sr(C),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Pr(w>=12)]),t.secondElement!==void 0&&(t.secondElement.value=sr($)))}function v(w){const C=vr(w),$=parseInt(C.value)+(w.delta||0);($/1e3>1||w.key==="Enter"&&!/[^\d]/.test($.toString()))&&B($)}function A(w,C,$,G){if(C instanceof Array)return C.forEach(Q=>A(w,Q,$,G));if(w instanceof Array)return w.forEach(Q=>A(Q,C,$,G));w.addEventListener(C,$,G),t._handlers.push({remove:()=>w.removeEventListener(C,$)})}function N(){re("onChange")}function y(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(C=>{Array.prototype.forEach.call(t.element.querySelectorAll(`[data-${C}]`),$=>A($,"click",t[C]))}),t.isMobile){Y();return}const w=a1(ie,50);if(t._debouncedChange=a1(N,_y),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(t.daysContainer,"mouseover",C=>{t.config.mode==="range"&&ue(vr(C))}),A(window.document.body,"keydown",ee),!t.config.inline&&!t.config.static&&A(window,"resize",w),window.ontouchstart!==void 0?A(window.document,"touchstart",x):A(window.document,"mousedown",x),A(window.document,"focus",x,{capture:!0}),t.config.clickOpens===!0&&(A(t._input,"focus",t.open),A(t._input,"click",t.open)),t.daysContainer!==void 0&&(A(t.monthNav,"click",Ve),A(t.monthNav,["keyup","increment"],v),A(t.daysContainer,"click",wr)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){const C=$=>vr($).select();A(t.timeContainer,["increment"],s),A(t.timeContainer,"blur",s,{capture:!0}),A(t.timeContainer,"click",M),A([t.hourElement,t.minuteElement],["focus","click"],C),t.secondElement!==void 0&&A(t.secondElement,"focus",()=>t.secondElement&&t.secondElement.select()),t.amPM!==void 0&&A(t.amPM,"click",$=>{s($),N()})}t.config.allowInput&&A(t._input,"blur",J)}function k(w,C){const $=w!==void 0?t.parseDate(w):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),G=t.currentYear,Q=t.currentMonth;try{$!==void 0&&(t.currentYear=$.getFullYear(),t.currentMonth=$.getMonth())}catch(Z){Z.message="Invalid date supplied: "+$,t.config.errorHandler(Z)}C&&t.currentYear!==G&&(re("onYearChange"),d()),C&&(t.currentYear!==G||t.currentMonth!==Q)&&re("onMonthChange"),t.redraw()}function M(w){const C=vr(w);~C.className.indexOf("arrow")&&U(w,C.classList.contains("arrowUp")?1:-1)}function U(w,C,$){const G=w&&vr(w),Q=$||G&&G.parentNode&&G.parentNode.firstChild,Z=me("increment");Z.delta=C,Q&&Q.dispatchEvent(Z)}function E(){const w=window.document.createDocumentFragment();if(t.calendarContainer=Ze("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(w.appendChild(_()),t.innerContainer=Ze("div","flatpickr-innerContainer"),t.config.weekNumbers){const{weekWrapper:$,weekNumbers:G}=T();t.innerContainer.appendChild($),t.weekNumbers=G,t.weekWrapper=$}t.rContainer=Ze("div","flatpickr-rContainer"),t.rContainer.appendChild(O()),t.daysContainer||(t.daysContainer=Ze("div","flatpickr-days"),t.daysContainer.tabIndex=-1),I(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),w.appendChild(t.innerContainer)}t.config.enableTime&&w.appendChild(S()),er(t.calendarContainer,"rangeMode",t.config.mode==="range"),er(t.calendarContainer,"animate",t.config.animate===!0),er(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(w);const C=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!C&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){const $=Ze("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore($,t.element),$.appendChild(t.element),t.altInput&&$.appendChild(t.altInput),$.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function j(w,C,$,G){const Q=q(C,!0),Z=Ze("span","flatpickr-day "+w,C.getDate().toString());return Z.dateObj=C,Z.$i=G,Z.setAttribute("aria-label",t.formatDate(C,t.config.ariaDateFormat)),w.indexOf("hidden")===-1&&yr(C,t.now)===0&&(t.todayDateElem=Z,Z.classList.add("today"),Z.setAttribute("aria-current","date")),Q?(Z.tabIndex=-1,Ce(C)&&(Z.classList.add("selected"),t.selectedDateElem=Z,t.config.mode==="range"&&(er(Z,"startRange",t.selectedDates[0]&&yr(C,t.selectedDates[0],!0)===0),er(Z,"endRange",t.selectedDates[1]&&yr(C,t.selectedDates[1],!0)===0),w==="nextMonthDay"&&Z.classList.add("inRange")))):Z.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ke(C)&&!Ce(C)&&Z.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&w!=="prevMonthDay"&&$%7==1&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(C)+"</span>"),re("onDayCreate",Z),Z}function R(w){w.focus(),t.config.mode==="range"&&ue(w)}function z(w){const C=w>0?0:t.config.showMonths-1,$=w>0?t.config.showMonths:-1;for(let G=C;G!=$;G+=w){const Q=t.daysContainer.children[G],Z=w>0?0:Q.children.length-1,se=w>0?Q.children.length:-1;for(let ae=Z;ae!=se;ae+=w){const Ae=Q.children[ae];if(Ae.className.indexOf("hidden")===-1&&q(Ae.dateObj))return Ae}}}function V(w,C){const $=w.className.indexOf("Month")===-1?w.dateObj.getMonth():t.currentMonth,G=C>0?t.config.showMonths:-1,Q=C>0?1:-1;for(let Z=$-t.currentMonth;Z!=G;Z+=Q){const se=t.daysContainer.children[Z],ae=$-t.currentMonth===Z?w.$i+C:C<0?se.children.length-1:0,Ae=se.children.length;for(let xe=ae;xe>=0&&xe<Ae&&xe!=(C>0?Ae:-1);xe+=Q){const _e=se.children[xe];if(_e.className.indexOf("hidden")===-1&&q(_e.dateObj)&&Math.abs(w.$i-xe)>=Math.abs(C))return R(_e)}}t.changeMonth(Q),te(z(Q),0)}function te(w,C){const $=W(document.activeElement||document.body),G=w!==void 0?w:$?document.activeElement:t.selectedDateElem!==void 0&&W(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&W(t.todayDateElem)?t.todayDateElem:z(C>0?1:-1);G===void 0?t._input.focus():$?V(G,C):R(G)}function be(w,C){const $=(new Date(w,C,1).getDay()-t.l10n.firstDayOfWeek+7)%7,G=t.utils.getDaysInMonth((C-1+12)%12,w),Q=t.utils.getDaysInMonth(C,w),Z=window.document.createDocumentFragment(),se=t.config.showMonths>1,ae=se?"prevMonthDay hidden":"prevMonthDay",Ae=se?"nextMonthDay hidden":"nextMonthDay";let xe=G+1-$,_e=0;for(;xe<=G;xe++,_e++)Z.appendChild(j(ae,new Date(w,C-1,xe),xe,_e));for(xe=1;xe<=Q;xe++,_e++)Z.appendChild(j("",new Date(w,C,xe),xe,_e));for(let Ie=Q+1;Ie<=42-$&&(t.config.showMonths===1||_e%7!=0);Ie++,_e++)Z.appendChild(j(Ae,new Date(w,C+1,Ie%Q),Ie,_e));const Et=Ze("div","dayContainer");return Et.appendChild(Z),Et}function I(){if(t.daysContainer===void 0)return;p0(t.daysContainer),t.weekNumbers&&p0(t.weekNumbers);const w=document.createDocumentFragment();for(let C=0;C<t.config.showMonths;C++){const $=new Date(t.currentYear,t.currentMonth,1);$.setMonth(t.currentMonth+C),w.appendChild(be($.getFullYear(),$.getMonth()))}t.daysContainer.appendChild(w),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&ue()}function d(){if(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")return;const w=function(C){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&C<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&C>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(let C=0;C<12;C++){if(!w(C))continue;const $=Ze("option","flatpickr-monthDropdown-month");$.value=new Date(t.currentYear,C).getMonth().toString(),$.textContent=m0(C,t.config.shorthandCurrentMonth,t.l10n),$.tabIndex=-1,t.currentMonth===C&&($.selected=!0),t.monthsDropdownContainer.appendChild($)}}function p(){const w=Ze("div","flatpickr-month"),C=window.document.createDocumentFragment();let $;t.config.showMonths>1||t.config.monthSelectorType==="static"?$=Ze("span","cur-month"):(t.monthsDropdownContainer=Ze("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),A(t.monthsDropdownContainer,"change",se=>{const ae=vr(se),Ae=parseInt(ae.value,10);t.changeMonth(Ae-t.currentMonth),re("onMonthChange")}),d(),$=t.monthsDropdownContainer);const G=b0("cur-year",{tabindex:"-1"}),Q=G.getElementsByTagName("input")[0];Q.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Q.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Q.setAttribute("max",t.config.maxDate.getFullYear().toString()),Q.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());const Z=Ze("div","flatpickr-current-month");return Z.appendChild($),Z.appendChild(G),C.appendChild(Z),w.appendChild(C),{container:w,yearElement:Q,monthElement:$}}function g(){p0(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(let w=t.config.showMonths;w--;){const C=p();t.yearElements.push(C.yearElement),t.monthElements.push(C.monthElement),t.monthNav.appendChild(C.container)}t.monthNav.appendChild(t.nextMonthNav)}function _(){return t.monthNav=Ze("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Ze("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Ze("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,g(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:()=>t.__hidePrevMonthArrow,set(w){t.__hidePrevMonthArrow!==w&&(er(t.prevMonthNav,"flatpickr-disabled",w),t.__hidePrevMonthArrow=w)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:()=>t.__hideNextMonthArrow,set(w){t.__hideNextMonthArrow!==w&&(er(t.nextMonthNav,"flatpickr-disabled",w),t.__hideNextMonthArrow=w)}}),t.currentYearElement=t.yearElements[0],Ne(),t.monthNav}function S(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");const w=pu(t.config);t.timeContainer=Ze("div","flatpickr-time"),t.timeContainer.tabIndex=-1;const C=Ze("span","flatpickr-time-separator",":"),$=b0("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=$.getElementsByTagName("input")[0];const G=b0("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=G.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?w.hours:f(w.hours)),t.minuteElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():w.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild($),t.timeContainer.appendChild(C),t.timeContainer.appendChild(G),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");const Q=b0("flatpickr-second");t.secondElement=Q.getElementsByTagName("input")[0],t.secondElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():w.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Ze("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Q)}return t.config.time_24hr||(t.amPM=Ze("span","flatpickr-am-pm",t.l10n.amPM[Pr((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function O(){t.weekdayContainer?p0(t.weekdayContainer):t.weekdayContainer=Ze("div","flatpickr-weekdays");for(let w=t.config.showMonths;w--;){const C=Ze("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(C)}return F(),t.weekdayContainer}function F(){if(!t.weekdayContainer)return;const w=t.l10n.firstDayOfWeek;let C=[...t.l10n.weekdays.shorthand];w>0&&w<C.length&&(C=[...C.splice(w,C.length),...C.splice(0,w)]);for(let $=t.config.showMonths;$--;)t.weekdayContainer.children[$].innerHTML=`
      <span class='flatpickr-weekday'>
        ${C.join("</span><span class='flatpickr-weekday'>")}
      </span>
      `}function T(){t.calendarContainer.classList.add("hasWeeks");const w=Ze("div","flatpickr-weekwrapper");w.appendChild(Ze("span","flatpickr-weekday",t.l10n.weekAbbreviation));const C=Ze("div","flatpickr-weeks");return w.appendChild(C),{weekWrapper:w,weekNumbers:C}}function h(w,C=!0){const $=C?w:w-t.currentMonth;$<0&&t._hidePrevMonthArrow===!0||$>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=$,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,re("onYearChange"),d()),I(),re("onMonthChange"),Ne())}function b(w=!0,C=!0){if(t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,C===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){const{hours:$,minutes:G,seconds:Q}=pu(t.config);m($,G,Q)}t.redraw(),w&&re("onChange")}function P(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),re("onClose")}function H(){t.config!==void 0&&re("onDestroy");for(let w=t._handlers.length;w--;)t._handlers[w].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){const w=t.calendarContainer.parentNode;if(w.lastChild&&w.removeChild(w.lastChild),w.parentNode){for(;w.firstChild;)w.parentNode.insertBefore(w.firstChild,w);w.parentNode.removeChild(w)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(w=>{try{delete t[w]}catch{}})}function D(w){return t.config.appendTo&&t.config.appendTo.contains(w)?!0:t.calendarContainer.contains(w)}function x(w){if(t.isOpen&&!t.config.inline){const C=vr(w),$=D(C),G=C===t.input||C===t.altInput||t.element.contains(C)||w.path&&w.path.indexOf&&(~w.path.indexOf(t.input)||~w.path.indexOf(t.altInput)),Q=w.type==="blur"?G&&w.relatedTarget&&!D(w.relatedTarget):!G&&!$&&!D(w.relatedTarget),Z=!t.config.ignoredFocusElements.some(se=>se.contains(C));Q&&Z&&(t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&s(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&(t.clear(!1),t.redraw()))}}function B(w){if(!w||t.config.minDate&&w<t.config.minDate.getFullYear()||t.config.maxDate&&w>t.config.maxDate.getFullYear())return;const C=w,$=t.currentYear!==C;t.currentYear=C||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),$&&(t.redraw(),re("onYearChange"),d())}function q(w,C=!0){var $;const G=t.parseDate(w,void 0,C);if(t.config.minDate&&G&&yr(G,t.config.minDate,C!==void 0?C:!t.minDateHasTime)<0||t.config.maxDate&&G&&yr(G,t.config.maxDate,C!==void 0?C:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(G===void 0)return!1;const Q=!!t.config.enable,Z=($=t.config.enable)!==null&&$!==void 0?$:t.config.disable;for(let se=0,ae;se<Z.length;se++){if(ae=Z[se],typeof ae=="function"&&ae(G))return Q;if(ae instanceof Date&&G!==void 0&&ae.getTime()===G.getTime())return Q;if(typeof ae=="string"){const Ae=t.parseDate(ae,void 0,!0);return Ae&&Ae.getTime()===G.getTime()?Q:!Q}else if(typeof ae=="object"&&G!==void 0&&ae.from&&ae.to&&G.getTime()>=ae.from.getTime()&&G.getTime()<=ae.to.getTime())return Q}return!Q}function W(w){return t.daysContainer!==void 0?w.className.indexOf("hidden")===-1&&w.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(w):!1}function J(w){w.target===t._input&&(t.selectedDates.length>0||t._input.value.length>0)&&!(w.relatedTarget&&D(w.relatedTarget))&&t.setDate(t._input.value,!0,w.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ee(w){const C=vr(w),$=t.config.wrap?r.contains(C):C===t._input,G=t.config.allowInput,Q=t.isOpen&&(!G||!$),Z=t.config.inline&&$&&!G;if(w.keyCode===13&&$){if(G)return t.setDate(t._input.value,!0,C===t.altInput?t.config.altFormat:t.config.dateFormat),C.blur();t.open()}else if(D(C)||Q||Z){const se=!!t.timeContainer&&t.timeContainer.contains(C);switch(w.keyCode){case 13:se?(w.preventDefault(),s(),Ke()):wr(w);break;case 27:w.preventDefault(),Ke();break;case 8:case 46:$&&!t.config.allowInput&&(w.preventDefault(),t.clear());break;case 37:case 39:if(!se&&!$){if(w.preventDefault(),t.daysContainer!==void 0&&(G===!1||document.activeElement&&W(document.activeElement))){const Ae=w.keyCode===39?1:-1;w.ctrlKey?(w.stopPropagation(),h(Ae),te(z(1),0)):te(void 0,Ae)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:w.preventDefault();const ae=w.keyCode===40?1:-1;t.daysContainer&&C.$i!==void 0||C===t.input||C===t.altInput?w.ctrlKey?(w.stopPropagation(),B(t.currentYear-ae),te(z(1),0)):se||te(void 0,ae*7):C===t.currentYearElement?B(t.currentYear-ae):t.config.enableTime&&(!se&&t.hourElement&&t.hourElement.focus(),s(w),t._debouncedChange());break;case 9:if(se){const Ae=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(_e=>_e),xe=Ae.indexOf(C);if(xe!==-1){const _e=Ae[xe+(w.shiftKey?-1:1)];w.preventDefault(),(_e||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(C)&&w.shiftKey&&(w.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&C===t.amPM)switch(w.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],u(),Pe();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],u(),Pe();break}($||D(C))&&re("onKeyDown",w)}function ue(w){if(t.selectedDates.length!==1||w&&(!w.classList.contains("flatpickr-day")||w.classList.contains("flatpickr-disabled")))return;const C=w?w.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),$=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),G=Math.min(C,t.selectedDates[0].getTime()),Q=Math.max(C,t.selectedDates[0].getTime());let Z=!1,se=0,ae=0;for(let Ae=G;Ae<Q;Ae+=wy.DAY)q(new Date(Ae),!0)||(Z=Z||Ae>G&&Ae<Q,Ae<$&&(!se||Ae>se)?se=Ae:Ae>$&&(!ae||Ae<ae)&&(ae=Ae));for(let Ae=0;Ae<t.config.showMonths;Ae++){const xe=t.daysContainer.children[Ae];for(let _e=0,Et=xe.children.length;_e<Et;_e++){const Ie=xe.children[_e],Mt=Ie.dateObj.getTime(),Je=se>0&&Mt<se||ae>0&&Mt>ae;if(Je){Ie.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(Ye=>{Ie.classList.remove(Ye)});continue}else if(Z&&!Je)continue;["startRange","inRange","endRange","notAllowed"].forEach(Ye=>{Ie.classList.remove(Ye)}),w!==void 0&&(w.classList.add(C<=t.selectedDates[0].getTime()?"startRange":"endRange"),$<C&&Mt===$?Ie.classList.add("startRange"):$>C&&Mt===$&&Ie.classList.add("endRange"),Mt>=se&&(ae===0||Mt<=ae)&&yy(Mt,$,C)&&Ie.classList.add("inRange"))}}}function ie(){t.isOpen&&!t.config.static&&!t.config.inline&&$e()}function Se(w,C=t._positionElement){if(t.isMobile===!0){if(w){w.preventDefault();const G=vr(w);G&&G.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),re("onOpen");return}else if(t._input.disabled||t.config.inline)return;const $=t.isOpen;t.isOpen=!0,$||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),re("onOpen"),$e(C)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(w===void 0||!t.timeContainer.contains(w.relatedTarget))&&setTimeout(()=>t.hourElement.select(),50)}function ge(w){return C=>{const $=t.config[`_${w}Date`]=t.parseDate(C,t.config.dateFormat),G=t.config[`_${w==="min"?"max":"min"}Date`];$!==void 0&&(t[w==="min"?"minDateHasTime":"maxDateHasTime"]=$.getHours()>0||$.getMinutes()>0||$.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(Q=>q(Q)),!t.selectedDates.length&&w==="min"&&l($),Pe()),t.daysContainer&&(je(),$!==void 0?t.currentYearElement[w]=$.getFullYear().toString():t.currentYearElement.removeAttribute(w),t.currentYearElement.disabled=!!G&&$!==void 0&&G.getFullYear()===$.getFullYear())}}function Ee(){const w=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],C=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r.dataset||{}))),e),$={};t.config.parseDate=C.parseDate,t.config.formatDate=C.formatDate,Object.defineProperty(t.config,"enable",{get:()=>t.config._enable,set:Z=>{t.config._enable=Qe(Z)}}),Object.defineProperty(t.config,"disable",{get:()=>t.config._disable,set:Z=>{t.config._disable=Qe(Z)}});const G=C.mode==="time";if(!C.dateFormat&&(C.enableTime||G)){const Z=Ct.defaultConfig.dateFormat||ga.dateFormat;$.dateFormat=C.noCalendar||G?"H:i"+(C.enableSeconds?":S":""):Z+" H:i"+(C.enableSeconds?":S":"")}if(C.altInput&&(C.enableTime||G)&&!C.altFormat){const Z=Ct.defaultConfig.altFormat||ga.altFormat;$.altFormat=C.noCalendar||G?"h:i"+(C.enableSeconds?":S K":" K"):Z+` h:i${C.enableSeconds?":S":""} K`}Object.defineProperty(t.config,"minDate",{get:()=>t.config._minDate,set:ge("min")}),Object.defineProperty(t.config,"maxDate",{get:()=>t.config._maxDate,set:ge("max")});const Q=Z=>se=>{t.config[Z==="min"?"_minTime":"_maxTime"]=t.parseDate(se,"H:i:S")};Object.defineProperty(t.config,"minTime",{get:()=>t.config._minTime,set:Q("min")}),Object.defineProperty(t.config,"maxTime",{get:()=>t.config._maxTime,set:Q("max")}),C.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,$,C);for(let Z=0;Z<w.length;Z++)t.config[w[Z]]=t.config[w[Z]]===!0||t.config[w[Z]]==="true";uu.filter(Z=>t.config[Z]!==void 0).forEach(Z=>{t.config[Z]=du(t.config[Z]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let Z=0;Z<t.config.plugins.length;Z++){const se=t.config.plugins[Z](t)||{};for(const ae in se)uu.indexOf(ae)>-1?t.config[ae]=du(se[ae]).map(a).concat(t.config[ae]):typeof C[ae]=="undefined"&&(t.config[ae]=se[ae])}C.altInputClass||(t.config.altInputClass=De().className+" "+t.config.altInputClass),re("onParseConfig")}function De(){return t.config.wrap?r.querySelector("[data-input]"):r}function jt(){typeof t.config.locale!="object"&&typeof Ct.l10ns[t.config.locale]=="undefined"&&t.config.errorHandler(new Error(`flatpickr: invalid locale ${t.config.locale}`)),t.l10n=Object.assign(Object.assign({},Ct.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Ct.l10ns[t.config.locale]:void 0),hu.K=`(${t.l10n.amPM[0]}|${t.l10n.amPM[1]}|${t.l10n.amPM[0].toLowerCase()}|${t.l10n.amPM[1].toLowerCase()})`,Object.assign(Object.assign({},e),JSON.parse(JSON.stringify(r.dataset||{}))).time_24hr===void 0&&Ct.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=s1(t),t.parseDate=xu({config:t.config,l10n:t.l10n})}function $e(w){if(typeof t.config.position=="function")return void t.config.position(t,w);if(t.calendarContainer===void 0)return;re("onPreCalendarPosition");const C=w||t._positionElement,$=Array.prototype.reduce.call(t.calendarContainer.children,(fr,at)=>fr+at.offsetHeight,0),G=t.calendarContainer.offsetWidth,Q=t.config.position.split(" "),Z=Q[0],se=Q.length>1?Q[1]:null,ae=C.getBoundingClientRect(),Ae=window.innerHeight-ae.bottom,xe=Z==="above"||Z!=="below"&&Ae<$&&ae.top>$,_e=window.pageYOffset+ae.top+(xe?-$-2:C.offsetHeight+2);if(er(t.calendarContainer,"arrowTop",!xe),er(t.calendarContainer,"arrowBottom",xe),t.config.inline)return;let Et=window.pageXOffset+ae.left,Ie=!1,et=!1;se==="center"?(Et-=(G-ae.width)/2,Ie=!0):se==="right"&&(Et-=G-ae.width,et=!0),er(t.calendarContainer,"arrowLeft",!Ie&&!et),er(t.calendarContainer,"arrowCenter",Ie),er(t.calendarContainer,"arrowRight",et);const Mt=window.document.body.offsetWidth-(window.pageXOffset+ae.right),Je=Et+G>window.document.body.offsetWidth,Ye=Mt+G>window.document.body.offsetWidth;if(er(t.calendarContainer,"rightMost",Je),!t.config.static)if(t.calendarContainer.style.top=`${_e}px`,!Je)t.calendarContainer.style.left=`${Et}px`,t.calendarContainer.style.right="auto";else if(!Ye)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=`${Mt}px`;else{const fr=Ge();if(fr===void 0)return;const at=window.document.body.offsetWidth,ot=Math.max(0,at/2-G/2),Qr=".flatpickr-calendar.centerMost:before",en=".flatpickr-calendar.centerMost:after",tn=fr.cssRules.length,rn=`{left:${ae.left}px;right:auto;}`;er(t.calendarContainer,"rightMost",!1),er(t.calendarContainer,"centerMost",!0),fr.insertRule(`${Qr},${en}${rn}`,tn),t.calendarContainer.style.left=`${ot}px`,t.calendarContainer.style.right="auto"}}function Ge(){let w=null;for(let C=0;C<document.styleSheets.length;C++){const $=document.styleSheets[C];try{$.cssRules}catch{continue}w=$;break}return w!=null?w:cr()}function cr(){const w=document.createElement("style");return document.head.appendChild(w),w.sheet}function je(){t.config.noCalendar||t.isMobile||(d(),Ne(),I())}function Ke(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function wr(w){w.preventDefault(),w.stopPropagation();const C=se=>se.classList&&se.classList.contains("flatpickr-day")&&!se.classList.contains("flatpickr-disabled")&&!se.classList.contains("notAllowed"),$=o1(vr(w),C);if($===void 0)return;const G=$,Q=t.latestSelectedDateObj=new Date(G.dateObj.getTime()),Z=(Q.getMonth()<t.currentMonth||Q.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=G,t.config.mode==="single")t.selectedDates=[Q];else if(t.config.mode==="multiple"){const se=Ce(Q);se?t.selectedDates.splice(parseInt(se),1):t.selectedDates.push(Q)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Q,t.selectedDates.push(Q),yr(Q,t.selectedDates[0],!0)!==0&&t.selectedDates.sort((se,ae)=>se.getTime()-ae.getTime()));if(u(),Z){const se=t.currentYear!==Q.getFullYear();t.currentYear=Q.getFullYear(),t.currentMonth=Q.getMonth(),se&&(re("onYearChange"),d()),re("onMonthChange")}if(Ne(),I(),Pe(),!Z&&t.config.mode!=="range"&&t.config.showMonths===1?R(G):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){const se=t.config.mode==="single"&&!t.config.enableTime,ae=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(se||ae)&&Ke()}N()}const ze={locale:[jt,F],showMonths:[g,o,O],minDate:[k],maxDate:[k],clickOpens:[()=>{t.config.clickOpens===!0?(A(t._input,"focus",t.open),A(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function rt(w,C){if(w!==null&&typeof w=="object"){Object.assign(t.config,w);for(const $ in w)ze[$]!==void 0&&ze[$].forEach(G=>G())}else t.config[w]=C,ze[w]!==void 0?ze[w].forEach($=>$()):uu.indexOf(w)>-1&&(t.config[w]=du(C));t.redraw(),Pe(!0)}function _r(w,C){let $=[];if(w instanceof Array)$=w.map(G=>t.parseDate(G,C));else if(w instanceof Date||typeof w=="number")$=[t.parseDate(w,C)];else if(typeof w=="string")switch(t.config.mode){case"single":case"time":$=[t.parseDate(w,C)];break;case"multiple":$=w.split(t.config.conjunction).map(G=>t.parseDate(G,C));break;case"range":$=w.split(t.l10n.rangeSeparator).map(G=>t.parseDate(G,C));break}else t.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(w)}`));t.selectedDates=t.config.allowInvalidPreload?$:$.filter(G=>G instanceof Date&&q(G,!1)),t.config.mode==="range"&&t.selectedDates.sort((G,Q)=>G.getTime()-Q.getTime())}function nt(w,C=!1,$=t.config.dateFormat){if(w!==0&&!w||w instanceof Array&&w.length===0)return t.clear(C);_r(w,$),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,C),l(),t.selectedDates.length===0&&t.clear(!1),Pe(C),C&&re("onChange")}function Qe(w){return w.slice().map(C=>typeof C=="string"||typeof C=="number"||C instanceof Date?t.parseDate(C,void 0,!0):C&&typeof C=="object"&&C.from&&C.to?{from:t.parseDate(C.from,void 0),to:t.parseDate(C.to,void 0)}:C).filter(C=>C)}function Dr(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;const w=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);w&&_r(w,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function it(){if(t.input=De(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Ze(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),t._positionElement=t.config.positionElement||t._input}function Y(){const w=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Ze("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=w,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=w==="datetime-local"?"Y-m-d\\TH:i:S":w==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}A(t.mobileInput,"change",C=>{t.setDate(vr(C).value,!1,t.mobileFormatStr),re("onChange"),re("onClose")})}function le(w){if(t.isOpen===!0)return t.close();t.open(w)}function re(w,C){if(t.config===void 0)return;const $=t.config[w];if($!==void 0&&$.length>0)for(let G=0;$[G]&&G<$.length;G++)$[G](t.selectedDates,t.input.value,t,C);w==="onChange"&&(t.input.dispatchEvent(me("change")),t.input.dispatchEvent(me("input")))}function me(w){const C=document.createEvent("Event");return C.initEvent(w,!0,!0),C}function Ce(w){for(let C=0;C<t.selectedDates.length;C++)if(yr(t.selectedDates[C],w)===0)return""+C;return!1}function ke(w){return t.config.mode!=="range"||t.selectedDates.length<2?!1:yr(w,t.selectedDates[0])>=0&&yr(w,t.selectedDates[1])<=0}function Ne(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach((w,C)=>{const $=new Date(t.currentYear,t.currentMonth,1);$.setMonth(t.currentMonth+C),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[C].textContent=m0($.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=$.getMonth().toString(),w.value=$.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Dt(w){return t.selectedDates.map(C=>t.formatDate(C,w)).filter((C,$,G)=>t.config.mode!=="range"||t.config.enableTime||G.indexOf(C)===$).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Pe(w=!0){t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Dt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Dt(t.config.altFormat)),w!==!1&&re("onValueUpdate")}function Ve(w){const C=vr(w),$=t.prevMonthNav.contains(C),G=t.nextMonthNav.contains(C);$||G?h($?-1:1):t.yearElements.indexOf(C)>=0?C.select():C.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):C.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function tr(w){w.preventDefault();const C=w.type==="keydown",$=vr(w),G=$;t.amPM!==void 0&&$===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Pr(t.amPM.textContent===t.l10n.amPM[0])]);const Q=parseFloat(G.getAttribute("min")),Z=parseFloat(G.getAttribute("max")),se=parseFloat(G.getAttribute("step")),ae=parseInt(G.value,10),Ae=w.delta||(C?w.which===38?1:-1:0);let xe=ae+se*Ae;if(typeof G.value!="undefined"&&G.value.length===2){const _e=G===t.hourElement,Et=G===t.minuteElement;xe<Q?(xe=Z+xe+Pr(!_e)+(Pr(_e)&&Pr(!t.amPM)),Et&&U(void 0,-1,t.hourElement)):xe>Z&&(xe=G===t.hourElement?xe-Z-Pr(!t.amPM):Q,Et&&U(void 0,1,t.hourElement)),t.amPM&&_e&&(se===1?xe+ae===23:Math.abs(xe-ae)>se)&&(t.amPM.textContent=t.l10n.amPM[Pr(t.amPM.textContent===t.l10n.amPM[0])]),G.value=sr(xe)}}return i(),t}function va(r,e){const t=Array.prototype.slice.call(r).filter(i=>i instanceof HTMLElement),n=[];for(let i=0;i<t.length;i++){const a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=Ey(a,e||{}),n.push(a._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return va(this,r)},HTMLElement.prototype.flatpickr=function(r){return va([this],r)});var Ct=function(r,e){return typeof r=="string"?va(window.document.querySelectorAll(r),e):r instanceof Node?va([r],e):va(r,e)};Ct.defaultConfig={};Ct.l10ns={en:Object.assign({},ko),default:Object.assign({},ko)};Ct.localize=r=>{Ct.l10ns.default=Object.assign(Object.assign({},Ct.l10ns.default),r)};Ct.setDefaults=r=>{Ct.defaultConfig=Object.assign(Object.assign({},Ct.defaultConfig),r)};Ct.parseDate=xu({});Ct.formatDate=s1({});Ct.compareDates=yr;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(r){return va(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window!="undefined"&&(window.flatpickr=Ct);var c1={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(B0,function(){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(){return t=Object.assign||function(s){for(var c,f=1,u=arguments.length;f<u;f++){c=arguments[f];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(s[l]=c[l])}return s},t.apply(this,arguments)};function n(o){try{if(typeof o.composedPath=="function"){var s=o.composedPath();return s[0]}return o.target}catch{return o.target}}var i={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function a(o){var s=t(t({},i),o),c,f="flatpickr-confirm";return function(u){return u.config.noCalendar||u.isMobile?{}:t({onKeyDown:function(l,m,v,A){var N=n(A);u.config.enableTime&&A.key==="Tab"&&N===u.amPM?(A.preventDefault(),c.focus()):A.key==="Enter"&&N===c&&u.close()},onReady:function(){c=u._createElement("div",f+" "+(s.showAlways?"visible":"")+" "+s.theme+"Theme",s.confirmText),c.tabIndex=-1,c.innerHTML+=s.confirmIcon,c.addEventListener("click",u.close),u.calendarContainer.appendChild(c),u.loadedPlugins.push("confirmDate")}},s.showAlways?{}:{onChange:function(l,m){var v=u.config.enableTime||u.config.mode==="multiple"||u.loadedPlugins.indexOf("monthSelect")!==-1,A=u.calendarContainer.querySelector("."+f);if(!!A){if(m&&!u.config.inline&&v&&A)return A.classList.add("visible");A.classList.remove("visible")}}})}}return a})})(c1);var J7=c1.exports;function Y7(r,{delay:e=0,duration:t=400,easing:n=yu}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:a=>`opacity: ${a*i}`}}export{K1 as $,v7 as A,G1 as B,p7 as C,b7 as D,z1 as E,J1 as F,Ny as G,Bo as H,r7 as I,N1 as J,zy as K,w7 as L,S7 as M,Fr as N,Ty as O,Iy as P,u7 as Q,ky as R,C7 as S,ai as T,By as U,Cy as V,Zy as W,Oy as X,Ry as Y,My as Z,i7 as _,n7 as a,j7 as a0,yn as a1,Vr as a2,P7 as a3,U7 as a4,oe as a5,L7 as a6,ft as a7,Lr as a8,$7 as a9,Xy as aA,J7 as aB,Yy as aC,m7 as aD,o7 as aE,Po as aF,Jy as aG,Y7 as aH,f7 as aI,cf as aJ,M7 as aK,Jn as aL,n4 as aM,Fy as aN,V7 as aO,No as aP,L5 as aQ,z7 as aR,q7 as aS,H7 as aT,op as aU,lo as aV,G7 as aW,Bf as aX,K7 as aY,O7 as aa,R7 as ab,D7 as ac,F7 as ad,B7 as ae,Ci as af,N7 as ag,Ky as ah,Uy as ai,C0 as aj,x7 as ak,h7 as al,l7 as am,d7 as an,t7 as ao,Ru as ap,Ly as aq,W7 as ar,qy as as,Wy as at,a7 as au,k7 as av,Dy as aw,Ct as ax,Py as ay,Hy as az,e7 as b,Gy as c,An as d,Iu as e,C1 as f,E7 as g,A7 as h,y7 as i,Ay as j,_7 as k,O1 as l,T7 as m,$y as n,Qy as o,jy as p,Vy as q,s7 as r,b1 as s,O0 as t,H1 as u,I7 as v,c7 as w,Fu as x,p1 as y,g7 as z};
//# sourceMappingURL=vendor-e78c39f1.js.map
