import{S as We,i as Ye,s as ze,d as B,v as He,N as ae,e as E,c as $,h,R as Yn,j as v,k as S,g as d,F as bh,Q as jo,ag as mt,O as ve,P as ke,f as k,L as _,J as Fe,K as Ne,ah as Je,p as pe,r as Ee,u as D,w as $e,x as C,ai as Kt,n as L,q as j,z as U,A as G,B as K,E as q,aj as tn,t as I,l as R,m as he,ak as So,al as Qr,am as wh,an as vh,o as qt,ao as Eo,ap as zn,V as Hn,I as $o,M as Ze,X as Xn,Y as Un,Z as Gn,aq as Vo,T as _n,a5 as ro,ar as Mo,as as Po,at as Ft,au as $n,av as Wo,y as Yo,aw as Jr,ax as Zr,ay as kh,az as xr,aA as es,C as yh,aB as ts,aC as ns,aD as os,aE as ls,aF as is,aG as Bo,G as rs,aH as zo,aI as ss}from"../chunks/vendor-e78c39f1.js";import{m as Ho}from"../chunks/myplanets-2a339ebc.js";import{r as cs,t as dn,h as Xo}from"../chunks/config-af7f3a10.js";import{W as as}from"../chunks/WalletAccess-ec429ef9.js";import{s as be,c as xe,a as Uo}from"../chunks/spaceInfo-b394211b.js";import{a as Sh}from"../chunks/base-652be6d9.js";import{B as us,s as Xe,a as Kn,b as Go,c as pt,m as Io,f as qn,d as Ot,e as vn,g as kn,v as Ko,h as qo,i as Qo,j as jt,p as Wt,k as Xt,l as Qn,n as Qt,o as fs,q as ds,r as Nt,t as Pn,u as ms,w as ps}from"../chunks/tokenClaim-d54d7ab7.js";import{p as vt,a as hs,b as _s}from"../chunks/planets-78a3d361.js";import{b as Jt}from"../chunks/paths-28a87002.js";import{w as St,t as cn,a as Zt,c as Jo,s as gs}from"../chunks/wallet-c826be1b.js";import{p as nn,h as so}from"../chunks/playersQuery-3a795d59.js";import{p as an,t as tt,f as Et,e as bs,a as ws}from"../chunks/privateWallet-7a0cfca0.js";import{f as Yt,a as Zo}from"../chunks/fleets-86e67def.js";import{s as Jn}from"../chunks/optimisticSpace-8b3fc51e.js";import{C as vs}from"../chunks/ConnectPanel-c0ecdc11.js";import{x as Vt,a as zt}from"../chunks/account-c0a26acd.js";import{s as Ht,m as co,T as xo}from"../chunks/myprofile-37a6a38f.js";import{P as $t}from"../chunks/PlayCoin-69d24b1d.js";import{m as Dn,M as ks}from"../chunks/MessageFlow-30f15648.js";import{H as Pt}from"../chunks/Help-b968899e.js";import{P as ye}from"../chunks/PanelButton-b24a8fdb.js";import{B as mn}from"../chunks/Blockie-6a051512.js";import{C as ys}from"../chunks/Copiable-f9ca3aee.js";import{M as Le}from"../chunks/Modal-a8884379.js";import{m as el}from"../chunks/token-c96bed7f.js";import{N as Ss}from"../chunks/NavButton-b22b61c0.js";import{i as ao}from"../chunks/contracts-69d01f63.js";import{u as yn}from"../chunks/url-09d70f02.js";import{C as gn}from"../chunks/Coord-ca78105f.js";import{E as Ro}from"../chunks/EventDetails-d65d00d0.js";import{l as Fn}from"../chunks/logo-8502b062.js";import{p as tl}from"../chunks/stores-2f0e30ab.js";import{s as nl}from"../chunks/plugins-94e9a3e2.js";import"../chunks/subgraph-aa394bde.js";import"../chunks/graphql-582eebcc.js";const Eh=!0;function ol(i){const e={c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae};return B("SvelteRegisterBlock",{block:e,id:ol.name,type:"component",source:"",ctx:i}),e}function $h(i,e,t){let{$$slots:l={},$$scope:o}=e;He("Storereader",l,[]),typeof window!="undefined"&&(window.config=cs);const n=[];return Object.keys(e).forEach(r=>{!~n.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Storereader> was created with unknown prop '${r}'`)}),i.$capture_state=()=>({config:cs}),[]}class Es extends We{constructor(e){super(e);Ye(this,e,$h,ol,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"Storereader",options:e,id:ol.name})}}class $s extends Sh{constructor(e){super({width:e.clientWidth,height:e.clientHeight,devicePixelRatio:1});this.elem=e}updateDevicePixelRatio(e){this.$store.devicePixelRatio=e,this.update()}update(){const e=this.elem,t=this.$store.devicePixelRatio,l=Math.floor(e.clientWidth*t),o=Math.floor(e.clientHeight*t);(this.$store.width!==l||this.$store.height!==o)&&(this.$store.width=l,this.$store.height=o,this._set(this.$store))}}const Ph={"Baren.png":{frame:{x:1,y:69,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Barren_2.png":{frame:{x:51,y:69,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Desert.png":{frame:{x:153,y:67,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Desert_1.png":{frame:{x:203,y:67,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Desert_2.png":{frame:{x:253,y:67,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Forest.png":{frame:{x:267,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Gas_1.png":{frame:{x:303,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Gnosis_sun.png":{frame:{x:69,y:1,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},"Ice.png":{frame:{x:317,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Ice_1.png":{frame:{x:353,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Ice_2.png":{frame:{x:367,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Jungle32.png":{frame:{x:667,y:1,w:34,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:34,h:34},sourceSize:{w:34,h:34},pivot:{x:.5,y:.5}},"Jungle48.png":{frame:{x:403,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Jungle64.png":{frame:{x:1,y:1,w:66,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:2,w:66,h:66},sourceSize:{w:70,h:70},pivot:{x:.5,y:.5}},"Lava.png":{frame:{x:417,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Lava_1.png":{frame:{x:453,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Lava_2.png":{frame:{x:467,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Moon.png":{frame:{x:303,y:101,w:17,h:17},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:17,h:17},sourceSize:{w:17,h:17},pivot:{x:.5,y:.5}},"Ocean.png":{frame:{x:503,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Ocean_1.png":{frame:{x:101,y:67,w:50,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:1,w:50,h:50},sourceSize:{w:52,h:52},pivot:{x:.5,y:.5}},"Pokt_sun.png":{frame:{x:135,y:1,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}},"Tech_1.png":{frame:{x:517,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Tech_2.png":{frame:{x:553,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Terran.png":{frame:{x:567,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Terran_1.png":{frame:{x:603,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Terran_2.png":{frame:{x:617,y:1,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Tundra.png":{frame:{x:653,y:51,w:48,h:48},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:48,h:48},sourceSize:{w:48,h:48},pivot:{x:.5,y:.5}},"Xaya_sun.png":{frame:{x:201,y:1,w:64,h:64},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:64},sourceSize:{w:64,h:64},pivot:{x:.5,y:.5}}},Bh={app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"planets.png",format:"RGBA8888",size:{w:702,h:119},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:79d349e441411f064e4f0a4086a2e7b7:a4e6f220018030c3ee2ea0b0e5c74f5c:b39012af8c10e6f2542ba48f4ca1957d$"};var To={frames:Ph,meta:Bh},uo="/_app/assets/planets-cbf882b4.png";const Ih="src/lib/screens/map/SharedBlockie.svelte";function ll(i){let e,t;const l={c:function(){e=E("img"),this.h()},l:function(n){e=$(n,"IMG",{style:!0,src:!0,alt:!0,class:!0}),this.h()},h:function(){h(e,"style",i[1]),Yn(e.src,t=i[2])||h(e,"src",t),h(e,"alt",i[0]),h(e,"class","s-PrU9CCrSTZw5"),v(e,Ih,10,0,470)},m:function(n,r){S(n,e,r)},p:function(n,[r]){r&2&&h(e,"style",n[1]),r&4&&!Yn(e.src,t=n[2])&&h(e,"src",t),r&1&&h(e,"alt",n[0])},i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ll.name,type:"component",source:"",ctx:i}),l}function Rh(i,e,t){let l,{$$slots:o={},$$scope:n}=e;He("SharedBlockie",o,[]);let{address:r}=e,{offset:s=0}=e,{style:a=void 0}=e;const c=["address","offset","style"];return Object.keys(e).forEach(u=>{!~c.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<SharedBlockie> was created with unknown prop '${u}'`)}),i.$$set=u=>{"address"in u&&t(0,r=u.address),"offset"in u&&t(3,s=u.offset),"style"in u&&t(1,a=u.style)},i.$capture_state=()=>({address:r,offset:s,style:a,Blockie:us,uri:l}),i.$inject_state=u=>{"address"in u&&t(0,r=u.address),"offset"in u&&t(3,s=u.offset),"style"in u&&t(1,a=u.style),"uri"in u&&t(2,l=u.uri)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&9&&t(2,l=r.toLowerCase()==="0xdeaddeaddeaddeaddeaddeaddeaddeaddeaddead"?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAC5JREFUCJljYCAeXK/excDAwPL//38scgy7GOASaAwmXAYyYjWKkZERoReZxAcA+csbkMtRTQoAAAAASUVORK5CYII=":us.getURI(r,s))},[r,a,l,s]}class fo extends We{constructor(e){super(e);Ye(this,e,Rh,ll,ze,{address:0,offset:3,style:1}),B("SvelteRegisterComponent",{component:this,tagName:"SharedBlockie",options:e,id:ll.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("address"in l)&&console.warn("<SharedBlockie> was created without expected prop 'address'")}get address(){throw new Error("<SharedBlockie>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set address(e){throw new Error("<SharedBlockie>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get offset(){throw new Error("<SharedBlockie>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set offset(e){throw new Error("<SharedBlockie>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get style(){throw new Error("<SharedBlockie>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set style(e){throw new Error("<SharedBlockie>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const rn=bh({alliances:!1,fleets:!0,planetOwners:"Everyone",sectors:!1}),{Error:Ps}=jo,Lt="src/lib/screens/map/PlanetElement.svelte";function Bs(i,e,t){const l=i.slice();return l[48]=e[t],l[50]=t,l}function Is(i,e,t){const l=i.slice();return l[51]=e[t],l}function Rs(i){let e,t,l;const o={c:function(){e=E("div"),this.h()},l:function(r){e=$(r,"DIV",{style:!0,data:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"style",t=`position: absolute; transform: translate(${i[7]}px,${i[8]}px) scale(${i[2]}, ${i[2]}); background: url(${Jt}${uo}); background-position: ${-i[1].x}px ${-i[1].y}px; width: ${i[1].w}px; height: ${i[1].h}px;
  `),h(e,"data",l=`${i[0].location.x}, ${i[0].location.y} : ${i[0].stats.subX}, ${i[0].stats.subY} -| ${i[0].location.globalX}, ${i[0].location.globalY}`),v(e,Lt,238,4,10280)},m:function(r,s){S(r,e,s)},p:function(r,s){s[0]&390&&t!==(t=`position: absolute; transform: translate(${r[7]}px,${r[8]}px) scale(${r[2]}, ${r[2]}); background: url(${Jt}${uo}); background-position: ${-r[1].x}px ${-r[1].y}px; width: ${r[1].w}px; height: ${r[1].h}px;
  `)&&h(e,"style",t),s[0]&1&&l!==(l=`${r[0].location.x}, ${r[0].location.y} : ${r[0].stats.subX}, ${r[0].stats.subY} -| ${r[0].location.globalX}, ${r[0].location.globalY}`)&&h(e,"data",l)},d:function(r){r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Rs.name,type:"if",source:"(237:33) ",ctx:i}),o}function Ts(i){let e,t,l;const o={c:function(){e=E("div"),this.h()},l:function(r){e=$(r,"DIV",{style:!0,data:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"style",t=`position: absolute; transform: translate(${i[7]}px,${i[8]}px) scale(${i[12]*2}, ${i[12]*2}); background: url(${Jt}${uo}); background-position: ${-i[1].x}px ${-i[1].y}px; width: ${i[1].w}px; height: ${i[1].h}px;
`),h(e,"data",l=`${i[0].location.x}, ${i[0].location.y} : ${i[0].stats.subX}, ${i[0].stats.subY} -| ${i[0].location.globalX}, ${i[0].location.globalY}`),v(e,Lt,227,4,9704)},m:function(r,s){S(r,e,s)},p:function(r,s){s[0]&4482&&t!==(t=`position: absolute; transform: translate(${r[7]}px,${r[8]}px) scale(${r[12]*2}, ${r[12]*2}); background: url(${Jt}${uo}); background-position: ${-r[1].x}px ${-r[1].y}px; width: ${r[1].w}px; height: ${r[1].h}px;
`)&&h(e,"style",t),s[0]&1&&l!==(l=`${r[0].location.x}, ${r[0].location.y} : ${r[0].stats.subX}, ${r[0].stats.subY} -| ${r[0].location.globalX}, ${r[0].location.globalY}`)&&h(e,"data",l)},d:function(r){r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Ts.name,type:"if",source:"(227:2) {#if rewardAttached}",ctx:i}),o}function il(i){let e,t,l,o;const n={c:function(){e=E("div"),t=E("div"),this.h()},l:function(s){e=$(s,"DIV",{style:!0});var a=k(e);t=$(a,"DIV",{style:!0}),k(t).forEach(d),a.forEach(d),this.h()},h:function(){h(t,"style",l=`
        width: ${i[1].w}px;
        height: ${i[1].h}px;
        border: ${i[10]}px dashed gold;
      `),v(t,Lt,257,6,11033),h(e,"style",o=`
        z-index: 2;
        position: absolute;
        transform: translate(${i[7]}px,${i[8]}px) scale(${i[12]*5}, ${i[12]*5});
        width: ${i[1].w}px;
        height: ${i[1].h}px;
      `),v(e,Lt,248,4,10768)},m:function(s,a){S(s,e,a),_(e,t)},p:function(s,a){a[0]&1026&&l!==(l=`
        width: ${s[1].w}px;
        height: ${s[1].h}px;
        border: ${s[10]}px dashed gold;
      `)&&h(t,"style",l),a[0]&4482&&o!==(o=`
        z-index: 2;
        position: absolute;
        transform: translate(${s[7]}px,${s[8]}px) scale(${s[12]*5}, ${s[12]*5});
        width: ${s[1].w}px;
        height: ${s[1].h}px;
      `)&&h(e,"style",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:il.name,type:"if",source:"(248:2) {#if rewardAttached}",ctx:i}),n}function As(i){let e,t,l,o;const n={c:function(){e=E("div"),t=E("div"),this.h()},l:function(s){e=$(s,"DIV",{style:!0});var a=k(e);t=$(a,"DIV",{style:!0}),k(t).forEach(d),a.forEach(d),this.h()},h:function(){h(t,"style",l=`
          width: ${i[1].w}px;
          height: ${i[1].h}px;
          border: ${i[10]/1.2}px solid white;
          animation-name: event-scale-up-down;
          animation-iteration-count: infinite;
          animation-duration: 2s;
          animation-timing-function: linear;
        `),v(t,Lt,302,6,12254),h(e,"style",o=`
        z-index: 3;
        position: absolute;
        transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*3/i[23]}, ${i[11]*3/i[23]});
        width: ${i[1].w}px;
        height: ${i[1].h}px;
      `),v(e,Lt,291,4,11967)},m:function(s,a){S(s,e,a),_(e,t)},p:function(s,a){a[0]&1026&&l!==(l=`
          width: ${s[1].w}px;
          height: ${s[1].h}px;
          border: ${s[10]/1.2}px solid white;
          animation-name: event-scale-up-down;
          animation-iteration-count: infinite;
          animation-duration: 2s;
          animation-timing-function: linear;
        `)&&h(t,"style",l),a[0]&2434&&o!==(o=`
        z-index: 3;
        position: absolute;
        transform: translate(${s[7]}px,${s[8]}px) scale(${s[11]*3/s[23]}, ${s[11]*3/s[23]});
        width: ${s[1].w}px;
        height: ${s[1].h}px;
      `)&&h(e,"style",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:As.name,type:"if",source:"(291:107) ",ctx:i}),n}function Cs(i){let e,t,l,o;const n={c:function(){e=E("div"),t=E("div"),this.h()},l:function(s){e=$(s,"DIV",{style:!0});var a=k(e);t=$(a,"DIV",{style:!0}),k(t).forEach(d),a.forEach(d),this.h()},h:function(){h(t,"style",l=`
          width: ${i[1].w}px;
          height: ${i[1].h}px;
          border: ${i[10]/1.2}px solid white;
          border-radius: 50%;
          animation-name: event-scale-up-down;
          animation-iteration-count: infinite;
          animation-duration: 2s;
          animation-timing-function: linear;
        `),v(t,Lt,277,6,11478),h(e,"style",o=`
    z-index: 3;
    position: absolute;
    transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*3/i[23]}, ${i[11]*3/i[23]});
    width: ${i[1].w}px;
    height: ${i[1].h}px;
  `),v(e,Lt,268,4,11231)},m:function(s,a){S(s,e,a),_(e,t)},p:function(s,a){a[0]&1026&&l!==(l=`
          width: ${s[1].w}px;
          height: ${s[1].h}px;
          border: ${s[10]/1.2}px solid white;
          border-radius: 50%;
          animation-name: event-scale-up-down;
          animation-iteration-count: infinite;
          animation-duration: 2s;
          animation-timing-function: linear;
        `)&&h(t,"style",l),a[0]&2434&&o!==(o=`
    z-index: 3;
    position: absolute;
    transform: translate(${s[7]}px,${s[8]}px) scale(${s[11]*3/s[23]}, ${s[11]*3/s[23]});
    width: ${s[1].w}px;
    height: ${s[1].h}px;
  `)&&h(e,"style",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:Cs.name,type:"if",source:"(268:2) {#if pickedBySendFlow}",ctx:i}),n}function rl(i){let e,t,l,o;const n={c:function(){e=E("div"),t=E("div"),this.h()},l:function(s){e=$(s,"DIV",{style:!0});var a=k(e);t=$(a,"DIV",{style:!0}),k(t).forEach(d),a.forEach(d),this.h()},h:function(){h(t,"style",l=`
      width: ${i[1].w}px;
      height: ${i[1].h}px;
      border: ${i[10]}px solid white;
      border-left-color: red;
      border-radius: 50%;
      animation-name: rotate-s-loader;
      animation-iteration-count: infinite;
      animation-duration: 1s;
      animation-timing-function: linear;
    `),v(t,Lt,326,6,12878),h(e,"style",o=`
    z-index: 3;
    position: absolute;
    transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*3}, ${i[11]*3});
    width: ${i[1].w}px;
    height: ${i[1].h}px;
  `),v(e,Lt,317,4,12661)},m:function(s,a){S(s,e,a),_(e,t)},p:function(s,a){a[0]&1026&&l!==(l=`
      width: ${s[1].w}px;
      height: ${s[1].h}px;
      border: ${s[10]}px solid white;
      border-left-color: red;
      border-radius: 50%;
      animation-name: rotate-s-loader;
      animation-iteration-count: infinite;
      animation-duration: 1s;
      animation-timing-function: linear;
    `)&&h(t,"style",l),a[0]&2434&&o!==(o=`
    z-index: 3;
    position: absolute;
    transform: translate(${s[7]}px,${s[8]}px) scale(${s[11]*3}, ${s[11]*3});
    width: ${s[1].w}px;
    height: ${s[1].h}px;
  `)&&h(e,"style",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:rl.name,type:"if",source:"(317:2) {#if $planetState && $planetState.capturing}",ctx:i}),n}function sl(i){let e,t,l,o,n;const r={c:function(){e=E("div"),t=Fe("svg"),l=Fe("path"),this.h()},l:function(a){e=$(a,"DIV",{style:!0});var c=k(e);t=Ne(c,"svg",{viewBox:!0});var u=k(t);l=Ne(u,"path",{style:!0,"stroke-dasharray":!0,d:!0}),k(l).forEach(d),u.forEach(d),c.forEach(d),this.h()},h:function(){Je(l,"fill","none"),Je(l,"stroke-width","2.8"),Je(l,"stroke-linecap","round"),Je(l,"stroke","#ff3300"),h(l,"stroke-dasharray",o=`${Math.max((be.exitDuration-i[6].exitTimeLeft)/be.exitDuration*100,3)} 100`),h(l,"d",`M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831`),v(l,Lt,353,8,13572),h(t,"viewBox","0 0 36 36"),v(t,Lt,352,6,13538),h(e,"style",n=`
        z-index: 5;
        position: absolute;
        transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*3}, ${i[11]*3});
        width: ${i[1].w}px;
        height: ${i[1].h}px;
      `),v(e,Lt,343,4,13297)},m:function(a,c){S(a,e,c),_(e,t),_(t,l)},p:function(a,c){c[0]&64&&o!==(o=`${Math.max((be.exitDuration-a[6].exitTimeLeft)/be.exitDuration*100,3)} 100`)&&h(l,"stroke-dasharray",o),c[0]&2434&&n!==(n=`
        z-index: 5;
        position: absolute;
        transform: translate(${a[7]}px,${a[8]}px) scale(${a[11]*3}, ${a[11]*3});
        width: ${a[1].w}px;
        height: ${a[1].h}px;
      `)&&h(e,"style",n)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:sl.name,type:"if",source:"(343:2) {#if $planetState && $planetState.exiting}",ctx:i}),r}function cl(i){let e,t,l,o,n;const r={c:function(){e=E("div"),t=Fe("svg"),l=Fe("path"),this.h()},l:function(a){e=$(a,"DIV",{style:!0});var c=k(e);t=Ne(c,"svg",{viewBox:!0});var u=k(t);l=Ne(u,"path",{style:!0,"stroke-dasharray":!0,d:!0}),k(l).forEach(d),u.forEach(d),c.forEach(d),this.h()},h:function(){Je(l,"fill","none"),Je(l,"stroke-width","2.8"),Je(l,"stroke-linecap","round"),Je(l,"stroke","#86efac"),h(l,"stroke-dasharray",o=`${Math.min(Math.max((i[6].flagTime+6*24*3600/be.productionSpeedUp-i[21])/(6*24*3600/be.productionSpeedUp)*100,3),95)} 95`),h(l,"d",`M18 2.0845
        a 15.9155 15.9155 0 0 1 0 31.831
        a 15.9155 15.9155 0 0 1 0 -31.831`),v(l,Lt,378,8,14386),h(t,"viewBox","0 0 36 36"),v(t,Lt,377,6,14352),h(e,"style",n=`
    z-index: 5;
    position: absolute;
    transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*2}, ${i[11]*2});
    width: ${i[1].w}px;
    height: ${i[1].h}px;
  `),v(e,Lt,368,4,14135)},m:function(a,c){S(a,e,c),_(e,t),_(t,l)},p:function(a,c){c[0]&2097216&&o!==(o=`${Math.min(Math.max((a[6].flagTime+6*24*3600/be.productionSpeedUp-a[21])/(6*24*3600/be.productionSpeedUp)*100,3),95)} 95`)&&h(l,"stroke-dasharray",o),c[0]&2434&&n!==(n=`
    z-index: 5;
    position: absolute;
    transform: translate(${a[7]}px,${a[8]}px) scale(${a[11]*2}, ${a[11]*2});
    width: ${a[1].w}px;
    height: ${a[1].h}px;
  `)&&h(e,"style",n)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:cl.name,type:"if",source:"(368:2) {#if $planetState && $planetState.flagTime > 0 && $time < $planetState.flagTime + (6 * 24 * 3600) / spaceInfo.productionSpeedUp}",ctx:i}),r}function al(i){let e,t,l,o,n;const r={c:function(){e=E("div"),t=Fe("svg"),l=Fe("path"),this.h()},l:function(a){e=$(a,"DIV",{style:!0});var c=k(e);t=Ne(c,"svg",{viewBox:!0});var u=k(t);l=Ne(u,"path",{style:!0,"stroke-dasharray":!0,d:!0}),k(l).forEach(d),u.forEach(d),c.forEach(d),this.h()},h:function(){Je(l,"fill","none"),Je(l,"stroke-width","2.8"),Je(l,"stroke-linecap","round"),Je(l,"stroke","blue"),h(l,"stroke-dasharray",o=`${Math.max((be.exitDuration-i[6].exitTimeLeft)/be.exitDuration*100,3)} 100`),h(l,"d",`M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831`),v(l,Lt,409,8,15276),h(t,"viewBox","0 0 36 36"),v(t,Lt,408,6,15242),h(e,"style",n=`
        z-index: 5;
        position: absolute;
        transform: translate(${i[7]}px,${i[8]}px) scale(${i[11]*2}, ${i[11]*2});
        width: ${i[1].w}px;
        height: ${i[1].h}px;
      `),v(e,Lt,399,4,15001)},m:function(a,c){S(a,e,c),_(e,t),_(t,l)},p:function(a,c){c[0]&64&&o!==(o=`${Math.max((be.exitDuration-a[6].exitTimeLeft)/be.exitDuration*100,3)} 100`)&&h(l,"stroke-dasharray",o),c[0]&2434&&n!==(n=`
        z-index: 5;
        position: absolute;
        transform: translate(${a[7]}px,${a[8]}px) scale(${a[11]*2}, ${a[11]*2});
        width: ${a[1].w}px;
        height: ${a[1].h}px;
      `)&&h(e,"style",n)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:al.name,type:"each",source:"(398:2) {#each plugins as plugin}",ctx:i}),r}function ul(i){let e,t,l,o;const n=[Ds,Os],r=[];function s(c,u){return c[11]<=c[2]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:ul.name,type:"if",source:"(424:2) {#if showOwner && owner}",ctx:i}),a}function Os(i){let e,t;e=new fo({props:{style:`
          pointer-events: none;
          z-index: 2;
          position: absolute;
          transform:
            translate(${i[7]+0*i[23]}px,${i[8]-0*i[23]}px)
            scale(${i[11]*1.5}, ${i[11]*1.5});
          width: ${i[1].w}px; height: ${i[1].h}px;
          border: ${i[19]?"solid "+.25/i[2]+"px":"dashed "+.12/i[2]+"px"}  ${i[18]};
       `,address:i[3]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&788870&&(s.style=`
          pointer-events: none;
          z-index: 2;
          position: absolute;
          transform:
            translate(${n[7]+0*n[23]}px,${n[8]-0*n[23]}px)
            scale(${n[11]*1.5}, ${n[11]*1.5});
          width: ${n[1].w}px; height: ${n[1].h}px;
          border: ${n[19]?"solid "+.25/n[2]+"px":"dashed "+.12/n[2]+"px"}  ${n[18]};
       `),r[0]&8&&(s.address=n[3]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Os.name,type:"else",source:"(441:4) {:else}",ctx:i}),l}function Ds(i){let e,t;e=new fo({props:{style:`
          pointer-events: none;
          z-index: 2;
          position: absolute;
          transform:
            translate(${i[9]?i[7]+1.2*i[23]-.5/i[2]/2:i[7]+.6*i[23]-.5/i[2]/2}px,${i[9]?i[8]-1.8*i[23]-.5/i[2]/2:i[8]-1.2*i[23]-.5/i[2]/2}px)
            scale(${i[11]}, ${i[11]});
          width: ${i[1].w+.5/i[2]}px; height: ${i[1].h+.5/i[2]}px;
          border: ${i[19]?"solid "+.25/i[2]+"px":"dashed "+.12/i[2]+"px"}  ${i[18]};
        `,address:i[3]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&789382&&(s.style=`
          pointer-events: none;
          z-index: 2;
          position: absolute;
          transform:
            translate(${n[9]?n[7]+1.2*n[23]-.5/n[2]/2:n[7]+.6*n[23]-.5/n[2]/2}px,${n[9]?n[8]-1.8*n[23]-.5/n[2]/2:n[8]-1.2*n[23]-.5/n[2]/2}px)
            scale(${n[11]}, ${n[11]});
          width: ${n[1].w+.5/n[2]}px; height: ${n[1].h+.5/n[2]}px;
          border: ${n[19]?"solid "+.25/n[2]+"px":"dashed "+.12/n[2]+"px"}  ${n[18]};
        `),r[0]&8&&(s.address=n[3]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ds.name,type:"if",source:"(425:4) {#if blockieScale <= scale}",ctx:i}),l}function fl(i){let e,t,l=i[4];mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=dl(Bs(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c[0]&25299350){l=a[4],mt(l);let u;for(u=0;u<l.length;u+=1){const f=Bs(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=dl(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:fl.name,type:"if",source:"(458:2) {#if $overlays.alliances}",ctx:i}),r}function Fs(i){let e,t;e=new fo({props:{offset:1,style:`
        pointer-events: none;
        z-index: 3;
        position: absolute;
        transform:
          translate(${i[7]+i[24][i[50]%4]*1.3*i[23]}px,${i[8]+i[24][(i[50]+3)%4]*1.3*i[23]}px)
          scale(${i[11]*1.5}, ${i[11]*1.5});
        width: ${i[1].w}px; height: ${i[1].h}px;
        border: solid 10px ${i[17]};
        border-radius: ${i[1].w}px;
`,address:i[48].address},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&133506&&(s.style=`
        pointer-events: none;
        z-index: 3;
        position: absolute;
        transform:
          translate(${n[7]+n[24][n[50]%4]*1.3*n[23]}px,${n[8]+n[24][(n[50]+3)%4]*1.3*n[23]}px)
          scale(${n[11]*1.5}, ${n[11]*1.5});
        width: ${n[1].w}px; height: ${n[1].h}px;
        border: solid 10px ${n[17]};
        border-radius: ${n[1].w}px;
`),r[0]&16&&(s.address=n[48].address),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Fs.name,type:"else",source:"(478:6) {:else}",ctx:i}),l}function Ns(i){let e,t;e=new fo({props:{offset:1,style:`
        pointer-events: none;
        z-index: 3;
        position: absolute;
        transform:
          translate(${i[7]+.6*i[23]-.5/i[2]/2+i[24][i[50]%4]*1.3*i[23]}px,${i[8]-.6*i[23]-.5/i[2]/2+i[24][(i[50]+3)%4]*1.3*i[23]}px)
          scale(${i[11]}, ${i[11]});
        width: ${i[1].w+.5/i[2]}px; height: ${i[1].h+.5/i[2]}px;
        border: solid 10px ${i[17]};
        border-radius: ${i[1].w}px;
`,address:i[48].address},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&133510&&(s.style=`
        pointer-events: none;
        z-index: 3;
        position: absolute;
        transform:
          translate(${n[7]+.6*n[23]-.5/n[2]/2+n[24][n[50]%4]*1.3*n[23]}px,${n[8]-.6*n[23]-.5/n[2]/2+n[24][(n[50]+3)%4]*1.3*n[23]}px)
          scale(${n[11]}, ${n[11]});
        width: ${n[1].w+.5/n[2]}px; height: ${n[1].h+.5/n[2]}px;
        border: solid 10px ${n[17]};
        border-radius: ${n[1].w}px;
`),r[0]&16&&(s.address=n[48].address),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ns.name,type:"if",source:"(460:6) {#if blockieScale <= scale}",ctx:i}),l}function dl(i){let e,t,l,o;const n=[Ns,Fs],r=[];function s(c,u){return c[11]<=c[2]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:dl.name,type:"each",source:"(459:4) {#each alliances as alliance, i}",ctx:i}),a}function ml(i){let e,t,l,o,n,r,s,a,c,u;function f(M,W){if(M[9])return Ts;if(M[13]||!M[14])return Rs}let m=f(i),p=m&&m(i),g=i[9]&&il(i);function b(M,W){if(M[15])return Cs;if(M[20]&&M[20].x===M[0].location.x&&M[20].y===M[0].location.y)return As}let w=b(i),y=w&&w(i),P=i[6]&&i[6].capturing&&rl(i),A=i[6]&&i[6].exiting&&sl(i),T=i[6]&&i[6].flagTime>0&&i[21]<i[6].flagTime+6*24*3600/be.productionSpeedUp&&cl(i),O=i[16];mt(O);let F=[];for(let M=0;M<O.length;M+=1)F[M]=al(Is(i,O,M));let N=i[14]&&i[3]&&ul(i),Y=i[5].alliances&&fl(i);const H={c:function(){e=E("div"),p&&p.c(),t=L(),g&&g.c(),l=L(),y&&y.c(),o=L(),P&&P.c(),n=L(),A&&A.c(),r=L(),T&&T.c(),s=L();for(let W=0;W<F.length;W+=1)F[W].c();a=L(),N&&N.c(),c=L(),Y&&Y.c(),this.h()},l:function(W){e=$(W,"DIV",{});var X=k(e);p&&p.l(X),t=j(X),g&&g.l(X),l=j(X),y&&y.l(X),o=j(X),P&&P.l(X),n=j(X),A&&A.l(X),r=j(X),T&&T.l(X),s=j(X);for(let V=0;V<F.length;V+=1)F[V].l(X);a=j(X),N&&N.l(X),c=j(X),Y&&Y.l(X),X.forEach(d),this.h()},h:function(){v(e,Lt,225,0,9671)},m:function(W,X){S(W,e,X),p&&p.m(e,null),_(e,t),g&&g.m(e,null),_(e,l),y&&y.m(e,null),_(e,o),P&&P.m(e,null),_(e,n),A&&A.m(e,null),_(e,r),T&&T.m(e,null),_(e,s);for(let V=0;V<F.length;V+=1)F[V].m(e,null);_(e,a),N&&N.m(e,null),_(e,c),Y&&Y.m(e,null),u=!0},p:function(W,X){if(m===(m=f(W))&&p?p.p(W,X):(p&&p.d(1),p=m&&m(W),p&&(p.c(),p.m(e,t))),W[9]?g?g.p(W,X):(g=il(W),g.c(),g.m(e,l)):g&&(g.d(1),g=null),w===(w=b(W))&&y?y.p(W,X):(y&&y.d(1),y=w&&w(W),y&&(y.c(),y.m(e,o))),W[6]&&W[6].capturing?P?P.p(W,X):(P=rl(W),P.c(),P.m(e,n)):P&&(P.d(1),P=null),W[6]&&W[6].exiting?A?A.p(W,X):(A=sl(W),A.c(),A.m(e,r)):A&&(A.d(1),A=null),W[6]&&W[6].flagTime>0&&W[21]<W[6].flagTime+6*24*3600/be.productionSpeedUp?T?T.p(W,X):(T=cl(W),T.c(),T.m(e,s)):T&&(T.d(1),T=null),X[0]&68034){O=W[16],mt(O);let V;for(V=0;V<O.length;V+=1){const Q=Is(W,O,V);F[V]?F[V].p(Q,X):(F[V]=al(Q),F[V].c(),F[V].m(e,a))}for(;V<F.length;V+=1)F[V].d(1);F.length=O.length}W[14]&&W[3]?N?(N.p(W,X),X[0]&16392&&C(N,1)):(N=ul(W),N.c(),C(N,1),N.m(e,c)):N&&(Ee(),D(N,1,1,()=>{N=null}),$e()),W[5].alliances?Y?(Y.p(W,X),X[0]&32&&C(Y,1)):(Y=fl(W),Y.c(),C(Y,1),Y.m(e,null)):Y&&(Ee(),D(Y,1,1,()=>{Y=null}),$e())},i:function(W){u||(C(N),C(Y),u=!0)},o:function(W){D(N),D(Y),u=!1},d:function(W){W&&d(e),p&&p.d(),g&&g.d(),y&&y.d(),P&&P.d(),A&&A.d(),T&&T.d(),Kt(F,W),N&&N.d(),Y&&Y.d()}};return B("SvelteRegisterBlock",{block:H,id:ml.name,type:"component",source:"",ctx:i}),H}function Th(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W;ve(rn,"overlays"),ke(i,rn,x=>t(5,y=x)),ve(Xe,"sendFlow"),ke(i,Xe,x=>t(40,P=x)),ve(St,"wallet"),ke(i,St,x=>t(41,T=x)),ve(Kn,"showPlanetButtons"),ke(i,Kn,x=>t(42,O=x)),ve(Go,"selectionOwner"),ke(i,Go,x=>t(43,F=x)),ve(nn,"playersQuery"),ke(i,nn,x=>t(44,N=x)),ve(an,"privateWallet"),ke(i,an,x=>t(45,Y=x)),ve(xe,"camera"),ke(i,xe,x=>t(46,H=x)),ve(pt,"selection"),ke(i,pt,x=>t(20,M=x)),ve(cn,"time"),ke(i,cn,x=>t(21,W=x));let{$$slots:X={},$$scope:V}=e;He("PlanetElement",X,[]);var Q,z,ie,oe,ce,Z;let{planetInfo:se}=e;const ee=["Baren.png","Baren.png","Tech_2.png","Baren.png","Barren_2.png","Tech_2.png","Jungle48.png","Jungle48.png","Tundra.png","Baren.png","Desert.png","Tech_2.png","Barren_2.png","Ocean_1.png","Desert_2.png","Jungle48.png","Forest.png","Terran_1.png","Ice.png","Ice.png","Gas_1.png","Ice.png","Lava_1.png","Terran_2.png","Tech_1.png","Ocean.png","Terran.png"],fe=vt.planetStateFor(se);ve(fe,"planetState"),ke(i,fe,x=>t(6,A=x));let de;if(!de&&(de=ee[se.type%ee.length],!de))throw new Error(`no frame type for ${se.type}`);let we=To.frames[de],Pe=we.frame;const Ae=se.stats.production/3600;let J=.025*Ae,le=se.location.globalX-Pe.w/2,ge=se.location.globalY-Pe.h/2,Ce=!1;const Re=[-1,1,1,-1];let Te=4,Me=1,re=J,Ve=.025,je=!0;const me=["planetInfo"];return Object.keys(e).forEach(x=>{!~me.indexOf(x)&&x.slice(0,2)!=="$$"&&x!=="slot"&&console.warn(`<PlanetElement> was created with unknown prop '${x}'`)}),i.$$set=x=>{"planetInfo"in x&&t(0,se=x.planetInfo)},i.$capture_state=()=>({_a:Q,_b:z,_c:ie,_d:oe,_e:ce,_f:Z,planetInfo:se,planetsFrame:To,planetsImageURL:uo,SharedBlockie:fo,camera:xe,planets:vt,base:Jt,wallet:St,selection:pt,selectionOwner:Go,spaceInfo:be,hasCommonAlliance:so,playersQuery:nn,privateWallet:an,matchConditions:Io,showPlanetButtons:Kn,overlays:rn,sendFlow:Xe,time:cn,planetTypesToFrame:ee,planetState:fe,frameType:de,frameInfo:we,frame:Pe,multiplier:Ae,scale:J,x:le,y:ge,rewardAttached:Ce,alliancesOffset:Re,selectionBorder:Te,adjustedRenderScale:Me,blockieScale:re,unMultipliedBlockieScale:Ve,zoomIn:je,playerIsOwner:a,isAlly:f,showOwner:w,pickedBySendFlow:b,plugins:g,owner:l,isSelectedOwner:c,allianceBorderColor:p,capacityRatio:u,borderColor:m,alliances:r,renderScale:s,ownerObject:n,active:o,$overlays:y,$sendFlow:P,$planetState:A,$wallet:T,$showPlanetButtons:O,$selectionOwner:F,$playersQuery:N,$privateWallet:Y,$camera:H,$selection:M,$time:W}),i.$inject_state=x=>{"_a"in x&&t(25,Q=x._a),"_b"in x&&t(26,z=x._b),"_c"in x&&t(27,ie=x._c),"_d"in x&&t(28,oe=x._d),"_e"in x&&t(29,ce=x._e),"_f"in x&&t(30,Z=x._f),"planetInfo"in x&&t(0,se=x.planetInfo),"frameType"in x&&t(31,de=x.frameType),"frameInfo"in x&&t(32,we=x.frameInfo),"frame"in x&&t(1,Pe=x.frame),"scale"in x&&t(2,J=x.scale),"x"in x&&t(7,le=x.x),"y"in x&&t(8,ge=x.y),"rewardAttached"in x&&t(9,Ce=x.rewardAttached),"selectionBorder"in x&&t(10,Te=x.selectionBorder),"adjustedRenderScale"in x&&t(33,Me=x.adjustedRenderScale),"blockieScale"in x&&t(11,re=x.blockieScale),"unMultipliedBlockieScale"in x&&t(12,Ve=x.unMultipliedBlockieScale),"zoomIn"in x&&t(13,je=x.zoomIn),"playerIsOwner"in x&&t(34,a=x.playerIsOwner),"isAlly"in x&&t(35,f=x.isAlly),"showOwner"in x&&t(14,w=x.showOwner),"pickedBySendFlow"in x&&t(15,b=x.pickedBySendFlow),"plugins"in x&&t(16,g=x.plugins),"owner"in x&&t(3,l=x.owner),"isSelectedOwner"in x&&t(36,c=x.isSelectedOwner),"allianceBorderColor"in x&&t(17,p=x.allianceBorderColor),"capacityRatio"in x&&t(37,u=x.capacityRatio),"borderColor"in x&&t(18,m=x.borderColor),"alliances"in x&&t(4,r=x.alliances),"renderScale"in x&&t(38,s=x.renderScale),"ownerObject"in x&&t(39,n=x.ownerObject),"active"in x&&t(19,o=x.active)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty[0]&64&&t(3,l=A==null?void 0:A.owner),i.$$.dirty[0]&64&&t(19,o=A==null?void 0:A.active),i.$$.dirty[0]&67|i.$$.dirty[1]&3&&(A&&(A==null?void 0:A.rewardGiver)!==""&&(A==null?void 0:A.rewardGiver)!=="0"?((A==null?void 0:A.rewardGiver)==="0xdddddddddddddddddddddddddddddddddddddddd"?t(31,de="Xaya_sun.png"):(A==null?void 0:A.rewardGiver)==="0x1111111111111111111111111111111111111111"?t(31,de="Pokt_sun.png"):(A==null?void 0:A.rewardGiver)==="0x2222222222222222222222222222222222222222"&&t(31,de="Gnosis_sun.png"),t(32,we=To.frames[de]),t(1,Pe=we.frame),t(2,J=.025*Ae),t(7,le=se.location.globalX-Pe.w/2),t(8,ge=se.location.globalY-Pe.h/2)):(t(31,de=ee[se.type%ee.length]),t(32,we=To.frames[de]),t(1,Pe=we.frame),t(2,J=.025*Ae),t(7,le=se.location.globalX-Pe.w/2),t(8,ge=se.location.globalY-Pe.h/2),t(9,Ce=!1))),i.$$.dirty[0]&33554440|i.$$.dirty[1]&8192&&t(39,n=t(25,Q=N.data)===null||Q===void 0?void 0:Q.players[l]),i.$$.dirty[1]&256&&t(4,r=n?n.alliances:[]),i.$$.dirty[1]&32768&&t(38,s=H?H.renderScale:1),i.$$.dirty[0]&12|i.$$.dirty[1]&132&&(l&&s<10?(t(33,Me=10/s),t(11,re=J*Me),t(12,Ve=.025*Me),t(13,je=!1),t(10,Te=4)):(t(10,Te=4),t(13,je=!0),t(11,re=J),t(12,Ve=.025),t(33,Me=1))),i.$$.dirty[1]&128&&(s<10?t(12,Ve=.025*(10/s)):t(12,Ve=.025)),i.$$.dirty[0]&67108872|i.$$.dirty[1]&17408&&t(34,a=Y.step==="READY"&&(l==null?void 0:l.toLowerCase())===(t(26,z=T.address)===null||z===void 0?void 0:z.toLowerCase())),i.$$.dirty[0]&8|i.$$.dirty[1]&4096&&t(36,c=F&&F.address.toLowerCase()===(l==null?void 0:l.toLowerCase())),i.$$.dirty[0]&65&&t(37,u=A?be.productionCapAsDuration&&be.productionCapAsDuration>0&&Math.max(.6,Math.min(1,A.numSpaceships/(be.acquireNumSpaceships+Math.floor(se.stats.production*be.productionCapAsDuration)/(60*60)))):0),i.$$.dirty[0]&16&&t(35,f=r.find(x=>x.ally)),i.$$.dirty[0]&402653192|i.$$.dirty[1]&29816&&t(18,m=!T.address||Y.step!=="READY"?c?"red":so(F,t(27,ie=N.data)===null||ie===void 0?void 0:ie.players[l==null?void 0:l.toLowerCase()])?"rgba(255, 165 ,0, 1)":"white":a?`rgba(0, 255, 0, ${u})`:f?c?`rgba(103, 232, 255, ${u})`:`rgba(103, 232, 255, ${u})`:c?`rgba(255, 0 ,0, ${u})`:so(F,t(28,oe=N.data)===null||oe===void 0?void 0:oe.players[l==null?void 0:l.toLowerCase()])?`rgba(255, 165 ,0, ${u})`:F?`rgba(255, 255 ,255, ${u})`:`rgba(255, 0 ,0, ${u})`),i.$$.dirty[0]&1610612744|i.$$.dirty[1]&29752&&t(17,p=!T.address||Y.step!=="READY"?c||so(F,t(29,ce=N.data)===null||ce===void 0?void 0:ce.players[l==null?void 0:l.toLowerCase()])?"red":"white":a||f?"lime":c||so(F,t(30,Z=N.data)===null||Z===void 0?void 0:Z.players[l==null?void 0:l.toLowerCase()])?"red":F?"white":"red"),i.$$.dirty[0]&65|i.$$.dirty[1]&3072&&t(16,g=A?O.filter(x=>x.mapConditions&&Io(x.mapConditions,{account:T.address,planetState:A,planetInfo:se})):[]),i.$$.dirty[0]&1|i.$$.dirty[1]&512&&t(15,b=P.step==="PICK_DESTINATION"&&P.data.from.x==se.location.x&&P.data.from.y==se.location.y||P.step==="PICK_ORIGIN"&&P.data.to.x==se.location.x&&P.data.to.y==se.location.y),i.$$.dirty[0]&32|i.$$.dirty[1]&24&&t(14,w=y.planetOwners!=="None"&&(y.planetOwners==="Everyone"||y.planetOwners==="OnlyYou"&&a||y.planetOwners==="OnlyAllies"&&(f||a)))},[se,Pe,J,l,r,y,A,le,ge,Ce,Te,re,Ve,je,w,b,g,p,m,o,M,W,fe,Ae,Re,Q,z,ie,oe,ce,Z,de,we,Me,a,f,c,u,s,n,P,T,O,F,N,Y,H]}class Ls extends We{constructor(e){super(e);Ye(this,e,Th,ml,ze,{planetInfo:0},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"PlanetElement",options:e,id:ml.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("planetInfo"in l)&&console.warn("<PlanetElement> was created without expected prop 'planetInfo'")}get planetInfo(){throw new Ps("<PlanetElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planetInfo(e){throw new Ps("<PlanetElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var pl="/_app/assets/Red3-6e966784.png";const ht="src/lib/screens/map/FleetElement.svelte";function js(i){let e,t,l,o,n,r;const s={c:function(){e=Fe("svg"),t=Fe("path"),this.h()},l:function(c){e=Ne(c,"svg",{viewBox:!0,width:!0,height:!0,style:!0});var u=k(e);t=Ne(u,"path",{style:!0,d:!0,fill:!0}),k(t).forEach(d),u.forEach(d),this.h()},h:function(){h(t,"style",l=`transform: rotate(${i[6]}rad); cursor: pointer; z-index: 99 `),h(t,"d","M -5 -2.5 L 0 0 L -5 2.5 z"),h(t,"fill",i[9]),v(t,ht,216,4,7456),h(e,"viewBox","0 0 500 500 "),h(e,"width",o=400/i[17]*6),h(e,"height",n=400/i[17]*6),h(e,"style",r=`position: absolute; z-index: 4; overflow: visible; transform: translate(${i[19]}px,${i[18]}px);`),v(e,ht,208,2,7136)},m:function(c,u){S(c,e,u),_(e,t)},p:function(c,u){u[0]&64&&l!==(l=`transform: rotate(${c[6]}rad); cursor: pointer; z-index: 99 `)&&h(t,"style",l),u[0]&512&&h(t,"fill",c[9]),u[0]&131072&&o!==(o=400/c[17]*6)&&h(e,"width",o),u[0]&131072&&n!==(n=400/c[17]*6)&&h(e,"height",n),u[0]&786432&&r!==(r=`position: absolute; z-index: 4; overflow: visible; transform: translate(${c[19]}px,${c[18]}px);`)&&h(e,"style",r)},d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:js.name,type:"else",source:"(208:0) {:else}",ctx:i}),s}function Vs(i){let e,t,l,o,n,r,s,a,c,u,f,m,p;const g={c:function(){e=Fe("svg"),t=Fe("path"),s=L(),a=Fe("svg"),c=Fe("path"),this.h()},l:function(w){e=Ne(w,"svg",{viewBox:!0,width:!0,height:!0,style:!0});var y=k(e);t=Ne(y,"path",{style:!0,d:!0,fill:!0}),k(t).forEach(d),y.forEach(d),s=j(w),a=Ne(w,"svg",{viewBox:!0,width:!0,height:!0,style:!0});var P=k(a);c=Ne(P,"path",{style:!0,d:!0,fill:!0}),k(c).forEach(d),P.forEach(d),this.h()},h:function(){h(t,"style",l=`transform: rotate(${i[6]}rad); cursor: pointer; z-index: 99 `),h(t,"d","M -5 -2.5 L 0 0 L -5 2.5 z"),h(t,"fill",i[9]),v(t,ht,174,4,6239),h(e,"viewBox","0 0 500 500 "),h(e,"width",o=400/i[17]*6),h(e,"height",n=400/i[17]*6),h(e,"style",r=`
    position: absolute;
    z-index: 4;
    overflow: visible;
    transform: translate(${i[19]-Math.cos(i[6])*.2}px,${i[18]-Math.sin(i[6])*.2}px);
    animation-name: animation-flash;
    animation-iteration-count: infinite;
    animation-delay:0.1s;
    animation-duration: 1s;
    animation-timing-function: linear;
    `),v(e,ht,156,2,5678),h(c,"style",u=`transform: rotate(${i[6]}rad); cursor: pointer; z-index: 99 `),h(c,"d","M -5 -2.5 L 0 0 L -5 2.5 z"),h(c,"fill",i[9]),v(c,ht,199,4,6951),h(a,"viewBox","0 0 500 500 "),h(a,"width",f=400/i[17]*6),h(a,"height",m=400/i[17]*6),h(a,"style",p=`
    position: absolute;
    z-index: 4;
    overflow: visible;
    transform: translate(${i[19]+Math.cos(i[6])*.1}px,${i[18]+Math.sin(i[6])*.1}px);
    animation-name: animation-flash;
    animation-iteration-count: infinite;
    animation-duration: 1s;
    animation-timing-function: linear;
    `),v(a,ht,182,2,6416)},m:function(w,y){S(w,e,y),_(e,t),S(w,s,y),S(w,a,y),_(a,c)},p:function(w,y){y[0]&64&&l!==(l=`transform: rotate(${w[6]}rad); cursor: pointer; z-index: 99 `)&&h(t,"style",l),y[0]&512&&h(t,"fill",w[9]),y[0]&131072&&o!==(o=400/w[17]*6)&&h(e,"width",o),y[0]&131072&&n!==(n=400/w[17]*6)&&h(e,"height",n),y[0]&786496&&r!==(r=`
    position: absolute;
    z-index: 4;
    overflow: visible;
    transform: translate(${w[19]-Math.cos(w[6])*.2}px,${w[18]-Math.sin(w[6])*.2}px);
    animation-name: animation-flash;
    animation-iteration-count: infinite;
    animation-delay:0.1s;
    animation-duration: 1s;
    animation-timing-function: linear;
    `)&&h(e,"style",r),y[0]&64&&u!==(u=`transform: rotate(${w[6]}rad); cursor: pointer; z-index: 99 `)&&h(c,"style",u),y[0]&512&&h(c,"fill",w[9]),y[0]&131072&&f!==(f=400/w[17]*6)&&h(a,"width",f),y[0]&131072&&m!==(m=400/w[17]*6)&&h(a,"height",m),y[0]&786496&&p!==(p=`
    position: absolute;
    z-index: 4;
    overflow: visible;
    transform: translate(${w[19]+Math.cos(w[6])*.1}px,${w[18]+Math.sin(w[6])*.1}px);
    animation-name: animation-flash;
    animation-iteration-count: infinite;
    animation-duration: 1s;
    animation-timing-function: linear;
    `)&&h(a,"style",p)},d:function(w){w&&d(e),w&&d(s),w&&d(a)}};return B("SvelteRegisterBlock",{block:g,id:Vs.name,type:"if",source:"(156:48) ",ctx:i}),g}function Ms(i){let e,t,l,o;const n={c:function(){e=E("div"),t=E("div"),this.h()},l:function(s){e=$(s,"DIV",{style:!0});var a=k(e);t=$(a,"DIV",{style:!0}),k(t).forEach(d),a.forEach(d),this.h()},h:function(){h(t,"style",l=`
width: ${48}px;
height: ${48}px;
border: ${i[11]}px solid red;
border-radius: 50%;
animation-name: event-scale-up-down;
animation-iteration-count: infinite;
animation-duration: 2s;
animation-timing-function: linear;
`),v(t,ht,107,4,4599),h(e,"style",o=`z-index: 4; position: absolute; transform: translate(${i[19]-48/2}px,${i[18]-48/2}px)  scale(${i[12]*4}, ${i[12]*4}); width: ${48}px;
  height: ${48}px;`),v(e,ht,101,2,4389)},m:function(s,a){S(s,e,a),_(e,t)},p:function(s,a){a[0]&2048&&l!==(l=`
width: ${48}px;
height: ${48}px;
border: ${s[11]}px solid red;
border-radius: 50%;
animation-name: event-scale-up-down;
animation-iteration-count: infinite;
animation-duration: 2s;
animation-timing-function: linear;
`)&&h(t,"style",l),a[0]&790528&&o!==(o=`z-index: 4; position: absolute; transform: translate(${s[19]-48/2}px,${s[18]-48/2}px)  scale(${s[12]*4}, ${s[12]*4}); width: ${48}px;
  height: ${48}px;`)&&h(e,"style",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:Ms.name,type:"if",source:"(101:0) {#if fleet.state === 'READY_TO_RESOLVE'}",ctx:i}),n}function hl(i){let e,t,l,o,n,r,s=i[0].quantity+"",a,c,u,f,m,p,g=tt(i[0].timeLeft)+"",b,w,y,P,A,T,O=new Date((i[0].launchTime+Math.max(i[14],i[0].arrivalTimeWanted-i[0].launchTime))*1e3).toLocaleString()+"",F,N,Y,H,M=i[0].arrivalTimeWanted-i[0].launchTime<i[14]&&_l(i),W=i[1]&&gl(i);const X={c:function(){e=E("div"),t=E("ul"),l=E("li"),o=E("span"),n=I("spaceships:"),r=L(),a=I(s),c=L(),u=E("li"),f=E("span"),m=I("Time left:"),p=L(),b=I(g),w=L(),y=E("li"),P=E("span"),A=I("Arrival:"),T=L(),F=I(O),N=L(),M&&M.c(),Y=L(),W&&W.c(),this.h()},l:function(Q){e=$(Q,"DIV",{class:!0,style:!0});var z=k(e);t=$(z,"UL",{class:!0});var ie=k(t);l=$(ie,"LI",{});var oe=k(l);o=$(oe,"SPAN",{class:!0});var ce=k(o);n=R(ce,"spaceships:"),ce.forEach(d),r=j(oe),a=R(oe,s),oe.forEach(d),c=j(ie),u=$(ie,"LI",{});var Z=k(u);f=$(Z,"SPAN",{class:!0});var se=k(f);m=R(se,"Time left:"),se.forEach(d),p=j(Z),b=R(Z,g),Z.forEach(d),w=j(ie),y=$(ie,"LI",{});var ee=k(y);P=$(ee,"SPAN",{class:!0});var fe=k(P);A=R(fe,"Arrival:"),fe.forEach(d),T=j(ee),F=R(ee,O),N=j(ee),M&&M.l(ee),ee.forEach(d),Y=j(ie),W&&W.l(ie),ie.forEach(d),z.forEach(d),this.h()},h:function(){h(o,"class","text-yellow-300"),v(o,ht,235,10,8145),v(l,ht,235,6,8141),h(f,"class","text-yellow-300"),v(f,ht,236,10,8226),v(u,ht,236,6,8222),h(P,"class","text-yellow-300"),v(P,ht,238,8,8327),v(y,ht,237,6,8314),h(t,"class","text-white"),v(t,ht,234,4,8111),h(e,"class","w-32 bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300"),h(e,"style",H=`font-size: 7px;
      transform-origin: top left;
       position: absolute; z-index: 99; overflow: visible; transform: translate(${i[19]}px,${i[18]}px) scale(${2/i[17]})`),v(e,ht,228,2,7837)},m:function(Q,z){S(Q,e,z),_(e,t),_(t,l),_(l,o),_(o,n),_(l,r),_(l,a),_(t,c),_(t,u),_(u,f),_(f,m),_(u,p),_(u,b),_(t,w),_(t,y),_(y,P),_(P,A),_(y,T),_(y,F),_(y,N),M&&M.m(y,null),_(t,Y),W&&W.m(t,null)},p:function(Q,z){z[0]&1&&s!==(s=Q[0].quantity+"")&&he(a,s),z[0]&1&&g!==(g=tt(Q[0].timeLeft)+"")&&he(b,g),z[0]&16385&&O!==(O=new Date((Q[0].launchTime+Math.max(Q[14],Q[0].arrivalTimeWanted-Q[0].launchTime))*1e3).toLocaleString()+"")&&he(F,O),Q[0].arrivalTimeWanted-Q[0].launchTime<Q[14]?M?M.p(Q,z):(M=_l(Q),M.c(),M.m(y,null)):M&&(M.d(1),M=null),Q[1]?W?W.p(Q,z):(W=gl(Q),W.c(),W.m(t,null)):W&&(W.d(1),W=null),z[0]&917504&&H!==(H=`font-size: 7px;
      transform-origin: top left;
       position: absolute; z-index: 99; overflow: visible; transform: translate(${Q[19]}px,${Q[18]}px) scale(${2/Q[17]})`)&&h(e,"style",H)},d:function(Q){Q&&d(e),M&&M.d(),W&&W.d()}};return B("SvelteRegisterBlock",{block:X,id:hl.name,type:"if",source:"(227:0) {#if ($fleetselection && $fleetselection.txHash == fleet.txHash) || ($camera && $camera.width * $camera.height < 1024)}",ctx:i}),X}function _l(i){let e,t,l,o=new Date(i[0].arrivalTimeWanted*1e3).toLocaleString()+"",n;const r={c:function(){e=E("span"),t=I("Combine at"),l=L(),n=I(o),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);t=R(c,"Combine at"),c.forEach(d),l=j(a),n=R(a,o),this.h()},h:function(){h(e,"class","text-yellow-300"),v(e,ht,243,10,8605)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),S(a,n,c)},p:function(a,c){c[0]&1&&o!==(o=new Date(a[0].arrivalTimeWanted*1e3).toLocaleString()+"")&&he(n,o)},d:function(a){a&&d(e),a&&d(l),a&&d(n)}};return B("SvelteRegisterBlock",{block:r,id:_l.name,type:"if",source:"(243:8) {#if fleet.arrivalTimeWanted - fleet.launchTime < minDuration}",ctx:i}),r}function gl(i){let e,t,l;function o(f,m){return f[1].outcome.gift?zs:f[1].outcome.min.captured?Ys:Ws}let n=o(i),r=n(i);function s(f,m){return f[1].outcome.gift?Us:f[1].outcome.min.captured?Xs:Hs}let a=s(i),c=a(i);const u={c:function(){e=E("li"),r.c(),t=L(),c.c(),l=pe(),this.h()},l:function(m){e=$(m,"LI",{});var p=k(e);r.l(p),p.forEach(d),t=j(m),c.l(m),l=pe(),this.h()},h:function(){v(e,ht,249,8,8978)},m:function(m,p){S(m,e,p),r.m(e,null),S(m,t,p),c.m(m,p),S(m,l,p)},p:function(m,p){n!==(n=o(m))&&(r.d(1),r=n(m),r&&(r.c(),r.m(e,null))),a===(a=s(m))&&c?c.p(m,p):(c.d(1),c=a(m),c&&(c.c(),c.m(l.parentNode,l)))},d:function(m){m&&d(e),r.d(),m&&d(t),c.d(m),m&&d(l)}};return B("SvelteRegisterBlock",{block:u,id:gl.name,type:"if",source:"(249:6) {#if prediction}",ctx:i}),u}function Ws(i){let e,t;const l={c:function(){e=E("span"),t=I("Fails to capture"),this.h()},l:function(n){e=$(n,"SPAN",{class:!0});var r=k(e);t=R(r,"Fails to capture"),r.forEach(d),this.h()},h:function(){h(e,"class","text-red-500"),v(e,ht,255,12,9230)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Ws.name,type:"else",source:"(255:10) {:else}",ctx:i}),l}function Ys(i){let e,t;const l={c:function(){e=E("span"),t=I("Will capture"),this.h()},l:function(n){e=$(n,"SPAN",{class:!0});var r=k(e);t=R(r,"Will capture"),r.forEach(d),this.h()},h:function(){h(e,"class","text-green-500"),v(e,ht,253,12,9150)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Ys.name,type:"if",source:"(253:52) ",ctx:i}),l}function zs(i){let e,t;const l={c:function(){e=E("span"),t=I("Reinforcement"),this.h()},l:function(n){e=$(n,"SPAN",{class:!0});var r=k(e);t=R(r,"Reinforcement"),r.forEach(d),this.h()},h:function(){h(e,"class","text-green-500"),v(e,ht,251,12,9035)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:zs.name,type:"if",source:"(251:10) {#if prediction.outcome.gift}",ctx:i}),l}function Hs(i){var p;let e,t,l,o=((p=i[1].outcome.combat)==null?void 0:p.defenderLoss)+"",n,r,s,a,c,u=i[1].outcome.min.numSpaceshipsLeft+"",f;const m={c:function(){e=E("li"),t=E("span"),l=I("defender's loss: "),n=I(o),r=L(),s=E("li"),a=E("span"),c=I("spaceships left: "),f=I(u),this.h()},l:function(b){e=$(b,"LI",{});var w=k(e);t=$(w,"SPAN",{class:!0});var y=k(t);l=R(y,"defender's loss: "),n=R(y,o),y.forEach(d),w.forEach(d),r=j(b),s=$(b,"LI",{});var P=k(s);a=$(P,"SPAN",{class:!0});var A=k(a);c=R(A,"spaceships left: "),f=R(A,u),A.forEach(d),P.forEach(d),this.h()},h:function(){h(t,"class","text-red-500"),v(t,ht,269,12,9722),v(e,ht,268,10,9705),h(a,"class","text-red-500"),v(a,ht,275,12,1e4),v(s,ht,274,10,9983)},m:function(b,w){S(b,e,w),_(e,t),_(t,l),_(t,n),S(b,r,w),S(b,s,w),_(s,a),_(a,c),_(a,f)},p:function(b,w){var y;w[0]&2&&o!==(o=((y=b[1].outcome.combat)==null?void 0:y.defenderLoss)+"")&&he(n,o),w[0]&2&&u!==(u=b[1].outcome.min.numSpaceshipsLeft+"")&&he(f,u)},d:function(b){b&&d(e),b&&d(r),b&&d(s)}};return B("SvelteRegisterBlock",{block:m,id:Hs.name,type:"else",source:"(268:8) {:else}",ctx:i}),m}function Xs(i){let e,t,l,o=i[1].outcome.min.numSpaceshipsLeft+"",n;const r={c:function(){e=E("li"),t=E("span"),l=I("spaceships then: "),n=I(o),this.h()},l:function(a){e=$(a,"LI",{});var c=k(e);t=$(c,"SPAN",{class:!0});var u=k(t);l=R(u,"spaceships then: "),n=R(u,o),u.forEach(d),c.forEach(d),this.h()},h:function(){h(t,"class","text-green-500"),v(t,ht,265,12,9567),v(e,ht,264,10,9550)},m:function(a,c){S(a,e,c),_(e,t),_(t,l),_(t,n)},p:function(a,c){c[0]&2&&o!==(o=a[1].outcome.min.numSpaceshipsLeft+"")&&he(n,o)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Xs.name,type:"if",source:"(264:50) ",ctx:i}),r}function Us(i){let e,t,l,o=i[1].outcome.min.numSpaceshipsLeft+"",n;const r={c:function(){e=E("li"),t=E("span"),l=I("spaceships then: "),n=I(o),this.h()},l:function(a){e=$(a,"LI",{});var c=k(e);t=$(c,"SPAN",{class:!0});var u=k(t);l=R(u,"spaceships then: "),n=R(u,o),u.forEach(d),c.forEach(d),this.h()},h:function(){h(t,"class","text-green-500"),v(t,ht,261,12,9377),v(e,ht,260,10,9360)},m:function(a,c){S(a,e,c),_(e,t),_(t,l),_(t,n)},p:function(a,c){c[0]&2&&o!==(o=a[1].outcome.min.numSpaceshipsLeft+"")&&he(n,o)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Us.name,type:"if",source:"(260:8) {#if prediction.outcome.gift}",ctx:i}),r}function bl(i){let e,t,l,o,n,r;const s={c:function(){e=Fe("svg"),t=Fe("marker"),l=Fe("path"),o=Fe("line"),this.h()},l:function(c){e=Ne(c,"svg",{style:!0});var u=k(e);t=Ne(u,"marker",{xmlns:!0,id:!0,viewBox:!0,refX:!0,refY:!0,fill:!0,stroke:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var f=k(t);l=Ne(f,"path",{d:!0}),k(l).forEach(d),f.forEach(d),o=Ne(u,"line",{"marker-end":!0,style:!0,"stroke-width":!0,stroke:!0,"stroke-dasharray":!0,x1:!0,y1:!0,x2:!0,y2:!0}),k(o).forEach(d),u.forEach(d),this.h()},h:function(){h(l,"d","M 0 0 L 10 5 L 0 10 z"),v(l,ht,298,6,10529),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"id","triangle"),h(t,"viewBox","0 0 10 10"),h(t,"refX","10"),h(t,"refY","5"),h(t,"fill","#FFFFFF"),h(t,"stroke","#34D399"),h(t,"markerUnits","strokeWidth"),h(t,"markerWidth","4"),h(t,"markerHeight","3"),h(t,"orient","auto"),v(t,ht,285,4,10250),h(o,"marker-end","url(#triangle)"),Je(o,"z-index","3"),h(o,"stroke-width",n=`${4/i[17]}px`),h(o,"stroke",i[10]),h(o,"stroke-dasharray",r=i[13]?"1":void 0),h(o,"x1",i[4]),h(o,"y1",i[2]),h(o,"x2",i[5]),h(o,"y2",i[3]),v(o,ht,300,4,10582),h(e,"style","position: absolute; z-index: 3; overflow: visible;"),v(e,ht,284,2,10179)},m:function(c,u){S(c,e,u),_(e,t),_(t,l),_(e,o)},p:function(c,u){u[0]&131072&&n!==(n=`${4/c[17]}px`)&&h(o,"stroke-width",n),u[0]&1024&&h(o,"stroke",c[10]),u[0]&8192&&r!==(r=c[13]?"1":void 0)&&h(o,"stroke-dasharray",r),u[0]&16&&h(o,"x1",c[4]),u[0]&4&&h(o,"y1",c[2]),u[0]&32&&h(o,"x2",c[5]),u[0]&8&&h(o,"y2",c[3])},d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:bl.name,type:"if",source:"(284:0) {#if showLine}",ctx:i}),s}function wl(i){let e,t,l;function o(u,f){return u[0].state==="READY_TO_RESOLVE"?Ms:u[0].state==="RESOLVE_BROADCASTED"?Vs:js}let n=o(i),r=n(i),s=(i[20]&&i[20].txHash==i[0].txHash||i[7]&&i[7].width*i[7].height<1024)&&hl(i),a=i[8]&&bl(i);const c={c:function(){r.c(),e=L(),s&&s.c(),t=L(),a&&a.c(),l=pe()},l:function(f){r.l(f),e=j(f),s&&s.l(f),t=j(f),a&&a.l(f),l=pe()},m:function(f,m){r.m(f,m),S(f,e,m),s&&s.m(f,m),S(f,t,m),a&&a.m(f,m),S(f,l,m)},p:function(f,m){n===(n=o(f))&&r?r.p(f,m):(r.d(1),r=n(f),r&&(r.c(),r.m(e.parentNode,e))),f[20]&&f[20].txHash==f[0].txHash||f[7]&&f[7].width*f[7].height<1024?s?s.p(f,m):(s=hl(f),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),f[8]?a?a.p(f,m):(a=bl(f),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i:ae,o:ae,d:function(f){r.d(f),f&&d(e),s&&s.d(f),f&&d(t),a&&a.d(f),f&&d(l)}};return B("SvelteRegisterBlock",{block:c,id:wl.name,type:"component",source:"",ctx:i}),c}function Ah(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M=ae,W=()=>(M(),M=tn(w,re=>t(35,H=re)),w),X,V=ae,Q=()=>(V(),V=tn(g,re=>t(36,X=re)),g),z,ie;ve(xe,"camera"),ke(i,xe,re=>t(7,N=re)),ve(St,"wallet"),ke(i,St,re=>t(34,Y=re)),ve(nn,"playersQuery"),ke(i,nn,re=>t(37,z=re)),ve(qn,"fleetselection"),ke(i,qn,re=>t(20,ie=re)),i.$$.on_destroy.push(()=>M()),i.$$.on_destroy.push(()=>V());let{$$slots:oe={},$$scope:ce}=e;He("FleetElement",oe,[]);var Z,se,ee,fe;let{fleet:de}=e,we=!0,Pe,Ae="white",J,le=4,ge;const Ce=((b==null?void 0:b.stats.production)||3600)/3600;let Re=.025*Ce,Te=!0;const Me=["fleet"];return Object.keys(e).forEach(re=>{!~Me.indexOf(re)&&re.slice(0,2)!=="$$"&&re!=="slot"&&console.warn(`<FleetElement> was created with unknown prop '${re}'`)}),i.$$set=re=>{"fleet"in re&&t(0,de=re.fleet)},i.$capture_state=()=>({_a:Z,_b:se,_c:ee,_d:fe,camera:xe,timeToText:tt,spaceInfo:be,planets:vt,playersQuery:nn,fleetselection:qn,wallet:St,fleet:de,showLine:we,color:Pe,lineColor:Ae,prediction:J,selectionBorder:le,adjustedRenderScale:ge,multiplier:Ce,blockieScale:Re,zoomIn:Te,renderScale:F,toPlanetInfo:b,lineDashed:O,toPlayer:y,fromPlayer:P,senderPlayer:A,fromPlanetInfo:p,minDuration:T,toPlanetState:w,fromPlanetState:g,scale:m,ratio:o,y1:s,y2:c,y:f,x1:r,x2:a,x:u,angle:l,distanceSquare:n,$camera:N,$wallet:Y,$toPlanetState:H,$fromPlanetState:X,$playersQuery:z,$fleetselection:ie}),i.$inject_state=re=>{"_a"in re&&t(21,Z=re._a),"_b"in re&&t(22,se=re._b),"_c"in re&&t(23,ee=re._c),"_d"in re&&t(24,fe=re._d),"fleet"in re&&t(0,de=re.fleet),"showLine"in re&&t(8,we=re.showLine),"color"in re&&t(9,Pe=re.color),"lineColor"in re&&t(10,Ae=re.lineColor),"prediction"in re&&t(1,J=re.prediction),"selectionBorder"in re&&t(11,le=re.selectionBorder),"adjustedRenderScale"in re&&t(25,ge=re.adjustedRenderScale),"blockieScale"in re&&t(12,Re=re.blockieScale),"zoomIn"in re&&(Te=re.zoomIn),"renderScale"in re&&t(26,F=re.renderScale),"toPlanetInfo"in re&&t(27,b=re.toPlanetInfo),"lineDashed"in re&&t(13,O=re.lineDashed),"toPlayer"in re&&t(28,y=re.toPlayer),"fromPlayer"in re&&t(29,P=re.fromPlayer),"senderPlayer"in re&&t(30,A=re.senderPlayer),"fromPlanetInfo"in re&&t(31,p=re.fromPlanetInfo),"minDuration"in re&&t(14,T=re.minDuration),"toPlanetState"in re&&W(t(15,w=re.toPlanetState)),"fromPlanetState"in re&&Q(t(16,g=re.fromPlanetState)),"scale"in re&&t(17,m=re.scale),"ratio"in re&&t(32,o=re.ratio),"y1"in re&&t(2,s=re.y1),"y2"in re&&t(3,c=re.y2),"y"in re&&t(18,f=re.y),"x1"in re&&t(4,r=re.x1),"x2"in re&&t(5,a=re.x2),"x"in re&&t(19,u=re.x),"angle"in re&&t(6,l=re.angle),"distanceSquare"in re&&t(33,n=re.distanceSquare)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty[0]&1&&t(6,l=Math.atan2(de.to.location.globalY-de.from.location.globalY,de.to.location.globalX-de.from.location.globalX)),i.$$.dirty[0]&1&&t(32,o=Math.max(0,(de.duration-de.timeLeft)/de.duration)),i.$$.dirty[0]&1&&t(33,n=Math.pow(de.to.location.globalX-de.from.location.globalX,2)+Math.pow(de.to.location.globalY-de.from.location.globalY,2)),i.$$.dirty[0]&65|i.$$.dirty[1]&4&&t(4,r=de.from.location.globalX+(n>10?Math.cos(l)*1.4:0)),i.$$.dirty[0]&65|i.$$.dirty[1]&4&&t(2,s=de.from.location.globalY+(n>10?Math.sin(l)*1.4:0)),i.$$.dirty[0]&65|i.$$.dirty[1]&4&&t(5,a=de.to.location.globalX-(n>10?Math.cos(l)*1.4:0)),i.$$.dirty[0]&65|i.$$.dirty[1]&4&&t(3,c=de.to.location.globalY-(n>10?Math.sin(l)*1.4:0)),i.$$.dirty[0]&48|i.$$.dirty[1]&2&&t(19,u=r+(a-r)*o),i.$$.dirty[0]&12|i.$$.dirty[1]&2&&t(18,f=s+(c-s)*o),i.$$.dirty[0]&128&&t(17,m=N?N.renderScale:1),i.$$.dirty[0]&1&&(de.state==="SEND_BROADCASTED"?(t(9,Pe="orange"),t(8,we=!0)):de.state==="LOADING"?(t(9,Pe="#FFFFFF"),t(8,we=!0)):de.state==="TRAVELING"?(t(9,Pe="#00FF00"),t(8,we=!0)):de.state==="READY_TO_RESOLVE"||de.state==="TOO_LATE_TO_RESOLVE"?(t(9,Pe="#ff0000"),t(8,we=!0)):de.state==="RESOLVE_BROADCASTED"?(t(9,Pe="#0000ff"),t(8,we=!1)):de.state==="WAITING_ACKNOWLEDGMENT"&&(t(9,Pe="#00ff00"),t(8,we=!1))),i.$$.dirty[0]&1&&t(31,p=be.getPlanetInfo(de.from.location.x,de.from.location.y)),i.$$.dirty[1]&1&&Q(t(16,g=p&&vt.planetStateFor(p))),i.$$.dirty[0]&1&&t(27,b=be.getPlanetInfo(de.to.location.x,de.to.location.y)),i.$$.dirty[0]&134217728&&W(t(15,w=vt.planetStateFor(b))),i.$$.dirty[0]&2097152|i.$$.dirty[1]&80&&t(28,y=t(21,Z=z.data)===null||Z===void 0?void 0:Z.players[H==null?void 0:H.owner]),i.$$.dirty[0]&4194305|i.$$.dirty[1]&64&&t(29,P=t(22,se=z.data)===null||se===void 0?void 0:se.players[de.owner]),i.$$.dirty[0]&8388609|i.$$.dirty[1]&64&&t(30,A=t(23,ee=z.data)===null||ee===void 0?void 0:ee.players[de.fleetSender||de.owner]),i.$$.dirty[0]&134217728|i.$$.dirty[1]&1&&t(14,T=be.timeToArrive(p,b)),i.$$.dirty[0]&2013265923|i.$$.dirty[1]&49&&(H&&X?(t(1,J={arrivalTime:tt(de.timeLeft),numSpaceshipsAtArrival:be.numSpaceshipsAtArrival(b,H,de.timeLeft),outcome:be.outcome(p,b,H,de.quantity,de.timeLeft,A,P,y,de.gift,de.specific)}),t(10,Ae=J.outcome.gift?"#34D399":"red")):t(10,Ae="white")),i.$$.dirty[0]&16777217|i.$$.dirty[1]&8&&t(13,O=de.owner.toLowerCase()!==(t(24,fe=Y.address)===null||fe===void 0?void 0:fe.toLowerCase())),i.$$.dirty[0]&128&&t(26,F=N?N.renderScale:1),i.$$.dirty[0]&100663296&&(F<10?(t(25,ge=10/F),t(12,Re=.025*Ce*ge),Te=!1,t(11,le=4)):(t(11,le=4),Te=!0,t(12,Re=.025*Ce),t(25,ge=1)))},[de,J,s,c,r,a,l,N,we,Pe,Ae,le,Re,O,T,w,g,m,f,u,ie,Z,se,ee,fe,ge,F,b,y,P,A,p,o,n,Y,H,X,z]}class Gs extends We{constructor(e){super(e);Ye(this,e,Ah,wl,ze,{fleet:0},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"FleetElement",options:e,id:wl.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("fleet"in l)&&console.warn("<FleetElement> was created without expected prop 'fleet'")}get fleet(){throw new Error("<FleetElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fleet(e){throw new Error("<FleetElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ks="src/lib/screens/map/EventElement.svelte";function vl(i){let e,t,l,o,n;const r={c:function(){e=E("div"),t=E("div"),this.h()},l:function(a){e=$(a,"DIV",{id:!0,style:!0});var c=k(e);t=$(c,"DIV",{style:!0}),k(t).forEach(d),c.forEach(d),this.h()},h:function(){h(t,"style",l=`
width: ${48}px;
height: ${48}px;
border: ${i[1]}px solid ${i[3]};
animation-name: event-scale-up-flat;
animation-iteration-count: infinite;
animation-duration: 1s;
animation-timing-function: linear;
`),v(t,Ks,34,2,1123),h(e,"id",o=i[0].id),h(e,"style",n=`z-index: 52; pointer-events: none; position: absolute; transform: translate(${i[5]}px,${i[4]}px)  scale(${i[2]*3}, ${i[2]*3}); width: 48px; height: 48px;`),v(e,Ks,28,0,910)},m:function(a,c){S(a,e,c),_(e,t)},p:function(a,[c]){c&10&&l!==(l=`
width: ${48}px;
height: ${48}px;
border: ${a[1]}px solid ${a[3]};
animation-name: event-scale-up-flat;
animation-iteration-count: infinite;
animation-duration: 1s;
animation-timing-function: linear;
`)&&h(t,"style",l),c&1&&o!==(o=a[0].id)&&h(e,"id",o),c&52&&n!==(n=`z-index: 52; pointer-events: none; position: absolute; transform: translate(${a[5]}px,${a[4]}px)  scale(${a[2]*3}, ${a[2]*3}); width: 48px; height: 48px;`)&&h(e,"style",n)},i:ae,o:ae,d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:vl.name,type:"component",source:"",ctx:i}),r}function Ch(i,e,t){let l,o,n,r,s,a,c,u;ve(xe,"camera"),ke(i,xe,P=>t(11,u=P));let{$$slots:f={},$$scope:m}=e;He("EventElement",f,[]);let{event:p}=e,g=4,b,w=s;const y=["event"];return Object.keys(e).forEach(P=>{!~y.indexOf(P)&&P.slice(0,2)!=="$$"&&P!=="slot"&&console.warn(`<EventElement> was created with unknown prop '${P}'`)}),i.$$set=P=>{"event"in P&&t(0,p=P.event)},i.$capture_state=()=>({camera:xe,spaceInfo:be,event:p,selectionBorder:g,adjustedRenderScale:b,blockieScale:w,scale:s,renderScale:c,color:a,multiplier:r,planetInfo:l,y:n,x:o,$camera:u}),i.$inject_state=P=>{"event"in P&&t(0,p=P.event),"selectionBorder"in P&&t(1,g=P.selectionBorder),"adjustedRenderScale"in P&&t(6,b=P.adjustedRenderScale),"blockieScale"in P&&t(2,w=P.blockieScale),"scale"in P&&t(7,s=P.scale),"renderScale"in P&&t(8,c=P.renderScale),"color"in P&&t(3,a=P.color),"multiplier"in P&&t(9,r=P.multiplier),"planetInfo"in P&&t(10,l=P.planetInfo),"y"in P&&t(4,n=P.y),"x"in P&&t(5,o=P.x)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&t(10,l=be.getPlanetInfoViaId(p.event.planet.id)),i.$$.dirty&1024&&t(5,o=l.location.globalX-48/2),i.$$.dirty&1024&&t(4,n=l.location.globalY-48/2),i.$$.dirty&1024&&t(9,r=l.stats.production/3600),i.$$.dirty&512&&t(7,s=.025*r),i.$$.dirty&1&&t(3,a=p.effect==="neutral"?"blue":p.effect==="good"?" #10B981":"#FDE047"),i.$$.dirty&2048&&t(8,c=u?u.renderScale:1),i.$$.dirty&448&&(c<10?(t(6,b=10/c),t(2,w=s*b),t(1,g=4)):(t(1,g=4),t(2,w=s),t(6,b=1)))},[p,g,w,a,n,o,b,s,c,r,l,u]}class qs extends We{constructor(e){super(e);Ye(this,e,Ch,vl,ze,{event:0}),B("SvelteRegisterComponent",{component:this,tagName:"EventElement",options:e,id:vl.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("event"in l)&&console.warn("<EventElement> was created without expected prop 'event'")}get event(){throw new Error("<EventElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<EventElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Qs="src/lib/screens/map/ErrorElement.svelte";function kl(i){let e,t,l,o,n;const r={c:function(){e=E("div"),t=E("div"),this.h()},l:function(a){e=$(a,"DIV",{id:!0,style:!0});var c=k(e);t=$(c,"DIV",{style:!0}),k(t).forEach(d),c.forEach(d),this.h()},h:function(){h(t,"style",l=`
width: ${48}px;
height: ${48}px;
border: ${i[1]}px solid ${i[3]};
animation-name: event-scale-up-flat;
animation-iteration-count: infinite;
animation-duration: 1s;
animation-timing-function: linear;
`),v(t,Qs,34,2,1053),h(e,"id",o=i[0].txHash),h(e,"style",n=`z-index: 5; pointer-events: none; position: absolute; transform: translate(${i[5]}px,${i[4]}px)  scale(${i[2]*3}, ${i[2]*3}); width: 48px; height: 48px;`),v(e,Qs,28,0,837)},m:function(a,c){S(a,e,c),_(e,t)},p:function(a,[c]){c&10&&l!==(l=`
width: ${48}px;
height: ${48}px;
border: ${a[1]}px solid ${a[3]};
animation-name: event-scale-up-flat;
animation-iteration-count: infinite;
animation-duration: 1s;
animation-timing-function: linear;
`)&&h(t,"style",l),c&1&&o!==(o=a[0].txHash)&&h(e,"id",o),c&52&&n!==(n=`z-index: 5; pointer-events: none; position: absolute; transform: translate(${a[5]}px,${a[4]}px)  scale(${a[2]*3}, ${a[2]*3}); width: 48px; height: 48px;`)&&h(e,"style",n)},i:ae,o:ae,d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:kl.name,type:"component",source:"",ctx:i}),r}function Oh(i,e,t){let l,o,n,r,s,a,c,u;ve(xe,"camera"),ke(i,xe,P=>t(11,u=P));let{$$slots:f={},$$scope:m}=e;He("ErrorElement",f,[]);let{error:p}=e,g=4,b,w=s;const y=["error"];return Object.keys(e).forEach(P=>{!~y.indexOf(P)&&P.slice(0,2)!=="$$"&&P!=="slot"&&console.warn(`<ErrorElement> was created with unknown prop '${P}'`)}),i.$$set=P=>{"error"in P&&t(0,p=P.error)},i.$capture_state=()=>({camera:xe,spaceInfo:be,error:p,selectionBorder:g,adjustedRenderScale:b,blockieScale:w,scale:s,renderScale:c,color:a,multiplier:r,planetInfo:l,y:n,x:o,$camera:u}),i.$inject_state=P=>{"error"in P&&t(0,p=P.error),"selectionBorder"in P&&t(1,g=P.selectionBorder),"adjustedRenderScale"in P&&t(6,b=P.adjustedRenderScale),"blockieScale"in P&&t(2,w=P.blockieScale),"scale"in P&&t(7,s=P.scale),"renderScale"in P&&t(8,c=P.renderScale),"color"in P&&t(3,a=P.color),"multiplier"in P&&t(9,r=P.multiplier),"planetInfo"in P&&t(10,l=P.planetInfo),"y"in P&&t(4,n=P.y),"x"in P&&t(5,o=P.x)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&t(10,l=be.getPlanetInfo(p.location.x,p.location.y)),i.$$.dirty&1024&&t(5,o=l.location.globalX-48/2),i.$$.dirty&1024&&t(4,n=l.location.globalY-48/2),i.$$.dirty&1024&&t(9,r=l.stats.production/3600),i.$$.dirty&512&&t(7,s=.025*r),i.$$.dirty&2048&&t(8,c=u?u.renderScale:1),i.$$.dirty&448&&(c<10?(t(6,b=10/c),t(2,w=s*b),t(1,g=4)):(t(1,g=4),t(2,w=s),t(6,b=1)))},t(3,a="red"),[p,g,w,a,n,o,b,s,c,r,l,u]}class Js extends We{constructor(e){super(e);Ye(this,e,Oh,kl,ze,{error:0}),B("SvelteRegisterComponent",{component:this,tagName:"ErrorElement",options:e,id:kl.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("error"in l)&&console.warn("<ErrorElement> was created without expected prop 'error'")}get error(){throw new Error("<ErrorElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set error(e){throw new Error("<ErrorElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ao="src/lib/screens/map/VirtualFleetElement.svelte";function yl(i){let e,t,l,o,n;const r={c:function(){e=Fe("svg"),t=Fe("marker"),l=Fe("path"),o=Fe("line"),this.h()},l:function(a){e=Ne(a,"svg",{style:!0});var c=k(e);t=Ne(c,"marker",{xmlns:!0,id:!0,viewBox:!0,refX:!0,refY:!0,fill:!0,stroke:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var u=k(t);l=Ne(u,"path",{d:!0}),k(l).forEach(d),u.forEach(d),o=Ne(c,"line",{"marker-end":!0,style:!0,"stroke-width":!0,stroke:!0,x1:!0,y1:!0,x2:!0,y2:!0}),k(o).forEach(d),c.forEach(d),this.h()},h:function(){h(l,"d","M 0 0 L 10 5 L 0 10 z"),v(l,Ao,28,4,1144),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"id","triangle"),h(t,"viewBox","0 0 10 10"),h(t,"refX","10"),h(t,"refY","5"),h(t,"fill","#FFFFFF"),h(t,"stroke","#34D399"),h(t,"markerUnits","strokeWidth"),h(t,"markerWidth","4"),h(t,"markerHeight","3"),h(t,"orient","auto"),v(t,Ao,15,2,891),h(o,"marker-end","url(#triangle)"),Je(o,"z-index","1"),h(o,"stroke-width",n=`${4/i[0]}px`),h(o,"stroke",i[5]),h(o,"x1",i[4]),h(o,"y1",i[3]),h(o,"x2",i[2]),h(o,"y2",i[1]),v(o,Ao,30,2,1193),h(e,"style","position: absolute; z-index: 2; overflow: visible;"),v(e,Ao,14,0,822)},m:function(a,c){S(a,e,c),_(e,t),_(t,l),_(e,o)},p:function(a,[c]){c&1&&n!==(n=`${4/a[0]}px`)&&h(o,"stroke-width",n),c&16&&h(o,"x1",a[4]),c&8&&h(o,"y1",a[3]),c&4&&h(o,"x2",a[2]),c&2&&h(o,"y2",a[1])},i:ae,o:ae,d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:yl.name,type:"component",source:"",ctx:i}),r}function Dh(i,e,t){let l,o,n,r,s,a,c,u;ve(xe,"camera"),ke(i,xe,w=>t(9,u=w));let{$$slots:f={},$$scope:m}=e;He("VirtualFleetElement",f,[]);let{fleet:p}=e,g="white";const b=["fleet"];return Object.keys(e).forEach(w=>{!~b.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<VirtualFleetElement> was created with unknown prop '${w}'`)}),i.$$set=w=>{"fleet"in w&&t(6,p=w.fleet)},i.$capture_state=()=>({camera:xe,fleet:p,lineColor:g,scale:c,angle:l,distanceSquare:o,y2:a,x2:s,y1:r,x1:n,$camera:u}),i.$inject_state=w=>{"fleet"in w&&t(6,p=w.fleet),"lineColor"in w&&t(5,g=w.lineColor),"scale"in w&&t(0,c=w.scale),"angle"in w&&t(7,l=w.angle),"distanceSquare"in w&&t(8,o=w.distanceSquare),"y2"in w&&t(1,a=w.y2),"x2"in w&&t(2,s=w.x2),"y1"in w&&t(3,r=w.y1),"x1"in w&&t(4,n=w.x1)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&64&&t(7,l=Math.atan2(p.to.location.globalY-p.from.location.globalY,p.to.location.globalX-p.from.location.globalX)),i.$$.dirty&64&&t(8,o=Math.pow(p.to.location.globalX-p.from.location.globalX,2)+Math.pow(p.to.location.globalY-p.from.location.globalY,2)),i.$$.dirty&448&&t(4,n=p.from.location.globalX+(o>10?Math.cos(l)*1.4:0)),i.$$.dirty&448&&t(3,r=p.from.location.globalY+(o>10?Math.sin(l)*1.4:0)),i.$$.dirty&448&&t(2,s=p.to.location.globalX-(o>10?Math.cos(l)*1.4:0)),i.$$.dirty&448&&t(1,a=p.to.location.globalY-(o>10?Math.sin(l)*1.4:0)),i.$$.dirty&512&&t(0,c=u?u.renderScale:1)},[c,a,s,r,n,g,p,l,o,u]}class Sl extends We{constructor(e){super(e);Ye(this,e,Dh,yl,ze,{fleet:6}),B("SvelteRegisterComponent",{component:this,tagName:"VirtualFleetElement",options:e,id:yl.name});const{ctx:t}=this.$$,l=e.props||{};t[6]===void 0&&!("fleet"in l)&&console.warn("<VirtualFleetElement> was created without expected prop 'fleet'")}get fleet(){throw new Error("<VirtualFleetElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fleet(e){throw new Error("<VirtualFleetElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Co="src/lib/screens/map/VirtualFleetSimulationElement.svelte";function El(i){let e,t,l,o,n;const r={c:function(){e=Fe("svg"),t=Fe("marker"),l=Fe("path"),o=Fe("line"),this.h()},l:function(a){e=Ne(a,"svg",{style:!0});var c=k(e);t=Ne(c,"marker",{xmlns:!0,id:!0,viewBox:!0,refX:!0,refY:!0,fill:!0,stroke:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var u=k(t);l=Ne(u,"path",{d:!0}),k(l).forEach(d),u.forEach(d),o=Ne(c,"line",{"marker-end":!0,style:!0,"stroke-width":!0,stroke:!0,x1:!0,y1:!0,x2:!0,y2:!0}),k(o).forEach(d),c.forEach(d),this.h()},h:function(){h(l,"d","M 0 0 L 10 5 L 0 10 z"),v(l,Co,28,4,1144),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"id","triangle"),h(t,"viewBox","0 0 10 10"),h(t,"refX","10"),h(t,"refY","5"),h(t,"fill","#FFFFFF"),h(t,"stroke","#34D399"),h(t,"markerUnits","strokeWidth"),h(t,"markerWidth","4"),h(t,"markerHeight","3"),h(t,"orient","auto"),v(t,Co,15,2,891),h(o,"marker-end","url(#triangle)"),Je(o,"z-index","1"),h(o,"stroke-width",n=`${4/i[0]}px`),h(o,"stroke",i[5]),h(o,"x1",i[4]),h(o,"y1",i[3]),h(o,"x2",i[2]),h(o,"y2",i[1]),v(o,Co,30,2,1193),h(e,"style","position: absolute; z-index: 2; overflow: visible;"),v(e,Co,14,0,822)},m:function(a,c){S(a,e,c),_(e,t),_(t,l),_(e,o)},p:function(a,[c]){c&1&&n!==(n=`${4/a[0]}px`)&&h(o,"stroke-width",n),c&16&&h(o,"x1",a[4]),c&8&&h(o,"y1",a[3]),c&4&&h(o,"x2",a[2]),c&2&&h(o,"y2",a[1])},i:ae,o:ae,d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:El.name,type:"component",source:"",ctx:i}),r}function Fh(i,e,t){let l,o,n,r,s,a,c,u;ve(xe,"camera"),ke(i,xe,w=>t(9,u=w));let{$$slots:f={},$$scope:m}=e;He("VirtualFleetSimulationElement",f,[]);let{fleet:p}=e,g="white";const b=["fleet"];return Object.keys(e).forEach(w=>{!~b.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<VirtualFleetSimulationElement> was created with unknown prop '${w}'`)}),i.$$set=w=>{"fleet"in w&&t(6,p=w.fleet)},i.$capture_state=()=>({camera:xe,fleet:p,lineColor:g,scale:c,angle:l,distanceSquare:o,y2:a,x2:s,y1:r,x1:n,$camera:u}),i.$inject_state=w=>{"fleet"in w&&t(6,p=w.fleet),"lineColor"in w&&t(5,g=w.lineColor),"scale"in w&&t(0,c=w.scale),"angle"in w&&t(7,l=w.angle),"distanceSquare"in w&&t(8,o=w.distanceSquare),"y2"in w&&t(1,a=w.y2),"x2"in w&&t(2,s=w.x2),"y1"in w&&t(3,r=w.y1),"x1"in w&&t(4,n=w.x1)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&64&&t(7,l=Math.atan2(p.to.location.globalY-p.from.location.globalY,p.to.location.globalX-p.from.location.globalX)),i.$$.dirty&64&&t(8,o=Math.pow(p.to.location.globalX-p.from.location.globalX,2)+Math.pow(p.to.location.globalY-p.from.location.globalY,2)),i.$$.dirty&448&&t(4,n=p.from.location.globalX+(o>10?Math.cos(l)*1.4:0)),i.$$.dirty&448&&t(3,r=p.from.location.globalY+(o>10?Math.sin(l)*1.4:0)),i.$$.dirty&448&&t(2,s=p.to.location.globalX-(o>10?Math.cos(l)*1.4:0)),i.$$.dirty&448&&t(1,a=p.to.location.globalY-(o>10?Math.sin(l)*1.4:0)),i.$$.dirty&512&&t(0,c=u?u.renderScale:1)},[c,a,s,r,n,g,p,l,o,u]}class Zs extends We{constructor(e){super(e);Ye(this,e,Fh,El,ze,{fleet:6}),B("SvelteRegisterComponent",{component:this,tagName:"VirtualFleetSimulationElement",options:e,id:El.name});const{ctx:t}=this.$$,l=e.props||{};t[6]===void 0&&!("fleet"in l)&&console.warn("<VirtualFleetSimulationElement> was created without expected prop 'fleet'")}get fleet(){throw new Error("<VirtualFleetSimulationElement>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fleet(e){throw new Error("<VirtualFleetSimulationElement>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Mt="src/lib/screens/map/CSSRenderer.svelte";function xs(i,e,t){const l=i.slice();return l[29]=e[t],l}function ec(i,e,t){const l=i.slice();return l[32]=e[t],l}function Oo(i,e,t){const l=i.slice();return l[35]=e[t],l}function tc(i,e,t){const l=i.slice();return l[38]=e[t],l}function Do(i,e,t){const l=i.slice();return l[41]=e[t],l}function $l(i){let e,t;const l={c:function(){e=E("div"),this.h()},l:function(n){e=$(n,"DIV",{style:!0,class:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"style",t=`
    /*pointer-events: none;*/
    position: absolute;
    width:100%; height: 100%;

    background-image: repeating-linear-gradient(to right, ${i[8]} 0 0.8px, transparent 0 60px),
    repeating-linear-gradient(to bottom, ${i[8]} 0 0.8px, transparent 0 60px);

    transform: scale(${i[1]},${i[1]});
    background-size: 60px 60px;
    background-position: ${i[11]-30.4}px ${i[10]-30.8}px;
    `),h(e,"class","s-t1xXrCjot434"),v(e,Mt,100,2,4606)},m:function(n,r){S(n,e,r)},p:function(n,r){r[0]&3330&&t!==(t=`
    /*pointer-events: none;*/
    position: absolute;
    width:100%; height: 100%;

    background-image: repeating-linear-gradient(to right, ${n[8]} 0 0.8px, transparent 0 60px),
    repeating-linear-gradient(to bottom, ${n[8]} 0 0.8px, transparent 0 60px);

    transform: scale(${n[1]},${n[1]});
    background-size: 60px 60px;
    background-position: ${n[11]-30.4}px ${n[10]-30.8}px;
    `)&&h(e,"style",t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:$l.name,type:"if",source:"(95:0) {#if $overlays.sectors}",ctx:i}),l}function Pl(i){let e,t;const l={c:function(){e=E("div"),this.h()},l:function(n){e=$(n,"DIV",{style:!0,class:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"style",t=`
    /*pointer-events: none;*/
    position: absolute;
    width:100%; height: 100%;
    background-size: 4px 4px;
    background-image: radial-gradient(circle, #CCCCCC ${i[9]}px, rgba(0.8, 0.8, 0.8, 0) ${i[9]}px);
    background-position: ${i[2]?i[2].renderX:0}px ${i[2]?i[2].renderY:0}px;
    `),h(e,"class","s-t1xXrCjot434"),v(e,Mt,141,4,5743)},m:function(n,r){S(n,e,r)},p:function(n,r){r[0]&516&&t!==(t=`
    /*pointer-events: none;*/
    position: absolute;
    width:100%; height: 100%;
    background-size: 4px 4px;
    background-image: radial-gradient(circle, #CCCCCC ${n[9]}px, rgba(0.8, 0.8, 0.8, 0) ${n[9]}px);
    background-position: ${n[2]?n[2].renderX:0}px ${n[2]?n[2].renderY:0}px;
    `)&&h(e,"style",t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Pl.name,type:"if",source:"(140:2) {#if $camera && $camera.zoom >= 10}",ctx:i}),l}function Bl(i){let e=[],t=new Map,l,o,n=i[13];mt(n);const r=a=>a[41].location.id;So(i,n,Do,r);for(let a=0;a<n.length;a+=1){let c=Do(i,n,a),u=r(c);t.set(u,e[a]=Il(u,c))}const s={c:function(){for(let c=0;c<e.length;c+=1)e[c].c();l=pe()},l:function(c){for(let u=0;u<e.length;u+=1)e[u].l(c);l=pe()},m:function(c,u){for(let f=0;f<e.length;f+=1)e[f].m(c,u);S(c,l,u),o=!0},p:function(c,u){u[0]&8192&&(n=c[13],mt(n),Ee(),So(c,n,Do,r),e=Qr(e,u,r,1,c,n,t,l.parentNode,wh,Il,l,Do),$e())},i:function(c){if(!o){for(let u=0;u<n.length;u+=1)C(e[u]);o=!0}},o:function(c){for(let u=0;u<e.length;u+=1)D(e[u]);o=!1},d:function(c){for(let u=0;u<e.length;u+=1)e[u].d(c);c&&d(l)}};return B("SvelteRegisterBlock",{block:s,id:Bl.name,type:"if",source:"(203:4) {#if $spaceView}",ctx:i}),s}function Il(i,e){let t,l,o;l=new Ls({props:{planetInfo:e[41]},$$inline:!0});const n={key:i,first:null,c:function(){t=pe(),U(l.$$.fragment),this.h()},l:function(s){t=pe(),G(l.$$.fragment,s),this.h()},h:function(){this.first=t},m:function(s,a){S(s,t,a),K(l,s,a),o=!0},p:function(s,a){e=s;const c={};a[0]&8192&&(c.planetInfo=e[41]),l.$set(c)},i:function(s){o||(C(l.$$.fragment,s),o=!0)},o:function(s){D(l.$$.fragment,s),o=!1},d:function(s){s&&d(t),q(l,s)}};return B("SvelteRegisterBlock",{block:n,id:Il.name,type:"each",source:"(204:6) {#each $spaceView as planetInfo (planetInfo.location.id)}",ctx:e}),n}function Rl(i){let e,t,l=i[14].fleets&&Tl(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){r[14].fleets?l?(l.p(r,s),s[0]&16384&&C(l,1)):(l=Tl(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Rl.name,type:"if",source:"(209:4) {#if $overlays.fleets}",ctx:i}),o}function Tl(i){let e,t,l=i[14].fleets;mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=Cl(tc(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c[0]&16384){l=a[14].fleets,mt(l);let u;for(u=0;u<l.length;u+=1){const f=tc(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=Cl(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Tl.name,type:"if",source:"(210:6) {#if $fleetList.fleets}",ctx:i}),r}function Al(i){let e,t;e=new Gs({props:{fleet:i[38]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&16384&&(s.fleet=n[38]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Al.name,type:"if",source:"(212:10) {#if fleet.state !== 'WAITING_ACKNOWLEDGMENT'}",ctx:i}),l}function Cl(i){let e,t,l=i[38].state!=="WAITING_ACKNOWLEDGMENT"&&Al(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){r[38].state!=="WAITING_ACKNOWLEDGMENT"?l?(l.p(r,s),s[0]&16384&&C(l,1)):(l=Al(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Cl.name,type:"each",source:"(211:8) {#each $fleetList.fleets as fleet}",ctx:i}),o}function Ol(i){let e,t,l,o;const n=[lc,oc,nc],r=[];function s(c,u){return c[16].step==="PICK_ORIGIN"?0:c[16].step==="PICK_DESTINATION"?1:c[17].step==="PICK_DESTINATION"?2:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Ol.name,type:"if",source:"(219:4) {#if $selection && $sendFlow}",ctx:i}),a}function nc(i){let e,t;e=new Zs({props:{fleet:Qo(i[17].data,i[15])},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&163840&&(s.fleet=Qo(n[17].data,n[15])),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:nc.name,type:"if",source:"(224:58) ",ctx:i}),l}function oc(i){let e,t;e=new Sl({props:{fleet:qo(i[16].data,i[15])},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&98304&&(s.fleet=qo(n[16].data,n[15])),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:oc.name,type:"if",source:"(222:54) ",ctx:i}),l}function lc(i){let e,t;e=new Sl({props:{fleet:Ko(i[16].data,i[15])},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&98304&&(s.fleet=Ko(n[16].data,n[15])),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:lc.name,type:"if",source:"(220:6) {#if $sendFlow.step === 'PICK_ORIGIN'}",ctx:i}),l}function Dl(i){let e=[],t=new Map,l,o=i[0];mt(o);const n=s=>s[35].id;So(i,o,Oo,n);for(let s=0;s<o.length;s+=1){let a=Oo(i,o,s),c=n(a);t.set(c,e[s]=Fl(c,a))}const r={c:function(){for(let a=0;a<e.length;a+=1)e[a].c();l=pe()},l:function(a){for(let c=0;c<e.length;c+=1)e[c].l(a);l=pe()},m:function(a,c){for(let u=0;u<e.length;u+=1)e[u].m(a,c);S(a,l,c)},p:function(a,c){c[0]&3&&(o=a[0],mt(o),So(a,o,Oo,n),e=Qr(e,c,n,1,a,o,t,l.parentNode,vh,Fl,l,Oo))},d:function(a){for(let c=0;c<e.length;c+=1)e[c].d(a);a&&d(l)}};return B("SvelteRegisterBlock",{block:r,id:Dl.name,type:"if",source:"(229:4) {#if $overlays.sectors}",ctx:i}),r}function Fl(i,e){let t,l,o,n,r=e[35].id+"",s,a,c,u,f;const m={key:i,first:null,c:function(){t=E("div"),l=E("div"),o=E("p"),n=I("S("),s=I(r),a=I(")"),u=L(),this.h()},l:function(g){t=$(g,"DIV",{style:!0,class:!0});var b=k(t);l=$(b,"DIV",{style:!0,class:!0});var w=k(l);o=$(w,"P",{style:!0,class:!0});var y=k(o);n=R(y,"S("),s=R(y,r),a=R(y,")"),y.forEach(d),w.forEach(d),u=j(b),b.forEach(d),this.h()},h:function(){h(o,"style",c=`margin-left: ${5/e[1]}px; color: cyan; font-weight: 900; font-size: ${13/e[1]}px`),h(o,"class","s-t1xXrCjot434"),v(o,Mt,236,12,9321),Je(l,"font-family","Arial, Helvetica, sans-serif"),Je(l,"letter-spacing","0.4px"),h(l,"class","s-t1xXrCjot434"),v(l,Mt,235,10,9229),h(t,"style",f=`background-color: black; z-index: 50; position: absolute; transform: translate(${e[35].x-30}px,${e[35].y-30}px);`),h(t,"class","s-t1xXrCjot434"),v(t,Mt,230,8,9041),this.first=t},m:function(g,b){S(g,t,b),_(t,l),_(l,o),_(o,n),_(o,s),_(o,a),_(t,u)},p:function(g,b){e=g,b[0]&1&&r!==(r=e[35].id+"")&&he(s,r),b[0]&2&&c!==(c=`margin-left: ${5/e[1]}px; color: cyan; font-weight: 900; font-size: ${13/e[1]}px`)&&h(o,"style",c),b[0]&1&&f!==(f=`background-color: black; z-index: 50; position: absolute; transform: translate(${e[35].x-30}px,${e[35].y-30}px);`)&&h(t,"style",f)},d:function(g){g&&d(t)}};return B("SvelteRegisterBlock",{block:m,id:Fl.name,type:"each",source:"(230:6) {#each sectorsInView as sector (sector.id)}",ctx:e}),m}function Nl(i){let e,t,l=i[18];mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=jl(ec(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c[0]&262144){l=a[18],mt(l);let u;for(u=0;u<l.length;u+=1){const f=ec(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=jl(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Nl.name,type:"if",source:"(249:4) {#if $myevents}",ctx:i}),r}function Ll(i){let e,t;e=new qs({props:{event:i[32]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&262144&&(s.event=n[32]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ll.name,type:"if",source:"(251:8) {#if event.acknowledged === 'NO'}",ctx:i}),l}function jl(i){let e,t,l=i[32].acknowledged==="NO"&&Ll(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){r[32].acknowledged==="NO"?l?(l.p(r,s),s[0]&262144&&C(l,1)):(l=Ll(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:jl.name,type:"each",source:"(250:6) {#each $myevents as event}",ctx:i}),o}function Vl(i){let e,t,l=i[19];mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=Wl(xs(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c[0]&524288){l=a[19],mt(l);let u;for(u=0;u<l.length;u+=1){const f=xs(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=Wl(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Vl.name,type:"if",source:"(257:4) {#if $errors}",ctx:i}),r}function Ml(i){let e,t;e=new Js({props:{error:i[29]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&524288&&(s.error=n[29]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ml.name,type:"if",source:"(259:8) {#if !error.acknowledged && error.location}",ctx:i}),l}function Wl(i){let e,t,l=!i[29].acknowledged&&i[29].location&&Ml(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){!r[29].acknowledged&&r[29].location?l?(l.p(r,s),s[0]&524288&&C(l,1)):(l=Ml(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Wl.name,type:"each",source:"(258:6) {#each $errors as error}",ctx:i}),o}function Yl(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H;const M={c:function(){e=Fe("svg"),t=Fe("defs"),l=Fe("clipPath"),o=Fe("rect"),s=Fe("mask"),a=Fe("rect"),p=Fe("rect"),w=Fe("rect"),O=L(),F=Fe("svg"),N=Fe("rect"),this.h()},l:function(X){e=Ne(X,"svg",{style:!0,class:!0});var V=k(e);t=Ne(V,"defs",{class:!0});var Q=k(t);l=Ne(Q,"clipPath",{id:!0,class:!0});var z=k(l);o=Ne(z,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0}),k(o).forEach(d),z.forEach(d),s=Ne(Q,"mask",{id:!0,class:!0});var ie=k(s);a=Ne(ie,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),k(a).forEach(d),p=Ne(ie,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),k(p).forEach(d),ie.forEach(d),Q.forEach(d),w=Ne(V,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0,mask:!0,class:!0}),k(w).forEach(d),V.forEach(d),O=j(X),F=Ne(X,"svg",{style:!0,class:!0});var oe=k(F);N=Ne(oe,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-opacity":!0,fill:!0,"stroke-dasharray":!0,class:!0}),k(N).forEach(d),oe.forEach(d),this.h()},h:function(){h(o,"x",i[7]),h(o,"y",i[5]),h(o,"width",n=i[6]-i[7]),h(o,"height",r=i[4]-i[5]),h(o,"class","s-t1xXrCjot434"),v(o,Mt,281,12,10868),h(l,"id","space"),h(l,"class","s-t1xXrCjot434"),v(l,Mt,280,10,10834),h(a,"x",c=i[7]-1e6),h(a,"y",u=i[5]-1e6),h(a,"width",f=i[6]-i[7]+2e6),h(a,"height",m=i[4]-i[5]+2e6),h(a,"fill","white"),h(a,"class","s-t1xXrCjot434"),v(a,Mt,284,12,10987),h(p,"x",i[7]),h(p,"y",i[5]),h(p,"width",g=i[6]-i[7]),h(p,"height",b=i[4]-i[5]),h(p,"fill","black"),h(p,"class","s-t1xXrCjot434"),v(p,Mt,285,12,11108),h(s,"id","myMask"),h(s,"class","s-t1xXrCjot434"),v(s,Mt,283,10,10956),h(t,"class","s-t1xXrCjot434"),v(t,Mt,279,8,10817),h(w,"x",y=i[7]-1e6),h(w,"y",P=i[5]-1e6),h(w,"width",A=i[6]-i[7]+2e6),h(w,"height",T=i[4]-i[5]+2e6),h(w,"fill","black"),h(w,"fill-opacity","0.4"),h(w,"mask","url(#myMask)"),h(w,"class","s-t1xXrCjot434"),v(w,Mt,290,8,11373),h(e,"style","pointer-events: none; position: absolute; z-index: 50; overflow: visible;"),h(e,"class","s-t1xXrCjot434"),v(e,Mt,278,6,10719),h(N,"x",i[7]),h(N,"y",i[5]),h(N,"width",Y=i[6]-i[7]),h(N,"height",H=i[4]-i[5]),h(N,"stroke","white"),h(N,"stroke-opacity","0.5"),h(N,"fill","none"),h(N,"stroke-dasharray","2 10"),h(N,"class","s-t1xXrCjot434"),v(N,Mt,302,8,11717),h(F,"style","pointer-events: none; position: absolute; z-index: 50; overflow: visible;"),h(F,"class","s-t1xXrCjot434"),v(F,Mt,301,6,11619)},m:function(X,V){S(X,e,V),_(e,t),_(t,l),_(l,o),_(t,s),_(s,a),_(s,p),_(e,w),S(X,O,V),S(X,F,V),_(F,N)},p:function(X,V){V[0]&128&&h(o,"x",X[7]),V[0]&32&&h(o,"y",X[5]),V[0]&192&&n!==(n=X[6]-X[7])&&h(o,"width",n),V[0]&48&&r!==(r=X[4]-X[5])&&h(o,"height",r),V[0]&128&&c!==(c=X[7]-1e6)&&h(a,"x",c),V[0]&32&&u!==(u=X[5]-1e6)&&h(a,"y",u),V[0]&192&&f!==(f=X[6]-X[7]+2e6)&&h(a,"width",f),V[0]&48&&m!==(m=X[4]-X[5]+2e6)&&h(a,"height",m),V[0]&128&&h(p,"x",X[7]),V[0]&32&&h(p,"y",X[5]),V[0]&192&&g!==(g=X[6]-X[7])&&h(p,"width",g),V[0]&48&&b!==(b=X[4]-X[5])&&h(p,"height",b),V[0]&128&&y!==(y=X[7]-1e6)&&h(w,"x",y),V[0]&32&&P!==(P=X[5]-1e6)&&h(w,"y",P),V[0]&192&&A!==(A=X[6]-X[7]+2e6)&&h(w,"width",A),V[0]&48&&T!==(T=X[4]-X[5]+2e6)&&h(w,"height",T),V[0]&128&&h(N,"x",X[7]),V[0]&32&&h(N,"y",X[5]),V[0]&192&&Y!==(Y=X[6]-X[7])&&h(N,"width",Y),V[0]&48&&H!==(H=X[4]-X[5])&&h(N,"height",H)},d:function(X){X&&d(e),X&&d(O),X&&d(F)}};return B("SvelteRegisterBlock",{block:M,id:Yl.name,type:"if",source:"(278:4) {#if $spaceQueryWithPendingActions.queryState.data?.space}",ctx:i}),M}function zl(i){var W;let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y=i[12].sectors&&$l(i),P=i[2]&&i[2].zoom>=10&&Pl(i),A=i[13]&&Bl(i),T=i[12].fleets&&Rl(i),O=i[15]&&i[16]&&Ol(i),F=i[12].sectors&&Dl(i),N=i[18]&&Nl(i),Y=i[19]&&Vl(i),H=((W=i[3].queryState.data)==null?void 0:W.space)&&Yl(i);const M={c:function(){y&&y.c(),e=L(),t=E("div"),P&&P.c(),l=L(),o=E("div"),A&&A.c(),n=L(),T&&T.c(),r=L(),O&&O.c(),s=L(),F&&F.c(),a=L(),N&&N.c(),c=L(),Y&&Y.c(),u=L(),H&&H.c(),m=L(),p=E("div"),this.h()},l:function(V){y&&y.l(V),e=j(V),t=$(V,"DIV",{style:!0,class:!0});var Q=k(t);P&&P.l(Q),l=j(Q),o=$(Q,"DIV",{style:!0,class:!0});var z=k(o);A&&A.l(z),n=j(z),T&&T.l(z),r=j(z),O&&O.l(z),s=j(z),F&&F.l(z),a=j(z),N&&N.l(z),c=j(z),Y&&Y.l(z),u=j(z),H&&H.l(z),z.forEach(d),m=j(Q),p=$(Q,"DIV",{style:!0,class:!0}),k(p).forEach(d),Q.forEach(d),this.h()},h:function(){h(o,"style",f=`
    /*pointer-events: none;*/
    position: absolute;
    transform:
    translate(${i[2]?i[2].renderX:1}px,${i[2]?i[2].renderY:1}px);
    width:100%; height: 100%;
    `),h(o,"class","s-t1xXrCjot434"),v(o,Mt,193,2,7852),h(p,"style",g=`
    pointer-events: none;
  position: absolute;
  width:150%; height: 150%;
  top: -25%;
  left: -25%;
  opacity: ${i[2]?Math.max(.2,Math.min(.4,1-i[2].renderScale/10)):0};
  background-image: url(${Jt}${pl});
  background-position: ${(i[2]?i[2].renderX*1.5:0)-2}px ${(i[2]?i[2].renderY*1.5:0)-2}px;
  `),h(p,"class","s-t1xXrCjot434"),v(p,Mt,328,2,12629),h(t,"style",b=`
  /* pointer-events: none; */
position: absolute;
transform: scale(${i[1]},${i[1]});
width:100%; height: 100%;
`),h(t,"class","s-t1xXrCjot434"),v(t,Mt,131,0,5524)},m:function(V,Q){y&&y.m(V,Q),S(V,e,Q),S(V,t,Q),P&&P.m(t,null),_(t,l),_(t,o),A&&A.m(o,null),_(o,n),T&&T.m(o,null),_(o,r),O&&O.m(o,null),_(o,s),F&&F.m(o,null),_(o,a),N&&N.m(o,null),_(o,c),Y&&Y.m(o,null),_(o,u),H&&H.m(o,null),_(t,m),_(t,p),w=!0},p:function(V,Q){var z;V[12].sectors?y?y.p(V,Q):(y=$l(V),y.c(),y.m(e.parentNode,e)):y&&(y.d(1),y=null),V[2]&&V[2].zoom>=10?P?P.p(V,Q):(P=Pl(V),P.c(),P.m(t,l)):P&&(P.d(1),P=null),V[13]?A?(A.p(V,Q),Q[0]&8192&&C(A,1)):(A=Bl(V),A.c(),C(A,1),A.m(o,n)):A&&(Ee(),D(A,1,1,()=>{A=null}),$e()),V[12].fleets?T?(T.p(V,Q),Q[0]&4096&&C(T,1)):(T=Rl(V),T.c(),C(T,1),T.m(o,r)):T&&(Ee(),D(T,1,1,()=>{T=null}),$e()),V[15]&&V[16]?O?(O.p(V,Q),Q[0]&98304&&C(O,1)):(O=Ol(V),O.c(),C(O,1),O.m(o,s)):O&&(Ee(),D(O,1,1,()=>{O=null}),$e()),V[12].sectors?F?F.p(V,Q):(F=Dl(V),F.c(),F.m(o,a)):F&&(F.d(1),F=null),V[18]?N?(N.p(V,Q),Q[0]&262144&&C(N,1)):(N=Nl(V),N.c(),C(N,1),N.m(o,c)):N&&(Ee(),D(N,1,1,()=>{N=null}),$e()),V[19]?Y?(Y.p(V,Q),Q[0]&524288&&C(Y,1)):(Y=Vl(V),Y.c(),C(Y,1),Y.m(o,u)):Y&&(Ee(),D(Y,1,1,()=>{Y=null}),$e()),((z=V[3].queryState.data)==null?void 0:z.space)?H?H.p(V,Q):(H=Yl(V),H.c(),H.m(o,null)):H&&(H.d(1),H=null),(!w||Q[0]&4&&f!==(f=`
    /*pointer-events: none;*/
    position: absolute;
    transform:
    translate(${V[2]?V[2].renderX:1}px,${V[2]?V[2].renderY:1}px);
    width:100%; height: 100%;
    `))&&h(o,"style",f),(!w||Q[0]&4&&g!==(g=`
    pointer-events: none;
  position: absolute;
  width:150%; height: 150%;
  top: -25%;
  left: -25%;
  opacity: ${V[2]?Math.max(.2,Math.min(.4,1-V[2].renderScale/10)):0};
  background-image: url(${Jt}${pl});
  background-position: ${(V[2]?V[2].renderX*1.5:0)-2}px ${(V[2]?V[2].renderY*1.5:0)-2}px;
  `))&&h(p,"style",g),(!w||Q[0]&2&&b!==(b=`
  /* pointer-events: none; */
position: absolute;
transform: scale(${V[1]},${V[1]});
width:100%; height: 100%;
`))&&h(t,"style",b)},i:function(V){w||(C(A),C(T),C(O),C(N),C(Y),w=!0)},o:function(V){D(A),D(T),D(O),D(N),D(Y),w=!1},d:function(V){y&&y.d(V),V&&d(e),V&&d(t),P&&P.d(),A&&A.d(),T&&T.d(),O&&O.d(),F&&F.d(),N&&N.d(),Y&&Y.d(),H&&H.d()}};return B("SvelteRegisterBlock",{block:M,id:zl.name,type:"component",source:"",ctx:i}),M}function Nh(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F;ve(xe,"camera"),ke(i,xe,Z=>t(2,p=Z)),ve(Jn,"spaceQueryWithPendingActions"),ke(i,Jn,Z=>t(3,g=Z)),ve(rn,"overlays"),ke(i,rn,Z=>t(12,b=Z)),ve(Uo,"spaceView"),ke(i,Uo,Z=>t(13,w=Z)),ve(Yt,"fleetList"),ke(i,Yt,Z=>t(14,y=Z)),ve(pt,"selection"),ke(i,pt,Z=>t(15,P=Z)),ve(Xe,"sendFlow"),ke(i,Xe,Z=>t(16,A=Z)),ve(Ot,"simulateFlow"),ke(i,Ot,Z=>t(17,T=Z)),ve(vn,"myevents"),ke(i,vn,Z=>t(18,O=Z)),ve(kn,"errors"),ke(i,kn,Z=>t(19,F=Z));let{$$slots:N={},$$scope:Y}=e;He("CSSRenderer",N,[]);var H,M,W,X,V,Q,z,ie;let oe=[];const ce=[];return Object.keys(e).forEach(Z=>{!~ce.indexOf(Z)&&Z.slice(0,2)!=="$$"&&Z!=="slot"&&console.warn(`<CSSRenderer> was created with unknown prop '${Z}'`)}),i.$capture_state=()=>({_a:H,_b:M,_c:W,_d:X,_e:V,_f:Q,_g:z,_h:ie,spaceView:Uo,PlanetElement:Ls,camera:xe,spaceBackground:pl,base:Jt,fleetList:Yt,FleetElement:Gs,spaceQueryWithPendingActions:Jn,myevents:vn,EventElement:qs,errors:kn,ErrorElement:Js,overlays:rn,sendFlow:Xe,virtualFleetFrom:Ko,virtualFleetTo:qo,selection:pt,VirtualFleetElement:Sl,simulateFlow:Ot,virtualFleetSimulationTo:Qo,VirtualFleetSimulationElement:Zs,sectorsInView:oe,y2:m,y1:f,x2:u,x1:c,renderScale:l,sectorGridColor:a,remGridTickness:s,gridTickness:r,renderY:n,renderX:o,$camera:p,$spaceQueryWithPendingActions:g,$overlays:b,$spaceView:w,$fleetList:y,$selection:P,$sendFlow:A,$simulateFlow:T,$myevents:O,$errors:F}),i.$inject_state=Z=>{"_a"in Z&&t(20,H=Z._a),"_b"in Z&&t(21,M=Z._b),"_c"in Z&&t(22,W=Z._c),"_d"in Z&&t(23,X=Z._d),"_e"in Z&&t(24,V=Z._e),"_f"in Z&&t(25,Q=Z._f),"_g"in Z&&t(26,z=Z._g),"_h"in Z&&t(27,ie=Z._h),"sectorsInView"in Z&&t(0,oe=Z.sectorsInView),"y2"in Z&&t(4,m=Z.y2),"y1"in Z&&t(5,f=Z.y1),"x2"in Z&&t(6,u=Z.x2),"x1"in Z&&t(7,c=Z.x1),"renderScale"in Z&&t(1,l=Z.renderScale),"sectorGridColor"in Z&&t(8,a=Z.sectorGridColor),"remGridTickness"in Z&&(s=Z.remGridTickness),"gridTickness"in Z&&t(9,r=Z.gridTickness),"renderY"in Z&&t(10,n=Z.renderY),"renderX"in Z&&t(11,o=Z.renderX)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty[0]&4&&t(1,l=p?p.renderScale:1),i.$$.dirty[0]&4&&t(11,o=(p==null?void 0:p.renderX)||0),i.$$.dirty[0]&4&&t(10,n=(p==null?void 0:p.renderY)||0),i.$$.dirty[0]&2&&t(9,r=Math.min(.4,1/l)),i.$$.dirty[0]&2&&(s=Math.min(.04,1/l)),i.$$.dirty[0]&2&&t(8,a=`rgb(0,255,255,${Math.min(2/l,.4)})`),i.$$.dirty[0]&3145736&&t(7,c=((t(21,M=t(20,H=g.queryState.data)===null||H===void 0?void 0:H.space)===null||M===void 0?void 0:M.x1)||0)*4-2),i.$$.dirty[0]&12582920&&t(6,u=((t(23,X=t(22,W=g.queryState.data)===null||W===void 0?void 0:W.space)===null||X===void 0?void 0:X.x2)||0)*4+2),i.$$.dirty[0]&50331656&&t(5,f=((t(25,Q=t(24,V=g.queryState.data)===null||V===void 0?void 0:V.space)===null||Q===void 0?void 0:Q.y1)||0)*4-2),i.$$.dirty[0]&201326600&&t(4,m=((t(27,ie=t(26,z=g.queryState.data)===null||z===void 0?void 0:z.space)===null||ie===void 0?void 0:ie.y2)||0)*4+2),i.$$.dirty[0]&5&&(t(0,oe=[]),p)){const Z=p.x-p.width/2,se=p.x+p.width/2,ee=p.y-p.height/2,fe=p.y+p.height/2;for(let de=Z;de<se+60;de+=60)for(let we=ee;we<fe+60;we+=60){const Pe=Math.floor((de+30)/60)*60,Ae=Math.floor((we+30)/60)*60;oe.push({x:Pe,y:Ae,id:`${Pe/60},${Ae/60}`})}}},[oe,l,p,g,m,f,u,c,a,r,n,o,b,w,y,P,A,T,O,F,H,M,W,X,V,Q,z,ie]}class ic extends We{constructor(e){super(e);Ye(this,e,Nh,zl,ze,{},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"CSSRenderer",options:e,id:zl.name})}}const{console:Lh}=jo,jh="src/lib/screens/map/Map.svelte";function Hl(i){let e,t,l;t=new ic({$$inline:!0});const o={c:function(){e=E("div"),U(t.$$.fragment),this.h()},l:function(r){e=$(r,"DIV",{id:!0,unselectable:!0,onselectstart:!0,class:!0});var s=k(e);G(t.$$.fragment,s),s.forEach(d),this.h()},h:function(){h(e,"id","surface"),h(e,"unselectable",!0),h(e,"onselectstart",Vh),h(e,"class","s-3w7KcvN5mZlc"),v(e,jh,89,0,4016)},m:function(r,s){S(r,e,s),K(t,e,null),i[1](e),l=!0},p:ae,i:function(r){l||(C(t.$$.fragment,r),l=!0)},o:function(r){D(t.$$.fragment,r),l=!1},d:function(r){r&&d(e),q(t),i[1](null)}};return B("SvelteRegisterBlock",{block:o,id:Hl.name,type:"component",source:"",ctx:i}),o}const Vh=()=>!1;function Mh(i,e,t){let l;ve(xe,"camera"),ke(i,xe,p=>t(4,l=p));let{$$slots:o={},$$scope:n}=e;He("Map",o,[]);let r,s,a;function c(){s.update(),a=window.requestAnimationFrame(c)}function u(p,g){const b=Math.floor((Math.round(p)+2)/4),w=Math.floor((Math.round(g)+2)/4);for(let y=0;y<9;y++){const P=y%3,A=Math.floor(y/3),T=be.getPlanetInfo(b+(P==2?-1:P),w+(A==2?-1:A));if(T){const F=T.stats.production/3600;if(Math.sqrt(Math.pow(T.location.globalX-p,2)+Math.pow(T.location.globalY-g,2))<=(xe.zoom<3?6/xe.zoom:2)*F){pt.select(T.location.x,T.location.y);return}}const O=Yt.state.fleets;for(const F of O){const N=Math.atan2(F.to.location.globalY-F.from.location.globalY,F.to.location.globalX-F.from.location.globalX),Y=Math.max(0,(F.duration-F.timeLeft)/F.duration),H=Math.pow(F.to.location.globalX-F.from.location.globalX,2)+Math.pow(F.to.location.globalY-F.from.location.globalY,2),M=F.from.location.globalX+(H>10?Math.cos(N)*1.4:0),W=F.from.location.globalY+(H>10?Math.sin(N)*1.4:0),X=F.to.location.globalX-(H>10?Math.cos(N)*1.4:0),V=F.to.location.globalY-(H>10?Math.sin(N)*1.4:0),Q=l?l.renderScale:1,z=Math.cos(N+Math.PI)*(3/xe.zoom),ie=Math.sin(N+Math.PI)*(3/xe.zoom),oe=M+(X-M)*Y+z,ce=W+(V-W)*Y+ie;if(Math.sqrt(Math.pow(oe-p,2)+Math.pow(ce-g,2))<=20/xe.zoom){console.log({x:p,y:g,fx:oe,fy:ce,scale:Q}),console.log(F),qn.select(F);return}}}pt.unselect(),qn.unselect()}qt(()=>{s=new $s(r),xe.start(r,s),a=window.requestAnimationFrame(c),hs.start(),xe.onClick=u}),Eo(()=>{xe&&(xe.onClick=void 0),xe.stop(),a&&window.cancelAnimationFrame(a)});const f=[];Object.keys(e).forEach(p=>{!~f.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&Lh.warn(`<Map> was created with unknown prop '${p}'`)});function m(p){zn[p?"unshift":"push"](()=>{r=p,t(0,r)})}return i.$capture_state=()=>({onDestroy:Eo,onMount:qt,camera:xe,ElementRenderView:$s,CSSRenderer:ic,planetStates:hs,selection:pt,spaceInfo:be,fleetList:Yt,fleetselection:qn,surface:r,renderView:s,cancelRenderViewUpdate:a,update:c,onClick:u,$camera:l}),i.$inject_state=p=>{"surface"in p&&t(0,r=p.surface),"renderView"in p&&(s=p.renderView),"cancelRenderViewUpdate"in p&&(a=p.cancelRenderViewUpdate)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[r,m]}class rc extends We{constructor(e){super(e);Ye(this,e,Mh,Hl,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"Map",options:e,id:Hl.name})}}const Nn="src/lib/components/screen/Banner.svelte";function Xl(i){let e,t,l,o,n;const r={c:function(){e=E("button"),t=Fe("svg"),l=Fe("path"),this.h()},l:function(a){e=$(a,"BUTTON",{type:!0,class:!0,"aria-label":!0});var c=k(e);t=Ne(c,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var u=k(t);l=Ne(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(l).forEach(d),u.forEach(d),c.forEach(d),this.h()},h:function(){h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","2"),h(l,"d","M6 18L18 6M6 6l12 12"),v(l,Nn,29,12,1075),h(t,"class","h-6 w-6 text-white"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"fill","none"),h(t,"viewBox","0 0 24 24"),h(t,"stroke","currentColor"),v(t,Nn,22,10,870),h(e,"type","button"),h(e,"class","flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:bg-indigo-500 transition ease-in-out duration-150"),h(e,"aria-label","Dismiss"),v(e,Nn,15,8,573)},m:function(a,c){S(a,e,c),_(e,t),_(t,l),o||(n=Ze(e,"click",i[4],!1,!1,!1),o=!0)},p:ae,d:function(a){a&&d(e),o=!1,n()}};return B("SvelteRegisterBlock",{block:r,id:Xl.name,type:"if",source:"(15:6) {#if !disableClose}",ctx:i}),r}function Ul(i){let e,t,l,o,n,r;const s=i[3].default,a=Hn(s,i,i[2],null);let c=!i[0]&&Xl(i);const u={c:function(){e=E("div"),t=E("div"),l=E("div"),a&&a.c(),o=L(),n=E("div"),c&&c.c(),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"DIV",{class:!0});var g=k(t);l=$(g,"DIV",{class:!0});var b=k(l);a&&a.l(b),b.forEach(d),o=j(g),n=$(g,"DIV",{class:!0});var w=k(n);c&&c.l(w),w.forEach(d),g.forEach(d),p.forEach(d),this.h()},h:function(){h(l,"class","pr-16 sm:text-center sm:px-16 text-cyan-300"),v(l,Nn,10,4,352),h(n,"class","absolute inset-y-0 right-0 pt-1 pr-1 flex items-start sm:pt-1 sm:pr-2 sm:items-start"),v(n,Nn,13,4,440),h(t,"class","max-w-screen-xl mx-auto py-3 px-3 sm:px-6 lg:px-8"),v(t,Nn,9,2,284),h(e,"class","relative bg-gray-900 border-2 border-cyan-300 top-1 mx-1 z-20"),v(e,Nn,8,0,206)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),a&&a.m(l,null),_(t,o),_(t,n),c&&c.m(n,null),r=!0},p:function(m,[p]){a&&a.p&&(!r||p&4)&&Xn(a,s,m,m[2],r?Gn(s,m[2],p,null):Un(m[2]),null),m[0]?c&&(c.d(1),c=null):c?c.p(m,p):(c=Xl(m),c.c(),c.m(n,null))},i:function(m){r||(C(a,m),r=!0)},o:function(m){D(a,m),r=!1},d:function(m){m&&d(e),a&&a.d(m),c&&c.d()}};return B("SvelteRegisterBlock",{block:u,id:Ul.name,type:"component",source:"",ctx:i}),u}function Wh(i,e,t){let{$$slots:l={},$$scope:o}=e;He("Banner",l,["default"]);const n=$o();let{disableClose:r=!1}=e;qt(()=>{n("mounted")});const s=["disableClose"];Object.keys(e).forEach(c=>{!~s.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Banner> was created with unknown prop '${c}'`)});const a=()=>n("close");return i.$$set=c=>{"disableClose"in c&&t(0,r=c.disableClose),"$$scope"in c&&t(2,o=c.$$scope)},i.$capture_state=()=>({createEventDispatcher:$o,onMount:qt,dispatch:n,disableClose:r}),i.$inject_state=c=>{"disableClose"in c&&t(0,r=c.disableClose)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[r,n,o,l,a]}class mo extends We{constructor(e){super(e);Ye(this,e,Wh,Ul,ze,{disableClose:0}),B("SvelteRegisterComponent",{component:this,tagName:"Banner",options:e,id:Ul.name})}get disableClose(){throw new Error("<Banner>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disableClose(e){throw new Error("<Banner>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Rt="src/lib/components/planets/PlanetFleetActionPanel.svelte";function sc(i,e,t){const l=i.slice();return l[45]=e[t],l}function cc(i){let e;const t={c:function(){e=I("Loading...")},l:function(o){e=R(o,"Loading...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:cc.name,type:"else",source:"(335:0) {:else}",ctx:i}),t}function ac(i){let e,t,l,o;const n=[fc,uc],r=[];function s(c,u){return c[3].address?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:ac.name,type:"if",source:"(86:0) {#if $planetState}",ctx:i}),a}function uc(i){let e,t;e=new ye({props:{label:"Connect your wallet",class:"m-2",$$slots:{default:[dc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[19]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:uc.name,type:"else",source:"(330:2) {:else}",ctx:i}),l}function fc(i){let e,t,l,o;const n=[pc,mc],r=[];function s(c,u){return c[7].step!=="READY"?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:fc.name,type:"if",source:"(87:2) {#if $wallet.address}",ctx:i}),a}function dc(i){let e,t;const l={c:function(){e=E("div"),t=I("Connect Wallet"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Connect Wallet"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,331,6,12978)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:dc.name,type:"slot",source:'(331:4) <PanelButton label=\\"Connect your wallet\\" class=\\"m-2\\" on:click={connect}>',ctx:i}),l}function mc(i){let e,t,l,o,n,r,s,a,c=(i[4].step!=="PICK_DESTINATION"&&i[4].step!=="PICK_ORIGIN"||!i[1])&&Gl(i);const u=[Sc,yc,kc,vc,wc,bc,gc],f=[];function m(g,b){return(!g[2].owner||g[2].owner==="0x0000000000000000000000000000000000000000")&&g[2].capturing?0:g[4].step==="PICK_DESTINATION"?1:g[4].step==="PICK_ORIGIN"?2:g[8].step==="PICK_DESTINATION"?3:g[2].owner?g[1]?5:6:4}t=m(i),l=f[t]=u[t](i),n=new ye({props:{label:"Simulate",color:"text-gray-200",borderColor:"border-gray-200",class:"m-2",$$slots:{default:[ta]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[12]),s=new ye({props:{label:"Departures",color:"text-gray-200",borderColor:"border-gray-200",class:"m-2",$$slots:{default:[na]},$$scope:{ctx:i}},$$inline:!0}),s.$on("click",i[18]);const p={c:function(){c&&c.c(),e=L(),l.c(),o=L(),U(n.$$.fragment),r=L(),U(s.$$.fragment)},l:function(b){c&&c.l(b),e=j(b),l.l(b),o=j(b),G(n.$$.fragment,b),r=j(b),G(s.$$.fragment,b)},m:function(b,w){c&&c.m(b,w),S(b,e,w),f[t].m(b,w),S(b,o,w),K(n,b,w),S(b,r,w),K(s,b,w),a=!0},p:function(b,w){b[4].step!=="PICK_DESTINATION"&&b[4].step!=="PICK_ORIGIN"||!b[1]?c?(c.p(b,w),w[0]&18&&C(c,1)):(c=Gl(b),c.c(),C(c,1),c.m(e.parentNode,e)):c&&(Ee(),D(c,1,1,()=>{c=null}),$e());let y=t;t=m(b),t===y?f[t].p(b,w):(Ee(),D(f[y],1,1,()=>{f[y]=null}),$e(),l=f[t],l?l.p(b,w):(l=f[t]=u[t](b),l.c()),C(l,1),l.m(o.parentNode,o));const P={};w[1]&131072&&(P.$$scope={dirty:w,ctx:b}),n.$set(P);const A={};w[1]&131072&&(A.$$scope={dirty:w,ctx:b}),s.$set(A)},i:function(b){a||(C(c),C(l),C(n.$$.fragment,b),C(s.$$.fragment,b),a=!0)},o:function(b){D(c),D(l),D(n.$$.fragment,b),D(s.$$.fragment,b),a=!1},d:function(b){c&&c.d(b),b&&d(e),f[t].d(b),b&&d(o),q(n,b),b&&d(r),q(s,b)}};return B("SvelteRegisterBlock",{block:p,id:mc.name,type:"else",source:"(92:4) {:else}",ctx:i}),p}function pc(i){let e,t;e=new ye({props:{label:"Sign-in",class:"m-2",$$slots:{default:[oa]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[19]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:pc.name,type:"if",source:"(88:4) {#if $privateWallet.step !== 'READY'}",ctx:i}),l}function Gl(i){let e,t,l=i[5];mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=Kl(sc(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c[0]&1048608){l=a[5],mt(l);let u;for(u=0;u<l.length;u+=1){const f=sc(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=Kl(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Gl.name,type:"if",source:"(94:6) {#if ($sendFlow.step !== 'PICK_DESTINATION' && $sendFlow.step !== 'PICK_ORIGIN') || !walletIsOwner}",ctx:i}),r}function hc(i){let e;const t={c:function(){e=I("TODO plugin help ?")},l:function(o){e=R(o,"TODO plugin help ?")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:hc.name,type:"slot",source:'(105:14) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function _c(i){let e,t=i[45].title+"",l,o,n,r,s;n=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[hc]},$$scope:{ctx:i}},$$inline:!0});const a={c:function(){e=E("div"),l=I(t),o=L(),U(n.$$.fragment),r=L(),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);l=R(f,t),o=j(f),G(n.$$.fragment,f),f.forEach(d),r=j(u),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,102,12,4444)},m:function(u,f){S(u,e,f),_(e,l),_(e,o),K(n,e,null),S(u,r,f),s=!0},p:function(u,f){(!s||f[0]&32)&&t!==(t=u[45].title+"")&&he(l,t);const m={};f[1]&131072&&(m.$$scope={dirty:f,ctx:u}),n.$set(m)},i:function(u){s||(C(n.$$.fragment,u),s=!0)},o:function(u){D(n.$$.fragment,u),s=!1},d:function(u){u&&d(e),q(n),u&&d(r)}};return B("SvelteRegisterBlock",{block:a,id:_c.name,type:"slot",source:'(96:10) <PanelButton             label={button.title}             class=\\"m-2\\"             color=\\"text-blue-600\\"             borderColor=\\"border-blue-600\\"             on:click={() => showPlugin(button.src)}           >',ctx:i}),a}function Kl(i){let e,t;function l(){return i[38](i[45])}e=new ye({props:{label:i[45].title,class:"m-2",color:"text-blue-600",borderColor:"border-blue-600",$$slots:{default:[_c]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",l);const o={c:function(){U(e.$$.fragment)},l:function(r){G(e.$$.fragment,r)},m:function(r,s){K(e,r,s),t=!0},p:function(r,s){i=r;const a={};s[0]&32&&(a.label=i[45].title),s[0]&32|s[1]&131072&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i:function(r){t||(C(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){q(e,r)}};return B("SvelteRegisterBlock",{block:o,id:Kl.name,type:"each",source:"(95:8) {#each extraButtons as button}",ctx:i}),o}function gc(i){let e,t,l,o,n;const r=[$c,Ec],s=[];function a(u,f){return u[2].active?0:1}e=a(i),t=s[e]=r[e](i),o=new ye({props:{label:"Message",color:"text-blue-400",borderColor:"border-blue-400",class:"m-2",$$slots:{default:[Tc]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[17]);const c={c:function(){t.c(),l=L(),U(o.$$.fragment)},l:function(f){t.l(f),l=j(f),G(o.$$.fragment,f)},m:function(f,m){s[e].m(f,m),S(f,l,m),K(o,f,m),n=!0},p:function(f,m){let p=e;e=a(f),e===p?s[e].p(f,m):(Ee(),D(s[p],1,1,()=>{s[p]=null}),$e(),t=s[e],t?t.p(f,m):(t=s[e]=r[e](f),t.c()),C(t,1),t.m(l.parentNode,l));const g={};m[1]&131072&&(g.$$scope={dirty:m,ctx:f}),o.$set(g)},i:function(f){n||(C(t),C(o.$$.fragment,f),n=!0)},o:function(f){D(t),D(o.$$.fragment,f),n=!1},d:function(f){s[e].d(f),f&&d(l),q(o,f)}};return B("SvelteRegisterBlock",{block:c,id:gc.name,type:"else",source:"(271:6) {:else}",ctx:i}),c}function bc(i){let e,t,l,o;const n=[Oc,Cc,Ac],r=[];function s(c,u){return c[2].exiting?0:c[2].active?2:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:bc.name,type:"if",source:"(210:30) ",ctx:i}),a}function wc(i){let e,t,l,o,n,r;e=new ye({props:{label:"Stake",class:"m-2",color:"text-yellow-400",borderColor:"border-yellow-400",disabled:!i[2].inReach,$$slots:{default:[Xc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[9]);const s=[Gc,Uc],a=[];function c(f,m){return f[2].natives?0:1}l=c(i),o=a[l]=s[l](i);const u={c:function(){U(e.$$.fragment),t=L(),o.c(),n=pe()},l:function(m){G(e.$$.fragment,m),t=j(m),o.l(m),n=pe()},m:function(m,p){K(e,m,p),S(m,t,p),a[l].m(m,p),S(m,n,p),r=!0},p:function(m,p){const g={};p[0]&4&&(g.disabled=!m[2].inReach),p[0]&4|p[1]&131072&&(g.$$scope={dirty:p,ctx:m}),e.$set(g);let b=l;l=c(m),l===b?a[l].p(m,p):(Ee(),D(a[b],1,1,()=>{a[b]=null}),$e(),o=a[l],o?o.p(m,p):(o=a[l]=s[l](m),o.c()),C(o,1),o.m(n.parentNode,n))},i:function(m){r||(C(e.$$.fragment,m),C(o),r=!0)},o:function(m){D(e.$$.fragment,m),D(o),r=!1},d:function(m){q(e,m),m&&d(t),a[l].d(m),m&&d(n)}};return B("SvelteRegisterBlock",{block:u,id:wc.name,type:"if",source:"(152:36) ",ctx:i}),u}function vc(i){let e,t,l,o;e=new ye({props:{label:"Show simulation",class:"m-2",color:"text-green-500",borderColor:"border-green-500",$$slots:{default:[Jc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[13]),l=new ye({props:{label:"Cancel",class:"m-2",$$slots:{default:[Zc]},$$scope:{ctx:i}},$$inline:!0}),l.$on("click",i[14]);const n={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment)},l:function(s){G(e.$$.fragment,s),t=j(s),G(l.$$.fragment,s)},m:function(s,a){K(e,s,a),S(s,t,a),K(l,s,a),o=!0},p:function(s,a){const c={};a[1]&131072&&(c.$$scope={dirty:a,ctx:s}),e.$set(c);const u={};a[1]&131072&&(u.$$scope={dirty:a,ctx:s}),l.$set(u)},i:function(s){o||(C(e.$$.fragment,s),C(l.$$.fragment,s),o=!0)},o:function(s){D(e.$$.fragment,s),D(l.$$.fragment,s),o=!1},d:function(s){q(e,s),s&&d(t),q(l,s)}};return B("SvelteRegisterBlock",{block:n,id:vc.name,type:"if",source:"(138:58) ",ctx:i}),n}function kc(i){let e,t,l=!i[1]&&Ql(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){r[1]?l&&(Ee(),D(l,1,1,()=>{l=null}),$e()):l?(l.p(r,s),s[0]&2&&C(l,1)):(l=Ql(r),l.c(),C(l,1),l.m(e.parentNode,e))},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:kc.name,type:"if",source:"(125:49) ",ctx:i}),o}function yc(i){let e,t,l=!i[1]&&Jl(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,s){r[1]?l&&(Ee(),D(l,1,1,()=>{l=null}),$e()):l?(l.p(r,s),s[0]&2&&C(l,1)):(l=Jl(r),l.c(),C(l,1),l.m(e.parentNode,e))},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:yc.name,type:"if",source:"(112:54) ",ctx:i}),o}function Sc(i){let e,t;const l={c:function(){e=E("p"),t=I("Capturing...."),this.h()},l:function(n){e=$(n,"P",{});var r=k(e);t=R(r,"Capturing...."),r.forEach(d),this.h()},h:function(){v(e,Rt,110,8,4772)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Sc.name,type:"if",source:"(110:6) {#if (!$planetState.owner || $planetState.owner === '0x0000000000000000000000000000000000000000') && $planetState.capturing}",ctx:i}),l}function Ec(i){let e,t;e=new ye({props:{color:"text-red-500",borderColor:"border-red-500",label:"Send Here",class:"m-2",$$slots:{default:[Bc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[11]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ec.name,type:"else",source:"(281:8) {:else}",ctx:i}),l}function $c(i){let e,t;e=new ye({props:{label:"Send",class:"m-2",$$slots:{default:[Rc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[10]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:$c.name,type:"if",source:"(272:8) {#if $planetState.active}",ctx:i}),l}function Pc(i){let e,t,l,o;t=new $t({props:{class:"w-4 h-4 inline"},$$inline:!0});const n={c:function(){e=I(`You can send out spaceships to inactive planet to get hold of it and prevent other player to stake on
                it. But note that the planet will remain non-active and spaceships population will decrease until it
                reaches zero at which point, it ll be in th ehand of the native population again. You ll need to stake `),U(t.$$.fragment),l=I(" to make it produce spaceships.")},l:function(s){e=R(s,`You can send out spaceships to inactive planet to get hold of it and prevent other player to stake on
                it. But note that the planet will remain non-active and spaceships population will decrease until it
                reaches zero at which point, it ll be in th ehand of the native population again. You ll need to stake `),G(t.$$.fragment,s),l=R(s," to make it produce spaceships.")},m:function(s,a){S(s,e,a),K(t,s,a),S(s,l,a),o=!0},p:ae,i:function(s){o||(C(t.$$.fragment,s),o=!0)},o:function(s){D(t.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(t,s),s&&d(l)}};return B("SvelteRegisterBlock",{block:n,id:Pc.name,type:"slot",source:'(291:14) <Help class=\\"inline w-4 h-4\\">',ctx:i}),n}function Bc(i){let e,t,l,o;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Pc]},$$scope:{ctx:i}},$$inline:!0});const n={c:function(){e=E("div"),t=I(`Conquer
              `),U(l.$$.fragment),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);t=R(a,`Conquer
              `),G(l.$$.fragment,a),a.forEach(d),this.h()},h:function(){h(e,"class","w-20 text-red-500"),v(e,Rt,288,12,11503)},m:function(s,a){S(s,e,a),_(e,t),K(l,e,null),o=!0},p:function(s,a){const c={};a[1]&131072&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i:function(s){o||(C(l.$$.fragment,s),o=!0)},o:function(s){D(l.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:n,id:Bc.name,type:"slot",source:'(282:10) <PanelButton             color=\\"text-red-500\\"             borderColor=\\"border-red-500\\"             label=\\"Send Here\\"             class=\\"m-2\\"             on:click={sendToInactivePlanet}           >',ctx:i}),n}function Ic(i){let e;const t={c:function(){e=I("You can send out spaceships in the form of fleets to either attack or send reinforcement.")},l:function(o){e=R(o,"You can send out spaceships in the form of fleets to either attack or send reinforcement.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ic.name,type:"slot",source:'(276:14) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Rc(i){let e,t,l,o;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Ic]},$$scope:{ctx:i}},$$inline:!0});const n={c:function(){e=E("div"),t=I(`Send Here
              `),U(l.$$.fragment),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);t=R(a,`Send Here
              `),G(l.$$.fragment,a),a.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,273,12,11009)},m:function(s,a){S(s,e,a),_(e,t),K(l,e,null),o=!0},p:function(s,a){const c={};a[1]&131072&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i:function(s){o||(C(l.$$.fragment,s),o=!0)},o:function(s){D(l.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:n,id:Rc.name,type:"slot",source:'(273:10) <PanelButton label=\\"Send\\" class=\\"m-2\\" on:click={sendTo}>',ctx:i}),n}function Tc(i){let e,t;const l={c:function(){e=E("div"),t=I("Message Owner"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Message Owner"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,307,10,12331)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Tc.name,type:"slot",source:'(301:8) <PanelButton           label=\\"Message\\"           color=\\"text-blue-400\\"           borderColor=\\"border-blue-400\\"           class=\\"m-2\\"           on:click={messageOwner}         >',ctx:i}),l}function Ac(i){let e,t,l,o,n,r;e=new ye({props:{label:"Send Here",class:"m-2",$$slots:{default:[Dc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[10]),l=new ye({props:{label:"Exit",color:"text-yellow-400",borderColor:"border-yellow-400",class:"m-2",$$slots:{default:[Fc]},$$scope:{ctx:i}},$$inline:!0}),l.$on("click",i[15]),n=new ye({props:{label:"Transfer",color:"text-yellow-400",borderColor:"border-yellow-400",class:"m-2",$$slots:{default:[Nc]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[16]);const s={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment),o=L(),U(n.$$.fragment)},l:function(c){G(e.$$.fragment,c),t=j(c),G(l.$$.fragment,c),o=j(c),G(n.$$.fragment,c)},m:function(c,u){K(e,c,u),S(c,t,u),K(l,c,u),S(c,o,u),K(n,c,u),r=!0},p:function(c,u){const f={};u[1]&131072&&(f.$$scope={dirty:u,ctx:c}),e.$set(f);const m={};u[1]&131072&&(m.$$scope={dirty:u,ctx:c}),l.$set(m);const p={};u[1]&131072&&(p.$$scope={dirty:u,ctx:c}),n.$set(p)},i:function(c){r||(C(e.$$.fragment,c),C(l.$$.fragment,c),C(n.$$.fragment,c),r=!0)},o:function(c){D(e.$$.fragment,c),D(l.$$.fragment,c),D(n.$$.fragment,c),r=!1},d:function(c){q(e,c),c&&d(t),q(l,c),c&&d(o),q(n,c)}};return B("SvelteRegisterBlock",{block:s,id:Ac.name,type:"else",source:"(244:8) {:else}",ctx:i}),s}function Cc(i){let e,t,l,o,n,r;e=new ye({props:{label:"Stake",class:"m-2",color:"text-yellow-400",borderColor:"border-yellow-400",disabled:!i[2].inReach,$$slots:{default:[jc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[9]),l=new ye({props:{label:"Send Here",class:"m-2",$$slots:{default:[Vc]},$$scope:{ctx:i}},$$inline:!0}),l.$on("click",i[10]);let s=i[2].numSpaceships>0&&ql(i);const a={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment),o=L(),s&&s.c(),n=pe()},l:function(u){G(e.$$.fragment,u),t=j(u),G(l.$$.fragment,u),o=j(u),s&&s.l(u),n=pe()},m:function(u,f){K(e,u,f),S(u,t,f),K(l,u,f),S(u,o,f),s&&s.m(u,f),S(u,n,f),r=!0},p:function(u,f){const m={};f[0]&4&&(m.disabled=!u[2].inReach),f[0]&4|f[1]&131072&&(m.$$scope={dirty:f,ctx:u}),e.$set(m);const p={};f[1]&131072&&(p.$$scope={dirty:f,ctx:u}),l.$set(p),u[2].numSpaceships>0?s||(s=ql(u),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:function(u){r||(C(e.$$.fragment,u),C(l.$$.fragment,u),r=!0)},o:function(u){D(e.$$.fragment,u),D(l.$$.fragment,u),r=!1},d:function(u){q(e,u),u&&d(t),q(l,u),u&&d(o),s&&s.d(u),u&&d(n)}};return B("SvelteRegisterBlock",{block:a,id:Cc.name,type:"if",source:"(215:39) ",ctx:i}),a}function Oc(i){let e,t;e=new ye({props:{label:"Send Here",class:"m-2",$$slots:{default:[Mc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[10]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Oc.name,type:"if",source:"(211:8) {#if $planetState.exiting}",ctx:i}),l}function Dc(i){let e,t;const l={c:function(){e=E("div"),t=I("Send Here"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Send Here"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,245,12,10130)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Dc.name,type:"slot",source:'(245:10) <PanelButton label=\\"Send Here\\" class=\\"m-2\\" on:click={sendTo}>',ctx:i}),l}function Fc(i){let e,t;const l={c:function(){e=E("div"),t=I("Exit"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Exit"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,257,12,10537)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Fc.name,type:"slot",source:'(251:10) <PanelButton             label=\\"Exit\\"             color=\\"text-yellow-400\\"             borderColor=\\"border-yellow-400\\"             class=\\"m-2\\"             on:click={exitFrom}           >',ctx:i}),l}function Nc(i){let e,t;const l={c:function(){e=E("div"),t=I("Transfer"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Transfer"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,267,12,10810)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Nc.name,type:"slot",source:'(261:10) <PanelButton             label=\\"Transfer\\"             color=\\"text-yellow-400\\"             borderColor=\\"border-yellow-400\\"             class=\\"m-2\\"             on:click={transferPlanet}           >',ctx:i}),l}function Lc(i){let e;const t={c:function(){e=I(`The Reachable Universe expands as more planets get captured. Note though that you can still send
                  attack unreachable planets. But these planets cannot produce spaceships until they get in range and
                  you stake on it.`)},l:function(o){e=R(o,`The Reachable Universe expands as more planets get captured. Note though that you can still send
                  attack unreachable planets. But these planets cannot produce spaceships until they get in range and
                  you stake on it.`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Lc.name,type:"slot",source:'(228:16) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function jc(i){let e,t,l,o=(i[2].inReach?"":" (unreachable)")+"",n,r,s,a;s=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Lc]},$$scope:{ctx:i}},$$inline:!0});const c={c:function(){e=E("div"),t=I(`Stake
              `),l=E("span"),n=I(o),r=L(),U(s.$$.fragment),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=R(m,`Stake
              `),l=$(m,"SPAN",{class:!0});var p=k(l);n=R(p,o),r=j(p),G(s.$$.fragment,p),p.forEach(d),m.forEach(d),this.h()},h:function(){h(l,"class","text-sm"),v(l,Rt,225,14,9187),h(e,"class","w-20"),v(e,Rt,223,12,9134)},m:function(f,m){S(f,e,m),_(e,t),_(e,l),_(l,n),_(l,r),K(s,l,null),a=!0},p:function(f,m){(!a||m[0]&4)&&o!==(o=(f[2].inReach?"":" (unreachable)")+"")&&he(n,o);const p={};m[1]&131072&&(p.$$scope={dirty:m,ctx:f}),s.$set(p)},i:function(f){a||(C(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&d(e),q(s)}};return B("SvelteRegisterBlock",{block:c,id:jc.name,type:"slot",source:'(216:10) <PanelButton             label=\\"Stake\\"             class=\\"m-2\\"             color=\\"text-yellow-400\\"             borderColor=\\"border-yellow-400\\"             disabled={!$planetState.inReach}             on:click={capture}           >',ctx:i}),c}function Vc(i){let e,t;const l={c:function(){e=E("div"),t=I("Send Here"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Send Here"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,236,12,9762)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Vc.name,type:"slot",source:'(236:10) <PanelButton label=\\"Send Here\\" class=\\"m-2\\" on:click={sendTo}>',ctx:i}),l}function ql(i){const e={c:ae,l:ae,m:ae,d:ae};return B("SvelteRegisterBlock",{block:e,id:ql.name,type:"if",source:"(239:10) {#if $planetState.numSpaceships > 0}",ctx:i}),e}function Mc(i){let e,t;const l={c:function(){e=E("div"),t=I("Send Here"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Send Here"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,212,12,8782)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Mc.name,type:"slot",source:'(212:10) <PanelButton label=\\"Send Here\\" class=\\"m-2\\" on:click={sendTo}>',ctx:i}),l}function Wc(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[zc]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Wc.name,type:"else",source:"(171:14) {:else}",ctx:i}),l}function Yc(i){let e,t,l;t=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Hc]},$$scope:{ctx:i}},$$inline:!0});const o={c:function(){e=I(`(unreachable)
                `),U(t.$$.fragment)},l:function(r){e=R(r,`(unreachable)
                `),G(t.$$.fragment,r)},m:function(r,s){S(r,e,s),K(t,r,s),l=!0},i:function(r){l||(C(t.$$.fragment,r),l=!0)},o:function(r){D(t.$$.fragment,r),l=!1},d:function(r){r&&d(e),q(t,r)}};return B("SvelteRegisterBlock",{block:o,id:Yc.name,type:"if",source:"(164:14) {#if !$planetState.inReach}",ctx:i}),o}function zc(i){let e,t,l,o,n,r;t=new $t({props:{class:"w-4 inline"},$$inline:!0});const s={c:function(){e=I(`To claim a planet and make it produce spaceships for you, you have to deposit a certain number of
                  `),U(t.$$.fragment),l=I(`
                  (Play token) on it. If you lose your planet, you lose the ability to withdraw them.
                  `),o=E("br"),n=I(`
                  The capture will be resolved as if it was a 10,000 attack power with 100,000
                  
                  spaceships. The capture will only be succesful if the attack succeed`),this.h()},l:function(c){e=R(c,`To claim a planet and make it produce spaceships for you, you have to deposit a certain number of
                  `),G(t.$$.fragment,c),l=R(c,`
                  (Play token) on it. If you lose your planet, you lose the ability to withdraw them.
                  `),o=$(c,"BR",{}),n=R(c,`
                  The capture will be resolved as if it was a 10,000 attack power with 100,000
                  
                  spaceships. The capture will only be succesful if the attack succeed`),this.h()},h:function(){v(o,Rt,175,18,7221)},m:function(c,u){S(c,e,u),K(t,c,u),S(c,l,u),S(c,o,u),S(c,n,u),r=!0},p:ae,i:function(c){r||(C(t.$$.fragment,c),r=!0)},o:function(c){D(t.$$.fragment,c),r=!1},d:function(c){c&&d(e),q(t,c),c&&d(l),c&&d(o),c&&d(n)}};return B("SvelteRegisterBlock",{block:s,id:zc.name,type:"slot",source:'(172:16) <Help class=\\"inline w-4 h-4\\">',ctx:i}),s}function Hc(i){let e;const t={c:function(){e=I(`The Reachable Universe expands as more planets get captured. Note though that you can still send
                  attack unreachable planets. But these planets cannot produce spaceships until they get in range and
                  you stake on it.`)},l:function(o){e=R(o,`The Reachable Universe expands as more planets get captured. Note though that you can still send
                  attack unreachable planets. But these planets cannot produce spaceships until they get in range and
                  you stake on it.`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Hc.name,type:"slot",source:'(166:16) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Xc(i){let e,t,l,o,n,r;const s=[Yc,Wc],a=[];function c(f,m){return f[2].inReach?1:0}o=c(i),n=a[o]=s[o](i);const u={c:function(){e=E("div"),t=I(`Stake
            `),l=E("span"),n.c(),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=R(p,`Stake
            `),l=$(p,"SPAN",{class:!0});var g=k(l);n.l(g),g.forEach(d),p.forEach(d),this.h()},h:function(){h(l,"class","text-sm"),v(l,Rt,162,12,6434),h(e,"class","w-20"),v(e,Rt,160,10,6385)},m:function(m,p){S(m,e,p),_(e,t),_(e,l),a[o].m(l,null),r=!0},p:function(m,p){let g=o;o=c(m),o!==g&&(Ee(),D(a[g],1,1,()=>{a[g]=null}),$e(),n=a[o],n||(n=a[o]=s[o](m),n.c()),C(n,1),n.m(l,null))},i:function(m){r||(C(n),r=!0)},o:function(m){D(n),r=!1},d:function(m){m&&d(e),a[o].d()}};return B("SvelteRegisterBlock",{block:u,id:Xc.name,type:"slot",source:'(153:8) <PanelButton           label=\\"Stake\\"           class=\\"m-2\\"           color=\\"text-yellow-400\\"           borderColor=\\"border-yellow-400\\"           disabled={!$planetState.inReach}           on:click={capture}         >',ctx:i}),u}function Uc(i){let e,t;e=new ye({props:{label:"Send Here",class:"m-2",$$slots:{default:[Kc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[10]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Uc.name,type:"else",source:"(204:8) {:else}",ctx:i}),l}function Gc(i){let e,t;e=new ye({props:{color:"text-red-500",borderColor:"border-red-500",label:"Send Here",class:"m-2",$$slots:{default:[Qc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[11]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Gc.name,type:"if",source:"(185:8) {#if $planetState.natives}",ctx:i}),l}function Kc(i){let e,t;const l={c:function(){e=E("div"),t=I("Send Here"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Send Here"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,206,12,8559)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Kc.name,type:"slot",source:'(206:10) <PanelButton label=\\"Send Here\\" class=\\"m-2\\" on:click={sendTo}>',ctx:i}),l}function qc(i){let e,t,l,o;t=new $t({props:{class:"w-4 h-4 inline"},$$inline:!0});const n={c:function(){e=I(`You can send out spaceships to inactive planet to get hold of it and prevent other player to stake on
                it. But note that the planet will remain non-active and spaceships population will decrease until it
                reaches zero at which point, it ll be in th ehand of the native population again. You ll need to stake `),U(t.$$.fragment),l=I(" to make it produce spaceships.")},l:function(s){e=R(s,`You can send out spaceships to inactive planet to get hold of it and prevent other player to stake on
                it. But note that the planet will remain non-active and spaceships population will decrease until it
                reaches zero at which point, it ll be in th ehand of the native population again. You ll need to stake `),G(t.$$.fragment,s),l=R(s," to make it produce spaceships.")},m:function(s,a){S(s,e,a),K(t,s,a),S(s,l,a),o=!0},p:ae,i:function(s){o||(C(t.$$.fragment,s),o=!0)},o:function(s){D(t.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(t,s),s&&d(l)}};return B("SvelteRegisterBlock",{block:n,id:qc.name,type:"slot",source:'(195:14) <Help class=\\"inline w-4 h-4\\">',ctx:i}),n}function Qc(i){let e,t,l,o;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[qc]},$$scope:{ctx:i}},$$inline:!0});const n={c:function(){e=E("div"),t=I(`Conquer
              `),U(l.$$.fragment),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);t=R(a,`Conquer
              `),G(l.$$.fragment,a),a.forEach(d),this.h()},h:function(){h(e,"class","w-20 text-red-500"),v(e,Rt,192,12,7807)},m:function(s,a){S(s,e,a),_(e,t),K(l,e,null),o=!0},p:function(s,a){const c={};a[1]&131072&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i:function(s){o||(C(l.$$.fragment,s),o=!0)},o:function(s){D(l.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:n,id:Qc.name,type:"slot",source:'(186:10) <PanelButton             color=\\"text-red-500\\"             borderColor=\\"border-red-500\\"             label=\\"Send Here\\"             class=\\"m-2\\"             on:click={sendToInactivePlanet}           >',ctx:i}),n}function Jc(i){let e,t;const l={c:function(){e=E("div"),t=I("Show Simulation"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Show Simulation"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,145,10,5908)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Jc.name,type:"slot",source:'(139:8) <PanelButton           label=\\"Show simulation\\"           class=\\"m-2\\"           color=\\"text-green-500\\"           borderColor=\\"border-green-500\\"           on:click={showSimulation}         >',ctx:i}),l}function Zc(i){let e,t;const l={c:function(){e=E("div"),t=I("Cancel"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Cancel"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,149,10,6059)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Zc.name,type:"slot",source:'(149:8) <PanelButton label=\\"Cancel\\" class=\\"m-2\\" on:click={cancelSimulation}>',ctx:i}),l}function Ql(i){let e,t;e=new ye({props:{label:"Message",color:"text-blue-400",borderColor:"border-blue-400",class:"m-2",$$slots:{default:[xc]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[17]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ql.name,type:"if",source:"(127:8) {#if !walletIsOwner}",ctx:i}),l}function xc(i){let e,t;const l={c:function(){e=E("div"),t=I("Message Owner"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Message Owner"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,134,12,5565)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:xc.name,type:"slot",source:'(128:10) <PanelButton             label=\\"Message\\"             color=\\"text-blue-400\\"             borderColor=\\"border-blue-400\\"             class=\\"m-2\\"             on:click={messageOwner}           >',ctx:i}),l}function Jl(i){let e,t;e=new ye({props:{label:"Message",color:"text-blue-400",borderColor:"border-blue-400",class:"m-2",$$slots:{default:[ea]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[17]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[1]&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Jl.name,type:"if",source:"(114:8) {#if !walletIsOwner}",ctx:i}),l}function ea(i){let e,t;const l={c:function(){e=E("div"),t=I("Message Owner"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Message Owner"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,121,12,5143)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ea.name,type:"slot",source:'(115:10) <PanelButton             label=\\"Message\\"             color=\\"text-blue-400\\"             borderColor=\\"border-blue-400\\"             class=\\"m-2\\"             on:click={messageOwner}           >',ctx:i}),l}function ta(i){let e,t;const l={c:function(){e=E("div"),t=I("Simulate"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Simulate"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,317,8,12584)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ta.name,type:"slot",source:'(311:6) <PanelButton         label=\\"Simulate\\"         color=\\"text-gray-200\\"         borderColor=\\"border-gray-200\\"         class=\\"m-2\\"         on:click={simulateFrom}       >',ctx:i}),l}function na(i){let e,t;const l={c:function(){e=E("div"),t=I("Traffic"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Traffic"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,326,8,12822)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:na.name,type:"slot",source:'(320:6) <PanelButton         label=\\"Departures\\"         color=\\"text-gray-200\\"         borderColor=\\"border-gray-200\\"         class=\\"m-2\\"         on:click={showDepartures}       >',ctx:i}),l}function oa(i){let e,t;const l={c:function(){e=E("div"),t=I("Sign-In"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Sign-In"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,Rt,89,8,3943)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:oa.name,type:"slot",source:'(89:6) <PanelButton label=\\"Sign-in\\" class=\\"m-2\\" on:click={connect}>',ctx:i}),l}function Zl(i){let e,t,l,o;const n=[ac,cc],r=[];function s(c,u){return c[2]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Zl.name,type:"component",source:"",ctx:i}),a}function Yh(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b=ae,w=()=>(b(),b=tn(o,ue=>t(2,g=ue)),o),y,P,A,T=ae,O=()=>(T(),T=tn(a,ue=>t(37,A=ue)),a),F,N,Y;ve(St,"wallet"),ke(i,St,ue=>t(3,y=ue)),ve(Kn,"showPlanetButtons"),ke(i,Kn,ue=>t(36,P=ue)),ve(Xe,"sendFlow"),ke(i,Xe,ue=>t(4,F=ue)),ve(an,"privateWallet"),ke(i,an,ue=>t(7,N=ue)),ve(Ot,"simulateFlow"),ke(i,Ot,ue=>t(8,Y=ue)),i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>T());let{$$slots:H={},$$scope:M}=e;He("PlanetFleetActionPanel",H,[]);var W,X,V,Q,z,ie,oe,ce,Z,se;let{coords:ee}=e,{close:fe}=e;function de(){Ht.claim(ee)}function we(){Xe.sendTo(ee),fe()}function Pe(){Xe.sendToInactivePlanet(ee),fe()}function Ae(){Xe.sendFrom(ee),fe()}function J(){Xe.cancel()}function le(){Ot.simulateFrom(ee),fe()}function ge(){Ot.simulate(ee)}function Ce(){Ot.cancel()}function Re(){jt.exitFrom(ee),fe()}function Te(){Wt.transfer(ee),fe()}function Me(){Dn.show(g.owner)}function re(){Xt.show(l.location.id)}function Ve(){an.login()}function je(ue){Qn.showPlanet(ue,o,l)}const me=["coords","close"];Object.keys(e).forEach(ue=>{!~me.indexOf(ue)&&ue.slice(0,2)!=="$$"&&ue!=="slot"&&console.warn(`<PlanetFleetActionPanel> was created with unknown prop '${ue}'`)});const x=ue=>je(ue.src);return i.$$set=ue=>{"coords"in ue&&t(21,ee=ue.coords),"close"in ue&&t(22,fe=ue.close)},i.$capture_state=()=>({_a:W,_b:X,_c:V,_d:Q,_e:z,_f:ie,_g:oe,_h:ce,_j:Z,_k:se,claimFlow:Ht,sendFlow:Xe,simulateFlow:Ot,exitFlow:jt,planetTransferFlow:Wt,messageFlow:Dn,showPlanetDepartures:Xt,wallet:St,Help:Pt,PlayCoin:$t,PanelButton:ye,spaceInfo:be,planets:vt,privateWallet:an,matchConditions:Io,pluginShowing:Qn,showPlanetButtons:Kn,coords:ee,close:fe,capture:de,sendTo:we,sendToInactivePlanet:Pe,sendFrom:Ae,cancelSend:J,simulateFrom:le,showSimulation:ge,cancelSimulation:Ce,exitFrom:Re,transferPlanet:Te,messageOwner:Me,showDepartures:re,connect:Ve,showPlugin:je,planetInfo:l,extraButtons:p,captureResult:m,destinationPlanetState:a,attacking:f,originPlanetInfo:c,originPlanetState:u,destinationPlanetInfo:s,walletIsOwner:n,textColor:r,planetState:o,$planetState:g,$wallet:y,$showPlanetButtons:P,$destinationPlanetState:A,$sendFlow:F,$privateWallet:N,$simulateFlow:Y}),i.$inject_state=ue=>{"_a"in ue&&t(23,W=ue._a),"_b"in ue&&t(24,X=ue._b),"_c"in ue&&t(25,V=ue._c),"_d"in ue&&t(26,Q=ue._d),"_e"in ue&&t(27,z=ue._e),"_f"in ue&&t(28,ie=ue._f),"_g"in ue&&t(29,oe=ue._g),"_h"in ue&&t(30,ce=ue._h),"_j"in ue&&t(31,Z=ue._j),"_k"in ue&&t(32,se=ue._k),"coords"in ue&&t(21,ee=ue.coords),"close"in ue&&t(22,fe=ue.close),"planetInfo"in ue&&t(33,l=ue.planetInfo),"extraButtons"in ue&&t(5,p=ue.extraButtons),"captureResult"in ue&&(m=ue.captureResult),"destinationPlanetState"in ue&&O(t(0,a=ue.destinationPlanetState)),"attacking"in ue&&(f=ue.attacking),"originPlanetInfo"in ue&&t(34,c=ue.originPlanetInfo),"originPlanetState"in ue&&(u=ue.originPlanetState),"destinationPlanetInfo"in ue&&t(35,s=ue.destinationPlanetInfo),"walletIsOwner"in ue&&t(1,n=ue.walletIsOwner),"textColor"in ue&&(r=ue.textColor),"planetState"in ue&&w(t(6,o=ue.planetState))},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty[0]&2097152&&t(33,l=be.getPlanetInfo(ee.x,ee.y)),i.$$.dirty[1]&4&&w(t(6,o=vt.planetStateFor(l))),i.$$.dirty[0]&25165836&&t(1,n=y.address&&(t(23,W=y.address)===null||W===void 0?void 0:W.toLowerCase())===(t(24,X=g==null?void 0:g.owner)===null||X===void 0?void 0:X.toLowerCase())),i.$$.dirty[0]&6&&(r=g&&g.owner?n?"text-green-500":"text-red-500":"text-gray-100"),i.$$.dirty[0]&234881040&&t(35,s=(t(25,V=F.data)===null||V===void 0?void 0:V.to)&&be.getPlanetInfo(t(26,Q=F.data)===null||Q===void 0?void 0:Q.to.x,t(27,z=F.data)===null||z===void 0?void 0:z.to.y)),i.$$.dirty[0]&268435472|i.$$.dirty[1]&16&&O(t(0,a=(t(28,ie=F.data)===null||ie===void 0?void 0:ie.to)&&vt.planetStateFor(s))),i.$$.dirty[0]&1610612752|i.$$.dirty[1]&1&&t(34,c=(t(29,oe=F.data)===null||oe===void 0?void 0:oe.from)&&be.getPlanetInfo(t(30,ce=F.data)===null||ce===void 0?void 0:ce.from.x,t(31,Z=F.data)===null||Z===void 0?void 0:Z.from.y)),i.$$.dirty[0]&16|i.$$.dirty[1]&10&&(u=(t(32,se=F.data)===null||se===void 0?void 0:se.from)&&vt.planetStateFor(c)),i.$$.dirty[0]&25|i.$$.dirty[1]&64&&(f=F.step==="PICK_ORIGIN"&&a&&(A==null?void 0:A.owner)!==y.address),i.$$.dirty[0]&12|i.$$.dirty[1]&36&&t(5,p=P.filter(ue=>!ue.panelConditions||Io(ue.panelConditions,{account:y.address,planetState:g,planetInfo:l})))},m=void 0,[a,n,g,y,F,p,o,N,Y,de,we,Pe,le,ge,Ce,Re,Te,Me,re,Ve,je,ee,fe,W,X,V,Q,z,ie,oe,ce,Z,se,l,c,s,P,A,x]}class la extends We{constructor(e){super(e);Ye(this,e,Yh,Zl,ze,{coords:21,close:22},null,[-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"PlanetFleetActionPanel",options:e,id:Zl.name});const{ctx:t}=this.$$,l=e.props||{};t[21]===void 0&&!("coords"in l)&&console.warn("<PlanetFleetActionPanel> was created without expected prop 'coords'"),t[22]===void 0&&!("close"in l)&&console.warn("<PlanetFleetActionPanel> was created without expected prop 'close'")}get coords(){throw new Error("<PlanetFleetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set coords(e){throw new Error("<PlanetFleetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get close(){throw new Error("<PlanetFleetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set close(e){throw new Error("<PlanetFleetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ia="src/lib/components/planets/PlanetActionPanel.svelte";function xl(i){let e,t,l,o,n;t=new la({props:{close:i[1],coords:i[0]},$$inline:!0});const r={c:function(){e=E("div"),U(t.$$.fragment),l=L(),o=E("div"),this.h()},l:function(a){e=$(a,"DIV",{class:!0});var c=k(e);G(t.$$.fragment,c),l=j(c),o=$(c,"DIV",{class:!0}),k(o).forEach(d),c.forEach(d),this.h()},h:function(){h(o,"class","w-full mt-2"),v(o,ia,98,2,4032),h(e,"class","flex flex-col text-center text-xs"),v(e,ia,88,0,3649)},m:function(a,c){S(a,e,c),K(t,e,null),_(e,l),_(e,o),n=!0},p:function(a,[c]){const u={};c&2&&(u.close=a[1]),c&1&&(u.coords=a[0]),t.$set(u)},i:function(a){n||(C(t.$$.fragment,a),n=!0)},o:function(a){D(t.$$.fragment,a),n=!1},d:function(a){a&&d(e),q(t)}};return B("SvelteRegisterBlock",{block:r,id:xl.name,type:"component",source:"",ctx:i}),r}function zh(i,e,t){let{$$slots:l={},$$scope:o}=e;He("PlanetActionPanel",l,[]);let{coords:n}=e,{close:r}=e;const s=["coords","close"];return Object.keys(e).forEach(a=>{!~s.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<PlanetActionPanel> was created with unknown prop '${a}'`)}),i.$$set=a=>{"coords"in a&&t(0,n=a.coords),"close"in a&&t(1,r=a.close)},i.$capture_state=()=>({PlanetFleetActionPanel:la,coords:n,close:r}),i.$inject_state=a=>{"coords"in a&&t(0,n=a.coords),"close"in a&&t(1,r=a.close)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r]}class ra extends We{constructor(e){super(e);Ye(this,e,zh,xl,ze,{coords:0,close:1}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetActionPanel",options:e,id:xl.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("coords"in l)&&console.warn("<PlanetActionPanel> was created without expected prop 'coords'"),t[1]===void 0&&!("close"in l)&&console.warn("<PlanetActionPanel> was created without expected prop 'close'")}get coords(){throw new Error("<PlanetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set coords(e){throw new Error("<PlanetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get close(){throw new Error("<PlanetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set close(e){throw new Error("<PlanetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Zn="src/lib/components/utils/Stat.svelte";function ei(i){let e,t,l,o,n,r,s,a,c,u,f,m;const p=i[5].default,g=Hn(p,i,i[4],null),b={c:function(){e=E("div"),t=E("div"),l=E("p"),o=I(i[1]),n=L(),g&&g.c(),r=L(),s=E("p"),a=I(i[0]),c=L(),u=E("div"),f=E("div"),this.h()},l:function(y){e=$(y,"DIV",{class:!0});var P=k(e);t=$(P,"DIV",{class:!0});var A=k(t);l=$(A,"P",{class:!0});var T=k(l);o=R(T,i[1]),n=j(T),g&&g.l(T),T.forEach(d),r=j(A),s=$(A,"P",{class:!0});var O=k(s);a=R(O,i[0]),O.forEach(d),c=j(A),u=$(A,"DIV",{class:!0});var F=k(u);f=$(F,"DIV",{class:!0,style:!0}),k(f).forEach(d),F.forEach(d),A.forEach(d),P.forEach(d),this.h()},h:function(){h(l,"class","text-cyan-300 p-0 mb-1"),v(l,Zn,10,4,247),h(s,"class","float-right relative -top-6"),v(s,Zn,14,4,323),h(f,"class","w-full h-3 rounded-md bg-cyan-500"),Je(f,"width",Math.floor(100*(i[0]-i[2])/(i[3]-i[2]))+"%"),v(f,Zn,16,6,432),h(u,"class","box-border rounded-md bg-gray-600"),v(u,Zn,15,4,378),h(t,"class","w-full box-border"),v(t,Zn,9,2,211),h(e,"class","m-1 w-26 md:w-36"),v(e,Zn,8,0,178)},m:function(y,P){S(y,e,P),_(e,t),_(t,l),_(l,o),_(l,n),g&&g.m(l,null),_(t,r),_(t,s),_(s,a),_(t,c),_(t,u),_(u,f),m=!0},p:function(y,[P]){(!m||P&2)&&he(o,y[1]),g&&g.p&&(!m||P&16)&&Xn(g,p,y,y[4],m?Gn(p,y[4],P,null):Un(y[4]),null),(!m||P&1)&&he(a,y[0]),(!m||P&13)&&Je(f,"width",Math.floor(100*(y[0]-y[2])/(y[3]-y[2]))+"%")},i:function(y){m||(C(g,y),m=!0)},o:function(y){D(g,y),m=!1},d:function(y){y&&d(e),g&&g.d(y)}};return B("SvelteRegisterBlock",{block:b,id:ei.name,type:"component",source:"",ctx:i}),b}function Hh(i,e,t){let{$$slots:l={},$$scope:o}=e;He("Stat",l,["default"]);let{value:n}=e,{name:r}=e,{min:s=0}=e,{max:a=100}=e;const c=["value","name","min","max"];return Object.keys(e).forEach(u=>{!~c.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Stat> was created with unknown prop '${u}'`)}),i.$$set=u=>{"value"in u&&t(0,n=u.value),"name"in u&&t(1,r=u.name),"min"in u&&t(2,s=u.min),"max"in u&&t(3,a=u.max),"$$scope"in u&&t(4,o=u.$$scope)},i.$capture_state=()=>({value:n,name:r,min:s,max:a}),i.$inject_state=u=>{"value"in u&&t(0,n=u.value),"name"in u&&t(1,r=u.name),"min"in u&&t(2,s=u.min),"max"in u&&t(3,a=u.max)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,s,a,o,l]}class po extends We{constructor(e){super(e);Ye(this,e,Hh,ei,ze,{value:0,name:1,min:2,max:3}),B("SvelteRegisterComponent",{component:this,tagName:"Stat",options:e,id:ei.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("value"in l)&&console.warn("<Stat> was created without expected prop 'value'"),t[1]===void 0&&!("name"in l)&&console.warn("<Stat> was created without expected prop 'name'")}get value(){throw new Error("<Stat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Stat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<Stat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<Stat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<Stat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(e){throw new Error("<Stat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<Stat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(e){throw new Error("<Stat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ln="src/lib/components/utils/NegativeStat.svelte";function sa(i){let e,t;const l={c:function(){e=E("div"),this.h()},l:function(n){e=$(n,"DIV",{class:!0,style:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"class","box-border inline-block h-3 rounded-l-md bg-lime-500 outline-lime-500 outline-1 outline-offset-1"),h(e,"style",t=`left:${50-i[3]/2}%;width:${i[3]/2}%;position:relative;top:-0.01rem;height:0.75rem`),v(e,Ln,37,8,1098)},m:function(n,r){S(n,e,r)},p:function(n,r){r&8&&t!==(t=`left:${50-n[3]/2}%;width:${n[3]/2}%;position:relative;top:-0.01rem;height:0.75rem`)&&h(e,"style",t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:sa.name,type:"else",source:"(37:6) {:else}",ctx:i}),l}function ca(i){let e,t;const l={c:function(){e=E("div"),this.h()},l:function(n){e=$(n,"DIV",{class:!0,style:!0}),k(e).forEach(d),this.h()},h:function(){h(e,"class","box-border inline-block h-3 rounded-r-md bg-red-500 outline-red-500 outline-1 outline-offset-1"),h(e,"style",t=`left:50%; width: ${i[3]/2}%;position:relative;top:-0.01rem;height: 0.75rem`),v(e,Ln,32,8,847)},m:function(n,r){S(n,e,r)},p:function(n,r){r&8&&t!==(t=`left:50%; width: ${n[3]/2}%;position:relative;top:-0.01rem;height: 0.75rem`)&&h(e,"style",t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ca.name,type:"if",source:"(32:6) {#if positive}",ctx:i}),l}function ti(i){let e,t,l,o,n,r,s,a,c,u,f,m;const p=i[8].default,g=Hn(p,i,i[7],null);function b(A,T){return A[2]?ca:sa}let w=b(i),y=w(i);const P={c:function(){e=E("div"),t=E("div"),l=E("p"),o=I(i[1]),n=L(),g&&g.c(),r=L(),s=E("p"),a=I(i[0]),c=L(),u=E("div"),y.c(),this.h()},l:function(T){e=$(T,"DIV",{class:!0});var O=k(e);t=$(O,"DIV",{class:!0});var F=k(t);l=$(F,"P",{class:!0});var N=k(l);o=R(N,i[1]),n=j(N),g&&g.l(N),N.forEach(d),r=j(F),s=$(F,"P",{class:!0});var Y=k(s);a=R(Y,i[0]),Y.forEach(d),c=j(F),u=$(F,"DIV",{class:!0});var H=k(u);y.l(H),H.forEach(d),F.forEach(d),O.forEach(d),this.h()},h:function(){h(l,"class","p-0 mb-1"),v(l,Ln,25,4,649),h(s,"class","float-right relative -top-6"),v(s,Ln,29,4,711),h(u,"class","box-border h-3 rounded-md bg-gray-600"),v(u,Ln,30,4,766),h(t,"class","w-full box-border"),v(t,Ln,24,2,613),h(e,"class",f=`${i[2]?"text-red-500":"text-lime-500"} m-1 w-26 md:w-36`),v(e,Ln,23,0,531)},m:function(T,O){S(T,e,O),_(e,t),_(t,l),_(l,o),_(l,n),g&&g.m(l,null),_(t,r),_(t,s),_(s,a),_(t,c),_(t,u),y.m(u,null),m=!0},p:function(T,[O]){(!m||O&2)&&he(o,T[1]),g&&g.p&&(!m||O&128)&&Xn(g,p,T,T[7],m?Gn(p,T[7],O,null):Un(T[7]),null),(!m||O&1)&&he(a,T[0]),w===(w=b(T))&&y?y.p(T,O):(y.d(1),y=w(T),y&&(y.c(),y.m(u,null))),(!m||O&4&&f!==(f=`${T[2]?"text-red-500":"text-lime-500"} m-1 w-26 md:w-36`))&&h(e,"class",f)},i:function(T){m||(C(g,T),m=!0)},o:function(T){D(g,T),m=!1},d:function(T){T&&d(e),g&&g.d(T),y.d()}};return B("SvelteRegisterBlock",{block:P,id:ti.name,type:"component",source:"",ctx:i}),P}function Xh(i,e,t){let l,o,n,{$$slots:r={},$$scope:s}=e;He("NegativeStat",r,["default"]);let{value:a}=e,{name:c}=e,{min:u=0}=e,{max:f=100}=e;const m=["value","name","min","max"];return Object.keys(e).forEach(p=>{!~m.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<NegativeStat> was created with unknown prop '${p}'`)}),i.$$set=p=>{"value"in p&&t(0,a=p.value),"name"in p&&t(1,c=p.name),"min"in p&&t(4,u=p.min),"max"in p&&t(5,f=p.max),"$$scope"in p&&t(7,s=p.$$scope)},i.$capture_state=()=>({value:a,name:c,min:u,max:f,clampValue:l,positive:o,percent:n}),i.$inject_state=p=>{"value"in p&&t(0,a=p.value),"name"in p&&t(1,c=p.name),"min"in p&&t(4,u=p.min),"max"in p&&t(5,f=p.max),"clampValue"in p&&t(6,l=p.clampValue),"positive"in p&&t(2,o=p.positive),"percent"in p&&t(3,n=p.percent)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&49&&t(6,l=Math.min(Math.max(a,u),f)),i.$$.dirty&64&&t(2,o=l>0),i.$$.dirty&116&&t(3,n=Math.ceil(o?100*((f-(f-l))/f):100*((u+(l-u))/u)))},[a,c,o,n,u,f,l,s,r]}class aa extends We{constructor(e){super(e);Ye(this,e,Xh,ti,ze,{value:0,name:1,min:4,max:5}),B("SvelteRegisterComponent",{component:this,tagName:"NegativeStat",options:e,id:ti.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("value"in l)&&console.warn("<NegativeStat> was created without expected prop 'value'"),t[1]===void 0&&!("name"in l)&&console.warn("<NegativeStat> was created without expected prop 'name'")}get value(){throw new Error("<NegativeStat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<NegativeStat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<NegativeStat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<NegativeStat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<NegativeStat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(e){throw new Error("<NegativeStat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<NegativeStat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(e){throw new Error("<NegativeStat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const kt="src/lib/components/planets/PlanetStats.svelte";function ua(i){let e,t=i[1].stats.name+"",l,o;const n={c:function(){e=E("h2"),l=I(t),this.h()},l:function(s){e=$(s,"H2",{class:!0});var a=k(e);l=R(a,t),a.forEach(d),this.h()},h:function(){h(e,"class",o=`flex-auto text-center pt-1 font-bold ${i[6]} inline`),v(e,kt,41,4,2133)},m:function(s,a){S(s,e,a),_(e,l)},p:function(s,a){a&2&&t!==(t=s[1].stats.name+"")&&he(l,t),a&64&&o!==(o=`flex-auto text-center pt-1 font-bold ${s[6]} inline`)&&h(e,"class",o)},i:ae,o:ae,d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:ua.name,type:"else",source:"(41:2) {:else}",ctx:i}),n}function fa(i){let e,t=i[1].stats.name+"",l,o,n,r,s,a;s=new mn({props:{copiedDirection:i[2],class:"flex-auto w-8 h-8 flot",address:i[4].owner},$$inline:!0});const c={c:function(){e=E("h2"),l=I(t),n=L(),r=E("div"),U(s.$$.fragment),this.h()},l:function(f){e=$(f,"H2",{class:!0});var m=k(e);l=R(m,t),m.forEach(d),n=j(f),r=$(f,"DIV",{});var p=k(r);G(s.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(e,"class",o=`flex-auto text-center pt-1 font-bold ${i[6]} inline`),v(e,kt,32,4,1705),v(r,kt,37,4,2006)},m:function(f,m){S(f,e,m),_(e,l),S(f,n,m),S(f,r,m),K(s,r,null),a=!0},p:function(f,m){(!a||m&2)&&t!==(t=f[1].stats.name+"")&&he(l,t),(!a||m&64&&o!==(o=`flex-auto text-center pt-1 font-bold ${f[6]} inline`))&&h(e,"class",o);const p={};m&4&&(p.copiedDirection=f[2]),m&16&&(p.address=f[4].owner),s.$set(p)},i:function(f){a||(C(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&d(e),f&&d(n),f&&d(r),q(s)}};return B("SvelteRegisterBlock",{block:c,id:fa.name,type:"if",source:"(32:2) {#if $planetState && $planetState.owner}",ctx:i}),c}function da(i){let e,t=i[1].location.x+"",l,o,n=i[1].location.y+"",r;const s={c:function(){e=E("span"),l=I(t),o=I(","),r=I(n),this.h()},l:function(c){e=$(c,"SPAN",{style:!0});var u=k(e);l=R(u,t),o=R(u,","),r=R(u,n),u.forEach(d),this.h()},h:function(){Je(e,"user-select","all"),Je(e,"cursor","pointer"),v(e,kt,53,6,2811)},m:function(c,u){S(c,e,u),_(e,l),_(e,o),_(e,r)},p:function(c,u){u&2&&t!==(t=c[1].location.x+"")&&he(l,t),u&2&&n!==(n=c[1].location.y+"")&&he(r,n)},d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:da.name,type:"else",source:"(53:4) {:else}",ctx:i}),s}function ma(i){let e,t=i[1].location.x+"",l,o,n=i[1].location.y+"",r;const s={c:function(){e=E("span"),l=I(t),o=I(","),r=I(n),this.h()},l:function(c){e=$(c,"SPAN",{style:!0});var u=k(e);l=R(u,t),o=R(u,","),r=R(u,n),u.forEach(d),this.h()},h:function(){Je(e,"user-select","all"),Je(e,"cursor","pointer"),v(e,kt,51,6,2689)},m:function(c,u){S(c,e,u),_(e,l),_(e,o),_(e,r)},p:function(c,u){u&2&&t!==(t=c[1].location.x+"")&&he(l,t),u&2&&n!==(n=c[1].location.y+"")&&he(r,n)},d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:ma.name,type:"if",source:"(51:4) {#if $planetState && $planetState.owner}",ctx:i}),s}function pa(i){let e;function t(r,s){return r[4]&&r[4].owner?ma:da}let l=t(i),o=l(i);const n={c:function(){o.c(),e=pe()},l:function(s){o.l(s),e=pe()},m:function(s,a){o.m(s,a),S(s,e,a)},p:function(s,a){l===(l=t(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e.parentNode,e)))},d:function(s){o.d(s),s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:pa.name,type:"slot",source:"(50:2) <Copiable text={`${planetInfo.location.x},${planetInfo.location.y}`}>",ctx:i}),n}function ni(i){let e,t=i[4].exiting&&oi(i);const l={c:function(){t&&t.c(),e=pe()},l:function(n){t&&t.l(n),e=pe()},m:function(n,r){t&&t.m(n,r),S(n,e,r)},p:function(n,r){n[4].exiting?t?t.p(n,r):(t=oi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d:function(n){t&&t.d(n),n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ni.name,type:"if",source:"(61:2) {#if $planetState}",ctx:i}),l}function oi(i){let e,t,l,o,n,r=tt(i[4].exitTimeLeft)+"",s;const a={c:function(){e=E("div"),t=E("p"),l=I("Exiting in:"),o=L(),n=E("p"),s=I(r),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);t=$(f,"P",{class:!0});var m=k(t);l=R(m,"Exiting in:"),m.forEach(d),o=j(f),n=$(f,"P",{class:!0});var p=k(n);s=R(p,r),p.forEach(d),f.forEach(d),this.h()},h:function(){h(t,"class","p-0 mb-1"),v(t,kt,68,8,3320),h(n,"class","p-0 mb-1"),v(n,kt,69,8,3364),h(e,"class","m-1 w-26 md:w-36 flex justify-between text-red-400"),v(e,kt,67,6,3247)},m:function(u,f){S(u,e,f),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s)},p:function(u,f){f&16&&r!==(r=tt(u[4].exitTimeLeft)+"")&&he(s,r)},d:function(u){u&&d(e)}};return B("SvelteRegisterBlock",{block:a,id:oi.name,type:"if",source:"(67:4) {#if $planetState.exiting}",ctx:i}),a}function ha(i){let e,t,l,o,n,r,s,a=i[1].stats.cap+"",c,u,f;o=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[_a]},$$scope:{ctx:i}},$$inline:!0});const m={c:function(){e=E("div"),t=E("p"),l=I(`Capacity
        `),U(o.$$.fragment),n=I(":"),r=L(),s=E("p"),c=I(a),this.h()},l:function(g){e=$(g,"DIV",{class:!0});var b=k(e);t=$(b,"P",{class:!0});var w=k(t);l=R(w,`Capacity
        `),G(o.$$.fragment,w),n=R(w,":"),w.forEach(d),r=j(b),s=$(b,"P",{class:!0});var y=k(s);c=R(y,a),y.forEach(d),b.forEach(d),this.h()},h:function(){h(t,"class","p-0 mb-1 text-white"),v(t,kt,94,6,4200),h(s,"class",u=`p-0 mb-1${i[3]?" text-red-600":" text-white"}`),v(s,kt,102,6,4576),h(e,"class","m-1 w-26 md:w-36 flex justify-between text-white"),v(e,kt,93,4,4129)},m:function(g,b){S(g,e,b),_(e,t),_(t,l),K(o,t,null),_(t,n),_(e,r),_(e,s),_(s,c),f=!0},p:function(g,b){const w={};b&4096&&(w.$$scope={dirty:b,ctx:g}),o.$set(w),(!f||b&2)&&a!==(a=g[1].stats.cap+"")&&he(c,a),(!f||b&8&&u!==(u=`p-0 mb-1${g[3]?" text-red-600":" text-white"}`))&&h(s,"class",u)},i:function(g){f||(C(o.$$.fragment,g),f=!0)},o:function(g){D(o.$$.fragment,g),f=!1},d:function(g){g&&d(e),q(o)}};return B("SvelteRegisterBlock",{block:m,id:ha.name,type:"if",source:"(93:2) {#if spaceInfo.productionCapAsDuration && spaceInfo.productionCapAsDuration > 0}",ctx:i}),m}function _a(i){let e;const t={c:function(){e=I(`The planet will stop producing planet when it carries that many spaceships. The spaceships number will
          actually decrease to reach that capacity at a rate that grow with the number of spaceship it received above
          the capacity.
        `)},l:function(o){e=R(o,`The planet will stop producing planet when it carries that many spaceships. The spaceships number will
          actually decrease to reach that capacity at a rate that grow with the number of spaceship it received above
          the capacity.
        `)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:_a.name,type:"slot",source:'(97:8) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function ga(i){let e,t,l,o,n,r,s=i[4].numSpaceships+"",a,c,u;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[va]},$$scope:{ctx:i}},$$inline:!0});const f={c:function(){e=E("p"),t=I(`Spaceships
        `),U(l.$$.fragment),n=L(),r=E("p"),a=I(s),this.h()},l:function(p){e=$(p,"P",{class:!0});var g=k(e);t=R(g,`Spaceships
        `),G(l.$$.fragment,g),g.forEach(d),n=j(p),r=$(p,"P",{class:!0});var b=k(r);a=R(b,s),b.forEach(d),this.h()},h:function(){h(e,"class",o=`p-0 mb-1 ${i[5]}`),v(e,kt,120,6,5224),h(r,"class",c=`p-0 mb-1 ${i[5]}`),v(r,kt,128,6,5614)},m:function(p,g){S(p,e,g),_(e,t),K(l,e,null),S(p,n,g),S(p,r,g),_(r,a),u=!0},p:function(p,g){const b={};g&4096&&(b.$$scope={dirty:g,ctx:p}),l.$set(b),(!u||g&32&&o!==(o=`p-0 mb-1 ${p[5]}`))&&h(e,"class",o),(!u||g&16)&&s!==(s=p[4].numSpaceships+"")&&he(a,s),(!u||g&32&&c!==(c=`p-0 mb-1 ${p[5]}`))&&h(r,"class",c)},i:function(p){u||(C(l.$$.fragment,p),u=!0)},o:function(p){D(l.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(l),p&&d(n),p&&d(r)}};return B("SvelteRegisterBlock",{block:f,id:ga.name,type:"else",source:"(120:4) {:else}",ctx:i}),f}function ba(i){let e,t,l,o,n,r=i[1].stats.natives+"",s,a;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[ka]},$$scope:{ctx:i}},$$inline:!0});const c={c:function(){e=E("p"),t=I(`Natives
        `),U(l.$$.fragment),o=L(),n=E("p"),s=I(r),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,`Natives
        `),G(l.$$.fragment,m),m.forEach(d),o=j(f),n=$(f,"P",{class:!0});var p=k(n);s=R(p,r),p.forEach(d),this.h()},h:function(){h(e,"class","p-0 mb-1"),v(e,kt,112,6,4941),h(n,"class","p-0 mb-1"),v(n,kt,118,6,5155)},m:function(f,m){S(f,e,m),_(e,t),K(l,e,null),S(f,o,m),S(f,n,m),_(n,s),a=!0},p:function(f,m){const p={};m&4096&&(p.$$scope={dirty:m,ctx:f}),l.$set(p),(!a||m&2)&&r!==(r=f[1].stats.natives+"")&&he(s,r)},i:function(f){a||(C(l.$$.fragment,f),a=!0)},o:function(f){D(l.$$.fragment,f),a=!1},d:function(f){f&&d(e),q(l),f&&d(o),f&&d(n)}};return B("SvelteRegisterBlock",{block:c,id:ba.name,type:"if",source:"(112:35) ",ctx:i}),c}function wa(i){let e,t;const l={c:function(){e=E("p"),t=I("loading ..."),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"loading ..."),r.forEach(d),this.h()},h:function(){h(e,"class","p-0 mb-1"),v(e,kt,110,6,4863)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:wa.name,type:"if",source:"(110:4) {#if !$planetState}",ctx:i}),l}function va(i){let e;const t={c:function(){e=I(`The number of spaceships present on the planet. These spaceships can be used for attacks or left on the planet
          for defense. When a planet is active, that it is, a stake has been deposited, it continuosly produce new
          spaceships.`)},l:function(o){e=R(o,`The number of spaceships present on the planet. These spaceships can be used for attacks or left on the planet
          for defense. When a planet is active, that it is, a stake has been deposited, it continuosly produce new
          spaceships.`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:va.name,type:"slot",source:'(123:8) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function ka(i){let e;const t={c:function(){e=I("When a planet is not owned by anyone, it has some natives population that need to be conquered.")},l:function(o){e=R(o,"When a planet is not owned by anyone, it has some natives population that need to be conquered.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ka.name,type:"slot",source:'(115:8) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function li(i){let e,t;e=new aa({props:{name:"Upkeep",value:i[4].travelingUpkeep,max:i[1].stats.maxTravelingUpkeep,min:-i[1].stats.maxTravelingUpkeep,$$slots:{default:[Sa]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16&&(s.value=n[4].travelingUpkeep),r&2&&(s.max=n[1].stats.maxTravelingUpkeep),r&2&&(s.min=-n[1].stats.maxTravelingUpkeep),r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:li.name,type:"if",source:"(147:2) {#if $planetState}",ctx:i}),l}function ya(i){let e;const t={c:function(){e=I(`When fleets are traveling, the planet need to keep maintaining it. When the upkeep is green you can send some
        spaceships and continue to produce at full capacity. When it is red (after sending fleets), the planet produce
        at half power until all ukeeep is paid for`)},l:function(o){e=R(o,`When fleets are traveling, the planet need to keep maintaining it. When the upkeep is green you can send some
        spaceships and continue to produce at full capacity. When it is red (after sending fleets), the planet produce
        at half power until all ukeeep is paid for`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ya.name,type:"slot",source:'(154:6) <Help class=\\"inline w-4 h-4\\"         >',ctx:i}),t}function Sa(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[ya]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Sa.name,type:"slot",source:'(148:4) <NegativeStat       name=\\"Upkeep\\"       value={$planetState.travelingUpkeep}       max={planetInfo.stats.maxTravelingUpkeep}       min={-planetInfo.stats.maxTravelingUpkeep}     >',ctx:i}),l}function Ea(i){let e,t,l,o;t=new $t({props:{class:"inline w-4"},$$inline:!0});const n={c:function(){e=I(`This is the amount of
          `),U(t.$$.fragment),l=I(`
          required to stake to produce spaceships. This is also the amount that you (or someone capturing the planet) can
          withdraw back after exiting the planet.`)},l:function(s){e=R(s,`This is the amount of
          `),G(t.$$.fragment,s),l=R(s,`
          required to stake to produce spaceships. This is also the amount that you (or someone capturing the planet) can
          withdraw back after exiting the planet.`)},m:function(s,a){S(s,e,a),K(t,s,a),S(s,l,a),o=!0},p:ae,i:function(s){o||(C(t.$$.fragment,s),o=!0)},o:function(s){D(t.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(t,s),s&&d(l)}};return B("SvelteRegisterBlock",{block:n,id:Ea.name,type:"slot",source:'(166:8) <Help class=\\"inline w-4 h-4\\">',ctx:i}),n}function $a(i){let e;const t={c:function(){e=I("This is the rate of spaceship production per hour.")},l:function(o){e=R(o,"This is the rate of spaceship production per hour.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:$a.name,type:"slot",source:'(186:4) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Pa(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[$a]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Pa.name,type:"slot",source:'(185:2) <Stat name=\\"Production\\" value={planetInfo.stats.production} max={12000} min={1500}>',ctx:i}),l}function Ba(i){let e;const t={c:function(){e=I("This is the attack strength of spaceships departing from this planet.")},l:function(o){e=R(o,"This is the attack strength of spaceships departing from this planet.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ba.name,type:"slot",source:'(189:4) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Ia(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Ba]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ia.name,type:"slot",source:'(188:2) <Stat name=\\"Attack\\" value={planetInfo.stats.attack} max={10000} min={3600}>',ctx:i}),l}function Ra(i){let e;const t={c:function(){e=I("This is the defense strength of spaceships defending this planet.")},l:function(o){e=R(o,"This is the defense strength of spaceships defending this planet.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ra.name,type:"slot",source:'(192:4) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Ta(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Ra]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ta.name,type:"slot",source:'(191:2) <Stat name=\\"Defense\\" value={planetInfo.stats.defense} max={10000} min={3600}>',ctx:i}),l}function Aa(i){let e;const t={c:function(){e=I("This is the speed at which spaceship departing from this planet travels in unit per hour.")},l:function(o){e=R(o,"This is the speed at which spaceship departing from this planet travels in unit per hour.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Aa.name,type:"slot",source:'(195:4) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Ca(i){let e,t;e=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Aa]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ca.name,type:"slot",source:'(194:2) <Stat name=\\"Speed\\" value={planetInfo.stats.speed} max={10000} min={4500}>',ctx:i}),l}function ii(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M=i[1].stats.stake/1e4+"",W,X,V,Q,z,ie,oe,ce,Z,se,ee,fe,de,we,Pe;const Ae=[fa,ua],J=[];function le(je,me){return je[4]&&je[4].owner?0:1}t=le(i),l=J[t]=Ae[t](i),r=new ys({props:{text:`${i[1].location.x},${i[1].location.y}`,$$slots:{default:[pa]},$$scope:{ctx:i}},$$inline:!0});let ge=i[4]&&ni(i),Ce=be.productionCapAsDuration&&be.productionCapAsDuration>0&&ha(i);const Re=[wa,ba,ga],Te=[];function Me(je,me){return je[4]?je[4].natives?1:2:0}g=Me(i),b=Te[g]=Re[g](i);let re=i[4]&&li(i);N=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Ea]},$$scope:{ctx:i}},$$inline:!0}),V=new $t({props:{class:"inline w-4"},$$inline:!0}),ce=new po({props:{name:"Production",value:i[1].stats.production,max:12e3,min:1500,$$slots:{default:[Pa]},$$scope:{ctx:i}},$$inline:!0}),se=new po({props:{name:"Attack",value:i[1].stats.attack,max:1e4,min:3600,$$slots:{default:[Ia]},$$scope:{ctx:i}},$$inline:!0}),fe=new po({props:{name:"Defense",value:i[1].stats.defense,max:1e4,min:3600,$$slots:{default:[Ta]},$$scope:{ctx:i}},$$inline:!0}),we=new po({props:{name:"Speed",value:i[1].stats.speed,max:1e4,min:4500,$$slots:{default:[Ca]},$$scope:{ctx:i}},$$inline:!0});const Ve={c:function(){e=E("div"),l.c(),o=L(),n=E("p"),U(r.$$.fragment),s=L(),a=E("div"),c=L(),u=E("div"),ge&&ge.c(),f=L(),Ce&&Ce.c(),m=L(),p=E("div"),b.c(),y=L(),re&&re.c(),P=L(),A=E("div"),T=E("div"),O=E("p"),F=I(`Stake
        `),U(N.$$.fragment),Y=L(),H=E("p"),W=I(M),X=L(),U(V.$$.fragment),Q=L(),z=E("div"),ie=E("div"),oe=L(),U(ce.$$.fragment),Z=L(),U(se.$$.fragment),ee=L(),U(fe.$$.fragment),de=L(),U(we.$$.fragment),this.h()},l:function(me){e=$(me,"DIV",{class:!0});var x=k(e);l.l(x),x.forEach(d),o=j(me),n=$(me,"P",{class:!0});var ue=k(n);G(r.$$.fragment,ue),ue.forEach(d),s=j(me),a=$(me,"DIV",{class:!0}),k(a).forEach(d),c=j(me),u=$(me,"DIV",{class:!0});var Ke=k(u);ge&&ge.l(Ke),f=j(Ke),Ce&&Ce.l(Ke),m=j(Ke),p=$(Ke,"DIV",{class:!0});var at=k(p);b.l(at),at.forEach(d),y=j(Ke),re&&re.l(Ke),P=j(Ke),A=$(Ke,"DIV",{class:!0});var _e=k(A);T=$(_e,"DIV",{class:!0});var Se=k(T);O=$(Se,"P",{class:!0});var Oe=k(O);F=R(Oe,`Stake
        `),G(N.$$.fragment,Oe),Oe.forEach(d),Y=j(Se),H=$(Se,"P",{class:!0});var De=k(H);W=R(De,M),X=j(De),G(V.$$.fragment,De),De.forEach(d),Q=j(Se),z=$(Se,"DIV",{class:!0});var Ue=k(z);ie=$(Ue,"DIV",{class:!0,style:!0}),k(ie).forEach(d),Ue.forEach(d),Se.forEach(d),_e.forEach(d),oe=j(Ke),G(ce.$$.fragment,Ke),Z=j(Ke),G(se.$$.fragment,Ke),ee=j(Ke),G(fe.$$.fragment,Ke),de=j(Ke),G(we.$$.fragment,Ke),Ke.forEach(d),this.h()},h:function(){var me;h(e,"class","flex m-1"),v(e,kt,30,0,1635),h(n,"class","flex-auto text-center -m-2 font-bold text-white"),v(n,kt,48,0,2504),h(a,"class","w-full h-1 bg-cyan-300 my-2"),v(a,kt,57,0,2944),h(p,"class",w="m-1 w-26 md:w-36 flex justify-between"+(((me=i[4])==null?void 0:me.active)?" text-green-400":" text-gray-400")),v(p,kt,108,2,4715),h(O,"class","p-0 mb-1"),v(O,kt,163,6,6911),h(H,"class","float-right relative -top-6"),v(H,kt,172,6,7263),h(ie,"class","w-full h-3 rounded-md bg-yellow-400"),Je(ie,"width",Math.floor(i[1].stats.stake/1e4*100/72)+"%"),v(ie,kt,177,8,7457),h(z,"class","box-border rounded-md bg-gray-600"),v(z,kt,176,6,7401),h(T,"class","w-full box-border"),v(T,kt,162,4,6873),h(A,"class","m-1 w-26 md:w-36 text-yellow-400 "),v(A,kt,161,2,6821),h(u,"class","m-2 text-xs "),v(u,kt,59,0,2989)},m:function(me,x){S(me,e,x),J[t].m(e,null),S(me,o,x),S(me,n,x),K(r,n,null),S(me,s,x),S(me,a,x),S(me,c,x),S(me,u,x),ge&&ge.m(u,null),_(u,f),Ce&&Ce.m(u,null),_(u,m),_(u,p),Te[g].m(p,null),_(u,y),re&&re.m(u,null),_(u,P),_(u,A),_(A,T),_(T,O),_(O,F),K(N,O,null),_(T,Y),_(T,H),_(H,W),_(H,X),K(V,H,null),_(T,Q),_(T,z),_(z,ie),_(u,oe),K(ce,u,null),_(u,Z),K(se,u,null),_(u,ee),K(fe,u,null),_(u,de),K(we,u,null),Pe=!0},p:function(me,[x]){var it;let ue=t;t=le(me),t===ue?J[t].p(me,x):(Ee(),D(J[ue],1,1,()=>{J[ue]=null}),$e(),l=J[t],l?l.p(me,x):(l=J[t]=Ae[t](me),l.c()),C(l,1),l.m(e,null));const Ke={};x&2&&(Ke.text=`${me[1].location.x},${me[1].location.y}`),x&4114&&(Ke.$$scope={dirty:x,ctx:me}),r.$set(Ke),me[4]?ge?ge.p(me,x):(ge=ni(me),ge.c(),ge.m(u,f)):ge&&(ge.d(1),ge=null),be.productionCapAsDuration&&be.productionCapAsDuration>0&&Ce.p(me,x);let at=g;g=Me(me),g===at?Te[g].p(me,x):(Ee(),D(Te[at],1,1,()=>{Te[at]=null}),$e(),b=Te[g],b?b.p(me,x):(b=Te[g]=Re[g](me),b.c()),C(b,1),b.m(p,null)),(!Pe||x&16&&w!==(w="m-1 w-26 md:w-36 flex justify-between"+(((it=me[4])==null?void 0:it.active)?" text-green-400":" text-gray-400")))&&h(p,"class",w),me[4]?re?(re.p(me,x),x&16&&C(re,1)):(re=li(me),re.c(),C(re,1),re.m(u,P)):re&&(Ee(),D(re,1,1,()=>{re=null}),$e());const _e={};x&4096&&(_e.$$scope={dirty:x,ctx:me}),N.$set(_e),(!Pe||x&2)&&M!==(M=me[1].stats.stake/1e4+"")&&he(W,M),(!Pe||x&2)&&Je(ie,"width",Math.floor(me[1].stats.stake/1e4*100/72)+"%");const Se={};x&2&&(Se.value=me[1].stats.production),x&4096&&(Se.$$scope={dirty:x,ctx:me}),ce.$set(Se);const Oe={};x&2&&(Oe.value=me[1].stats.attack),x&4096&&(Oe.$$scope={dirty:x,ctx:me}),se.$set(Oe);const De={};x&2&&(De.value=me[1].stats.defense),x&4096&&(De.$$scope={dirty:x,ctx:me}),fe.$set(De);const Ue={};x&2&&(Ue.value=me[1].stats.speed),x&4096&&(Ue.$$scope={dirty:x,ctx:me}),we.$set(Ue)},i:function(me){Pe||(C(l),C(r.$$.fragment,me),C(Ce),C(b),C(re),C(N.$$.fragment,me),C(V.$$.fragment,me),C(ce.$$.fragment,me),C(se.$$.fragment,me),C(fe.$$.fragment,me),C(we.$$.fragment,me),Pe=!0)},o:function(me){D(l),D(r.$$.fragment,me),D(Ce),D(b),D(re),D(N.$$.fragment,me),D(V.$$.fragment,me),D(ce.$$.fragment,me),D(se.$$.fragment,me),D(fe.$$.fragment,me),D(we.$$.fragment,me),Pe=!1},d:function(me){me&&d(e),J[t].d(),me&&d(o),me&&d(n),q(r),me&&d(s),me&&d(a),me&&d(c),me&&d(u),ge&&ge.d(),Ce&&Ce.d(),Te[g].d(),re&&re.d(),q(N),q(V),q(ce),q(se),q(fe),q(we)}};return B("SvelteRegisterBlock",{block:Ve,id:ii.name,type:"component",source:"",ctx:i}),Ve}function Uh(i,e,t){let l,o,n,r,s,a,c=ae,u=()=>(c(),c=tn(w,T=>t(4,a=T)),w),f;ve(St,"wallet"),ke(i,St,T=>t(10,f=T)),i.$$.on_destroy.push(()=>c());let{$$slots:m={},$$scope:p}=e;He("PlanetStats",m,[]);var g,b;let{planetState:w}=e;ve(w,"planetState"),u();let{planetInfo:y}=e,{copiedDirection:P="right"}=e;const A=["planetState","planetInfo","copiedDirection"];return Object.keys(e).forEach(T=>{!~A.indexOf(T)&&T.slice(0,2)!=="$$"&&T!=="slot"&&console.warn(`<PlanetStats> was created with unknown prop '${T}'`)}),i.$$set=T=>{"planetState"in T&&u(t(0,w=T.planetState)),"planetInfo"in T&&t(1,y=T.planetInfo),"copiedDirection"in T&&t(2,P=T.copiedDirection)},i.$capture_state=()=>({_a:g,_b:b,planetState:w,planetInfo:y,copiedDirection:P,Blockie:mn,Stat:po,PlayCoin:$t,timeToText:tt,Help:Pt,NegativeStat:aa,wallet:St,spaceInfo:be,Copiable:ys,capacityReached:r,productionColor:s,walletIsOwner:l,frameBGColor:n,textColor:o,$planetState:a,$wallet:f}),i.$inject_state=T=>{"_a"in T&&t(7,g=T._a),"_b"in T&&t(8,b=T._b),"planetState"in T&&u(t(0,w=T.planetState)),"planetInfo"in T&&t(1,y=T.planetInfo),"copiedDirection"in T&&t(2,P=T.copiedDirection),"capacityReached"in T&&t(3,r=T.capacityReached),"productionColor"in T&&t(5,s=T.productionColor),"walletIsOwner"in T&&t(9,l=T.walletIsOwner),"frameBGColor"in T&&(n=T.frameBGColor),"textColor"in T&&t(6,o=T.textColor)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1424&&t(9,l=f.address&&(t(7,g=f.address)===null||g===void 0?void 0:g.toLowerCase())===(t(8,b=a==null?void 0:a.owner)===null||b===void 0?void 0:b.toLowerCase())),i.$$.dirty&528&&t(6,o=a&&a.owner?l?"text-green-500":"text-red-500":"text-gray-100"),i.$$.dirty&528&&(n=a&&a.owner?l?"bg-cyan-300":"bg-red-500":"bg-cyan-300"),i.$$.dirty&18&&t(3,r=a?be.productionCapAsDuration&&be.productionCapAsDuration>0&&a.numSpaceships>=y.stats.cap:!1),i.$$.dirty&24&&t(5,s=r||!(a==null?void 0:a.active)?" text-red-600":(a==null?void 0:a.travelingUpkeep)>0?"text-amber-500":"text-green-500")},[w,y,P,r,a,s,o,g,b,l,f]}class Fo extends We{constructor(e){super(e);Ye(this,e,Uh,ii,ze,{planetState:0,planetInfo:1,copiedDirection:2}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetStats",options:e,id:ii.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("planetState"in l)&&console.warn("<PlanetStats> was created without expected prop 'planetState'"),t[1]===void 0&&!("planetInfo"in l)&&console.warn("<PlanetStats> was created without expected prop 'planetInfo'")}get planetState(){throw new Error("<PlanetStats>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planetState(e){throw new Error("<PlanetStats>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get planetInfo(){throw new Error("<PlanetStats>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planetInfo(e){throw new Error("<PlanetStats>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get copiedDirection(){throw new Error("<PlanetStats>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set copiedDirection(e){throw new Error("<PlanetStats>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Oa="src/lib/components/planets/PlanetInfoPanel.svelte";function ri(i){let e,t,l,o,n,r,s;t=new Fo({props:{planetState:i[2],planetInfo:i[1]},$$inline:!0}),r=new ra({props:{close:i[3],coords:i[0]},$$inline:!0});const a={c:function(){e=E("div"),U(t.$$.fragment),l=L(),o=E("div"),n=L(),U(r.$$.fragment),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);G(t.$$.fragment,f),l=j(f),o=$(f,"DIV",{class:!0}),k(o).forEach(d),n=j(f),G(r.$$.fragment,f),f.forEach(d),this.h()},h:function(){h(o,"class","w-full h-1 bg-cyan-300 mt-4 mb-2"),v(o,Oa,17,2,655),h(e,"class","absolute inline-block w-36 md:w-48 bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 m-4 text-sm"),v(e,Oa,13,0,479)},m:function(u,f){S(u,e,f),K(t,e,null),_(e,l),_(e,o),_(e,n),K(r,e,null),s=!0},p:function(u,[f]){const m={};f&4&&(m.planetState=u[2]),f&2&&(m.planetInfo=u[1]),t.$set(m);const p={};f&1&&(p.coords=u[0]),r.$set(p)},i:function(u){s||(C(t.$$.fragment,u),C(r.$$.fragment,u),s=!0)},o:function(u){D(t.$$.fragment,u),D(r.$$.fragment,u),s=!1},d:function(u){u&&d(e),q(t),q(r)}};return B("SvelteRegisterBlock",{block:a,id:ri.name,type:"component",source:"",ctx:i}),a}function Gh(i,e,t){let l,o,{$$slots:n={},$$scope:r}=e;He("PlanetInfoPanel",n,[]);let{coords:s}=e;function a(){pt.unselect()}const c=["coords"];return Object.keys(e).forEach(u=>{!~c.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<PlanetInfoPanel> was created with unknown prop '${u}'`)}),i.$$set=u=>{"coords"in u&&t(0,s=u.coords)},i.$capture_state=()=>({planets:vt,spaceInfo:be,PlanetActionPanel:ra,selection:pt,PlanetStats:Fo,coords:s,close:a,planetInfo:l,planetState:o}),i.$inject_state=u=>{"coords"in u&&t(0,s=u.coords),"planetInfo"in u&&t(1,l=u.planetInfo),"planetState"in u&&t(2,o=u.planetState)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&t(1,l=be.getPlanetInfo(s.x,s.y)),i.$$.dirty&2&&t(2,o=vt.planetStateFor(l))},[s,l,o,a]}class Da extends We{constructor(e){super(e);Ye(this,e,Gh,ri,ze,{coords:0}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetInfoPanel",options:e,id:ri.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("coords"in l)&&console.warn("<PlanetInfoPanel> was created without expected prop 'coords'")}get coords(){throw new Error("<PlanetInfoPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set coords(e){throw new Error("<PlanetInfoPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function xn(i){const e=t=>{i&&!i.contains(t.target)&&!t.defaultPrevented&&i.dispatchEvent(new CustomEvent("click_outside",i))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}const jn="src/lib/components/planets/PlanetsListPanel.svelte";function Fa(i,e,t){const l=i.slice();return l[6]=e[t],l}function si(i){let e;function t(r,s){return r[1].length?La:Na}let l=t(i),o=l(i);const n={c:function(){e=E("div"),o.c(),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);o.l(a),a.forEach(d),this.h()},h:function(){h(e,"class","top-0 md:p-3 text-center md:absolute bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 md:mt-16 text-sm s-43rP2Tt_bsHS"),v(e,jn,18,4,785)},m:function(s,a){S(s,e,a),o.m(e,null)},p:function(s,a){l===(l=t(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null)))},d:function(s){s&&d(e),o.d()}};return B("SvelteRegisterBlock",{block:n,id:si.name,type:"if",source:"(18:2) {#if isToggled}",ctx:i}),n}function Na(i){let e,t;const l={c:function(){e=E("h4"),t=I("No planets yet"),this.h()},l:function(n){e=$(n,"H4",{style:!0,class:!0});var r=k(e);t=R(r,"No planets yet"),r.forEach(d),this.h()},h:function(){Je(e,"margin","10px 0"),h(e,"class","s-43rP2Tt_bsHS"),v(e,jn,30,8,1271)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Na.name,type:"else",source:"(30:6) {:else}",ctx:i}),l}function La(i){let e,t=i[1];mt(t);let l=[];for(let n=0;n<t.length;n+=1)l[n]=ci(Fa(i,t,n));const o={c:function(){e=E("ul");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l:function(r){e=$(r,"UL",{class:!0,style:!0});var s=k(e);for(let a=0;a<l.length;a+=1)l[a].l(s);s.forEach(d),this.h()},h:function(){h(e,"class","overflow-auto max-h-32 px-3 s-43rP2Tt_bsHS"),Je(e,"cursor","pointer"),v(e,jn,22,8,969)},m:function(r,s){S(r,e,s);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p:function(r,s){if(s&6){t=r[1],mt(t);let a;for(a=0;a<t.length;a+=1){const c=Fa(r,t,a);l[a]?l[a].p(c,s):(l[a]=ci(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d:function(r){r&&d(e),Kt(l,r)}};return B("SvelteRegisterBlock",{block:o,id:La.name,type:"if",source:"(22:6) {#if $myplanetInfos.length}",ctx:i}),o}function ci(i){let e,t,l=i[6].stats.name+"",o,n,r,s;function a(){return i[4](i[6])}const c={c:function(){e=E("li"),t=I("* "),o=I(l),n=L(),this.h()},l:function(f){e=$(f,"LI",{class:!0});var m=k(e);t=R(m,"* "),o=R(m,l),n=j(m),m.forEach(d),this.h()},h:function(){h(e,"class","text-yellow-300 my-4 s-43rP2Tt_bsHS"),v(e,jn,24,12,1090)},m:function(f,m){S(f,e,m),_(e,t),_(e,o),_(e,n),r||(s=Ze(e,"click",a,!1,!1,!1),r=!0)},p:function(f,m){i=f,m&2&&l!==(l=i[6].stats.name+"")&&he(o,l)},d:function(f){f&&d(e),r=!1,s()}};return B("SvelteRegisterBlock",{block:c,id:ci.name,type:"each",source:"(24:10) {#each $myplanetInfos as planet}",ctx:i}),c}function ai(i){let e,t,l,o,n,r,s,a=i[0]&&si(i);const c={c:function(){e=E("div"),t=E("div"),l=E("button"),o=I("My planets"),n=L(),a&&a.c(),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=$(m,"DIV",{class:!0});var p=k(t);l=$(p,"BUTTON",{class:!0});var g=k(l);o=R(g,"My planets"),g.forEach(d),p.forEach(d),n=j(m),a&&a.l(m),m.forEach(d),this.h()},h:function(){h(l,"class","text-white md:w-full s-43rP2Tt_bsHS"),v(l,jn,15,4,655),h(t,"class","top-0 md:p-3 p-1 w-32 text-center relative bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 md:mt-4 text-sm s-43rP2Tt_bsHS"),v(t,jn,12,2,506),h(e,"class","flex-col s-43rP2Tt_bsHS"),v(e,jn,11,0,419)},m:function(f,m){S(f,e,m),_(e,t),_(t,l),_(l,o),_(e,n),a&&a.m(e,null),r||(s=[Ze(l,"click",i[3],!1,!1,!1),Vo(xn.call(null,e)),Ze(e,"click_outside",i[5],!1,!1,!1)],r=!0)},p:function(f,[m]){f[0]?a?a.p(f,m):(a=si(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ae,o:ae,d:function(f){f&&d(e),a&&a.d(),r=!1,_n(s)}};return B("SvelteRegisterBlock",{block:c,id:ai.name,type:"component",source:"",ctx:i}),c}function Kh(i,e,t){let l;ve(Ho,"myplanetInfos"),ke(i,Ho,m=>t(1,l=m));let{$$slots:o={},$$scope:n}=e;He("PlanetsListPanel",o,[]);let r=!1;function s(m){pt.select(m.location.x,m.location.y),xe.navigate(m.location.globalX,m.location.globalY,10)}const a=[];Object.keys(e).forEach(m=>{!~a.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<PlanetsListPanel> was created with unknown prop '${m}'`)});const c=()=>t(0,r=!r),u=m=>s(m),f=()=>t(0,r=!1);return i.$capture_state=()=>({myplanetInfos:Ho,clickOutside:xn,camera:xe,selection:pt,isToggled:r,onPlanetSelect:s,$myplanetInfos:l}),i.$inject_state=m=>{"isToggled"in m&&t(0,r=m.isToggled)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[r,l,s,c,u,f]}class ja extends We{constructor(e){super(e);Ye(this,e,Kh,ai,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetsListPanel",options:e,id:ai.name})}}const Vn="src/lib/components/fleets/FleetsList.svelte";function Va(i,e,t){const l=i.slice();return l[10]=e[t],l}function ui(i){let e;function t(r,s){return r[1].fleets.length?Wa:Ma}let l=t(i),o=l(i);const n={c:function(){e=E("div"),o.c(),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);o.l(a),a.forEach(d),this.h()},h:function(){h(e,"class","top-0 md:p-3 text-center md:absolute bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 md:mt-16 text-sm s-vC3W1bjcr3C_"),v(e,Vn,25,4,1667)},m:function(s,a){S(s,e,a),o.m(e,null)},p:function(s,a){l===(l=t(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null)))},d:function(s){s&&d(e),o.d()}};return B("SvelteRegisterBlock",{block:n,id:ui.name,type:"if",source:"(25:2) {#if isToggled}",ctx:i}),n}function Ma(i){let e,t;const l={c:function(){e=E("h4"),t=I("No fleets yet"),this.h()},l:function(n){e=$(n,"H4",{style:!0,class:!0});var r=k(e);t=R(r,"No fleets yet"),r.forEach(d),this.h()},h:function(){Je(e,"margin","10px 0"),h(e,"class","s-vC3W1bjcr3C_"),v(e,Vn,40,8,2306)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Ma.name,type:"else",source:"(40:6) {:else}",ctx:i}),l}function Wa(i){let e,t=i[1].fleets;mt(t);let l=[];for(let n=0;n<t.length;n+=1)l[n]=di(Va(i,t,n));const o={c:function(){e=E("ul");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l:function(r){e=$(r,"UL",{class:!0,style:!0});var s=k(e);for(let a=0;a<l.length;a+=1)l[a].l(s);s.forEach(d),this.h()},h:function(){h(e,"class","overflow-auto max-h-32 px-1 md:px-3 w-48 md:w-auto s-vC3W1bjcr3C_"),Je(e,"cursor","pointer"),v(e,Vn,29,8,1854)},m:function(r,s){S(r,e,s);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p:function(r,s){if(s&6){t=r[1].fleets,mt(t);let a;for(a=0;a<t.length;a+=1){const c=Va(r,t,a);l[a]?l[a].p(c,s):(l[a]=di(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d:function(r){r&&d(e),Kt(l,r)}};return B("SvelteRegisterBlock",{block:o,id:Wa.name,type:"if",source:"(29:6) {#if $fleetList.fleets.length}",ctx:i}),o}function fi(i){let e;const t={c:function(){e=I("(GIFT)")},l:function(o){e=R(o,"(GIFT)")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:fi.name,type:"if",source:"(34:14) {#if fleet.gift}",ctx:i}),t}function di(i){let e,t,l=i[10].from.stats.name+"",o,n,r=i[10].to.stats.name+"",s,a,c,u,f,m=i[10].gift&&fi(i);function p(){return i[8](i[10])}const g={c:function(){e=E("li"),t=I("* "),o=I(l),n=I(" to "),s=I(r),a=L(),m&&m.c(),c=L(),this.h()},l:function(w){e=$(w,"LI",{style:!0,class:!0});var y=k(e);t=R(y,"* "),o=R(y,l),n=R(y," to "),s=R(y,r),a=j(y),m&&m.l(y),c=j(y),y.forEach(d),this.h()},h:function(){Je(e,"display","block"),h(e,"class","text-yellow-300 my-3 s-vC3W1bjcr3C_"),v(e,Vn,31,12,2e3)},m:function(w,y){S(w,e,y),_(e,t),_(e,o),_(e,n),_(e,s),_(e,a),m&&m.m(e,null),_(e,c),u||(f=Ze(e,"click",p,!1,!1,!1),u=!0)},p:function(w,y){i=w,y&2&&l!==(l=i[10].from.stats.name+"")&&he(o,l),y&2&&r!==(r=i[10].to.stats.name+"")&&he(s,r),i[10].gift?m||(m=fi(i),m.c(),m.m(e,c)):m&&(m.d(1),m=null)},d:function(w){w&&d(e),m&&m.d(),u=!1,f()}};return B("SvelteRegisterBlock",{block:g,id:di.name,type:"each",source:"(31:10) {#each $fleetList.fleets as fleet}",ctx:i}),g}function mi(i){let e,t,l,o,n,r,s,a=i[0]&&ui(i);const c={c:function(){e=E("div"),t=E("div"),l=E("button"),o=I("My fleets"),n=L(),a&&a.c(),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=$(m,"DIV",{class:!0});var p=k(t);l=$(p,"BUTTON",{class:!0});var g=k(l);o=R(g,"My fleets"),g.forEach(d),p.forEach(d),n=j(m),a&&a.l(m),m.forEach(d),this.h()},h:function(){h(l,"class","text-white md:w-full s-vC3W1bjcr3C_"),v(l,Vn,22,4,1538),h(t,"class","top-0 md:p-3 p-1 w-32 text-center relative bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 mt-4 text-sm s-vC3W1bjcr3C_"),v(t,Vn,19,2,1391),h(e,"class","flex-col s-vC3W1bjcr3C_"),v(e,Vn,18,0,1304)},m:function(f,m){S(f,e,m),_(e,t),_(t,l),_(l,o),_(e,n),a&&a.m(e,null),r||(s=[Ze(l,"click",i[7],!1,!1,!1),Vo(xn.call(null,e)),Ze(e,"click_outside",i[9],!1,!1,!1)],r=!0)},p:function(f,[m]){f[0]?a?a.p(f,m):(a=ui(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ae,o:ae,d:function(f){f&&d(e),a&&a.d(),r=!1,_n(s)}};return B("SvelteRegisterBlock",{block:c,id:mi.name,type:"component",source:"",ctx:i}),c}function qh(i,e,t){let l,o,n,r;ve(Yt,"fleetList"),ke(i,Yt,w=>t(1,r=w));let{$$slots:s={},$$scope:a}=e;He("FleetsList",s,[]);let c=!1,u;function f(w){t(3,u=w)}const m=[];Object.keys(e).forEach(w=>{!~m.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<FleetsList> was created with unknown prop '${w}'`)});const p=()=>t(0,c=!c),g=w=>f(w),b=()=>t(0,c=!1);return i.$capture_state=()=>({fleetList:Yt,clickOutside:xn,camera:xe,isToggled:c,selectedFleet:u,onFleetSelect:f,y:n,x:o,ratio:l,$fleetList:r}),i.$inject_state=w=>{"isToggled"in w&&t(0,c=w.isToggled),"selectedFleet"in w&&t(3,u=w.selectedFleet),"y"in w&&t(4,n=w.y),"x"in w&&t(5,o=w.x),"ratio"in w&&t(6,l=w.ratio)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&8&&t(6,l=Math.max(0,((u==null?void 0:u.duration)-(u==null?void 0:u.timeLeft))/(u==null?void 0:u.duration))),i.$$.dirty&72&&t(5,o=(u==null?void 0:u.from.location.globalX)+((u==null?void 0:u.to.location.globalX)-(u==null?void 0:u.from.location.globalX))*l),i.$$.dirty&72&&t(4,n=(u==null?void 0:u.from.location.globalY)+((u==null?void 0:u.to.location.globalY)-(u==null?void 0:u.from.location.globalY))*l),i.$$.dirty&56&&u&&xe.navigate(Math.floor(o),Math.floor(n),10)},[c,r,f,u,n,o,l,p,g,b]}class Ya extends We{constructor(e){super(e);Ye(this,e,qh,mi,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"FleetsList",options:e,id:mi.name})}}const Bn="src/lib/components/events/EventsList.svelte";function za(i,e,t){const l=i.slice();return l[10]=e[t],l}function pi(i){let e;function t(r,s){return r[0].length>0?Xa:Ha}let l=t(i),o=l(i);const n={c:function(){e=E("div"),o.c(),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);o.l(a),a.forEach(d),this.h()},h:function(){h(e,"class","top-0 md:p-3 text-center md:absolute bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 md:mt-16 text-sm s-kJo4eLOA7npj"),v(e,Bn,54,4,2e3)},m:function(s,a){S(s,e,a),o.m(e,null)},p:function(s,a){l===(l=t(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null)))},d:function(s){s&&d(e),o.d()}};return B("SvelteRegisterBlock",{block:n,id:pi.name,type:"if",source:"(54:2) {#if isToggled}",ctx:i}),n}function Ha(i){let e,t;const l={c:function(){e=E("h4"),t=I("No events yet"),this.h()},l:function(n){e=$(n,"H4",{style:!0,class:!0});var r=k(e);t=R(r,"No events yet"),r.forEach(d),this.h()},h:function(){Je(e,"margin","10px 0"),h(e,"class","s-kJo4eLOA7npj"),v(e,Bn,72,8,2940)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Ha.name,type:"else",source:"(72:6) {:else}",ctx:i}),l}function Xa(i){let e,t=i[0];mt(t);let l=[];for(let n=0;n<t.length;n+=1)l[n]=hi(za(i,t,n));const o={c:function(){e=E("ul");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l:function(r){e=$(r,"UL",{class:!0,style:!0});var s=k(e);for(let a=0;a<l.length;a+=1)l[a].l(s);s.forEach(d),this.h()},h:function(){h(e,"class","overflow-auto max-h-32 w-48 s-kJo4eLOA7npj"),Je(e,"cursor","pointer"),v(e,Bn,58,8,2188)},m:function(r,s){S(r,e,s);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p:function(r,s){if(s&17){t=r[0],mt(t);let a;for(a=0;a<t.length;a+=1){const c=za(r,t,a);l[a]?l[a].p(c,s):(l[a]=hi(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d:function(r){r&&d(e),Kt(l,r)}};return B("SvelteRegisterBlock",{block:o,id:Xa.name,type:"if",source:"(58:6) {#if planetEvents.length > 0}",ctx:i}),o}function Ua(i){let e,t,l=be.getPlanetInfoViaId(i[10].location).stats.name+"",o,n,r=i[10].length+"",s,a,c,u;function f(){return i[8](i[10])}const m={c:function(){e=E("li"),t=I("* "),o=I(l),n=I(" ("),s=I(r),a=I(`)
              `),this.h()},l:function(g){e=$(g,"LI",{style:!0,class:!0});var b=k(e);t=R(b,"* "),o=R(b,l),n=R(b," ("),s=R(b,r),a=R(b,`)
              `),b.forEach(d),this.h()},h:function(){Je(e,"width","100%"),h(e,"class","text-green-600 my-3 s-kJo4eLOA7npj"),v(e,Bn,65,14,2638)},m:function(g,b){S(g,e,b),_(e,t),_(e,o),_(e,n),_(e,s),_(e,a),c||(u=Ze(e,"click",f,!1,!1,!1),c=!0)},p:function(g,b){i=g,b&1&&l!==(l=be.getPlanetInfoViaId(i[10].location).stats.name+"")&&he(o,l),b&1&&r!==(r=i[10].length+"")&&he(s,r)},d:function(g){g&&d(e),c=!1,u()}};return B("SvelteRegisterBlock",{block:m,id:Ua.name,type:"else",source:"(65:12) {:else}",ctx:i}),m}function Ga(i){let e,t,l=be.getPlanetInfoViaId(i[10].location).stats.name+"",o,n,r=i[10].length+"",s,a,c,u;function f(){return i[7](i[10])}const m={c:function(){e=E("li"),t=I("* An error ocured on planet "),o=I(l),n=I(" ("),s=I(r),a=I(`)
              `),this.h()},l:function(g){e=$(g,"LI",{style:!0,class:!0});var b=k(e);t=R(b,"* An error ocured on planet "),o=R(b,l),n=R(b," ("),s=R(b,r),a=R(b,`)
              `),b.forEach(d),this.h()},h:function(){Je(e,"width","100%"),h(e,"class","text-red-300 my-3 s-kJo4eLOA7npj"),v(e,Bn,61,14,2350)},m:function(g,b){S(g,e,b),_(e,t),_(e,o),_(e,n),_(e,s),_(e,a),c||(u=Ze(e,"click",f,!1,!1,!1),c=!0)},p:function(g,b){i=g,b&1&&l!==(l=be.getPlanetInfoViaId(i[10].location).stats.name+"")&&he(o,l),b&1&&r!==(r=i[10].length+"")&&he(s,r)},d:function(g){g&&d(e),c=!1,u()}};return B("SvelteRegisterBlock",{block:m,id:Ga.name,type:"if",source:"(61:12) {#if planetEvent.error}",ctx:i}),m}function hi(i){let e;function t(r,s){return r[10].error?Ga:Ua}let l=t(i),o=l(i);const n={c:function(){o.c(),e=pe()},l:function(s){o.l(s),e=pe()},m:function(s,a){o.m(s,a),S(s,e,a)},p:function(s,a){l===(l=t(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e.parentNode,e)))},d:function(s){o.d(s),s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:hi.name,type:"each",source:"(60:10) {#each planetEvents as planetEvent}",ctx:i}),n}function _i(i){let e,t,l,o,n=i[1].length+i[2].length+"",r,s,a,c,u,f=i[3]&&pi(i);const m={c:function(){e=E("div"),t=E("div"),l=E("button"),o=I("Events ("),r=I(n),s=I(")"),a=L(),f&&f.c(),this.h()},l:function(g){e=$(g,"DIV",{class:!0});var b=k(e);t=$(b,"DIV",{class:!0});var w=k(t);l=$(w,"BUTTON",{class:!0});var y=k(l);o=R(y,"Events ("),r=R(y,n),s=R(y,")"),y.forEach(d),w.forEach(d),a=j(b),f&&f.l(b),b.forEach(d),this.h()},h:function(){h(l,"class","text-white md:w-full s-kJo4eLOA7npj"),v(l,Bn,49,4,1824),h(t,"class","top-0 md:p-3 p-1 w-32 text-center relative bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 mt-4 text-sm s-kJo4eLOA7npj"),v(t,Bn,46,2,1678),h(e,"class","flex-col s-kJo4eLOA7npj"),v(e,Bn,45,0,1591)},m:function(g,b){S(g,e,b),_(e,t),_(t,l),_(l,o),_(l,r),_(l,s),_(e,a),f&&f.m(e,null),c||(u=[Ze(l,"click",i[6],!1,!1,!1),Vo(xn.call(null,e)),Ze(e,"click_outside",i[9],!1,!1,!1)],c=!0)},p:function(g,[b]){b&6&&n!==(n=g[1].length+g[2].length+"")&&he(r,n),g[3]?f?f.p(g,b):(f=pi(g),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:ae,o:ae,d:function(g){g&&d(e),f&&f.d(),c=!1,_n(u)}};return B("SvelteRegisterBlock",{block:m,id:_i.name,type:"component",source:"",ctx:i}),m}function Qh(i,e,t){let l,o;ve(vn,"myevents"),ke(i,vn,w=>t(1,l=w)),ve(kn,"errors"),ke(i,kn,w=>t(2,o=w));let{$$slots:n={},$$scope:r}=e;He("EventsList",n,[]);let s=!1;function a(w){pt.selectViaId(w.location);const y=be.getPlanetInfoViaId(w.location);xe.navigate(y.location.globalX,y.location.globalY,10)}let c,u=[];const f=[];Object.keys(e).forEach(w=>{!~f.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<EventsList> was created with unknown prop '${w}'`)});const m=()=>t(3,s=!s),p=w=>a(w),g=w=>a(w),b=()=>t(3,s=!1);return i.$capture_state=()=>({myevents:vn,spaceInfo:be,clickOutside:xn,errors:kn,selection:pt,xyToLocation:Vt,camera:xe,isToggled:s,onPlanetEventSelected:a,planetDict:c,planetEvents:u,$myevents:l,$errors:o}),i.$inject_state=w=>{"isToggled"in w&&t(3,s=w.isToggled),"planetDict"in w&&t(5,c=w.planetDict),"planetEvents"in w&&t(0,u=w.planetEvents)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty&39){t(5,c={}),t(0,u=[]);for(let w of o){const y=Vt(w.location.x,w.location.y);let P=c[y];P===0||P>0?(t(0,u[P].error=!0,u),t(0,u[P].length++,u)):(P=u.length,u.push({location:y,error:!0,length:1}),t(5,c[y]=P,c))}for(let w of l){let y=c[w.location];y===0||y>0?t(0,u[y].length++,u):(y=u.length,u.push({location:w.location,error:!1,length:1}),t(5,c[w.location]=y,c))}}},[u,l,o,s,a,c,m,p,g,b]}class Ka extends We{constructor(e){super(e);Ye(this,e,Qh,_i,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"EventsList",options:e,id:_i.name})}}const pn="src/lib/flows/EmbeddedMintFlow.svelte";function qa(i){let e,t;e=new Le({props:{$$slots:{default:[ou]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[12]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16385&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:qa.name,type:"if",source:"(54:52) ",ctx:i}),l}function Qa(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[lu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[9]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Qa.name,type:"if",source:"(50:42) ",ctx:i}),l}function Ja(i){let e,t;e=new Le({props:{$$slots:{default:[iu]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ja.name,type:"if",source:"(47:43) ",ctx:i}),l}function Za(i){const e={c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae};return B("SvelteRegisterBlock",{block:e,id:Za.name,type:"if",source:"(45:42) ",ctx:i}),e}function xa(i){let e,t;e=new Le({props:{$$slots:{default:[ru]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16386&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:xa.name,type:"if",source:"(37:44) ",ctx:i}),l}function eu(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[cu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[7]),e.$on("confirm",i[8]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:eu.name,type:"if",source:"(24:42) ",ctx:i}),l}function tu(i){let e,t;e=new Le({props:{$$slots:{default:[uu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[5]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16386&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:tu.name,type:"if",source:"(16:0) {#if $mintFlow.error}",ctx:i}),l}function nu(i){let e;const t={c:function(){e=I("Confirm")},l:function(o){e=R(o,"Confirm")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:nu.name,type:"slot",source:'(71:6) <Button label=\\"OK\\" on:click={() => mintFlow.confirm(tokenAmountToMint)}>',ctx:i}),t}function ou(i){let e,t,l=Mo(ro.from(i[0]*10).mul("100000000000000000").mul("1000000000000000000").div(ao.contracts.PlayToken.linkedData.numTokensPerNativeTokenAt18Decimals))+"",o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A;a=new $t({props:{class:"inline w-4"},$$inline:!0}),w=new ye({props:{label:"OK",$$slots:{default:[nu]},$$scope:{ctx:i}},$$inline:!0}),w.$on("click",i[11]);const T={c:function(){e=E("p"),t=I(`

    Confirming will transform `),o=I(l),n=I(" XDAI into "),r=I(i[0]),s=L(),U(a.$$.fragment),c=L(),u=E("p"),f=I("You can adjust the amount here"),m=L(),p=E("input"),g=L(),b=E("p"),U(w.$$.fragment),this.h()},l:function(F){e=$(F,"P",{class:!0}),k(e).forEach(d),t=R(F,`

    Confirming will transform `),o=R(F,l),n=R(F," XDAI into "),r=R(F,i[0]),s=j(F),G(a.$$.fragment,F),c=j(F),u=$(F,"P",{class:!0});var N=k(u);f=R(N,"You can adjust the amount here"),N.forEach(d),m=j(F),p=$(F,"INPUT",{class:!0,step:!0,type:!0}),g=j(F),b=$(F,"P",{class:!0});var Y=k(b);G(w.$$.fragment,Y),Y.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,pn,55,4,2448),h(u,"class","m-2"),v(u,pn,65,4,2809),h(p,"class","bg-black"),h(p,"step","0.1"),h(p,"type","number"),v(p,pn,67,4,2864),h(b,"class","text-center mt-3"),v(b,pn,69,4,2952)},m:function(F,N){S(F,e,N),S(F,t,N),S(F,o,N),S(F,n,N),S(F,r,N),S(F,s,N),K(a,F,N),S(F,c,N),S(F,u,N),_(u,f),S(F,m,N),S(F,p,N),Ft(p,i[0]),S(F,g,N),S(F,b,N),K(w,b,null),y=!0,P||(A=Ze(p,"input",i[10]),P=!0)},p:function(F,N){(!y||N&1)&&l!==(l=Mo(ro.from(F[0]*10).mul("100000000000000000").mul("1000000000000000000").div(ao.contracts.PlayToken.linkedData.numTokensPerNativeTokenAt18Decimals))+"")&&he(o,l),(!y||N&1)&&he(r,F[0]),N&1&&Po(p.value)!==F[0]&&Ft(p,F[0]);const Y={};N&16384&&(Y.$$scope={dirty:N,ctx:F}),w.$set(Y)},i:function(F){y||(C(a.$$.fragment,F),C(w.$$.fragment,F),y=!0)},o:function(F){D(a.$$.fragment,F),D(w.$$.fragment,F),y=!1},d:function(F){F&&d(e),F&&d(t),F&&d(o),F&&d(n),F&&d(r),F&&d(s),q(a,F),F&&d(c),F&&d(u),F&&d(m),F&&d(p),F&&d(g),F&&d(b),q(w),P=!1,A()}};return B("SvelteRegisterBlock",{block:T,id:ou.name,type:"slot",source:"(55:2) <Modal on:close={() => mintFlow.cancel()}>",ctx:i}),T}function lu(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:lu.name,type:"slot",source:"(51:2) <Modal closeButton={true} globalCloseButton={true} closeOnOutsideClick={false} on:close={() => mintFlow.cancel(true)}>",ctx:i}),t}function iu(i){let e;const t={c:function(){e=I("Preparing the Transaction...")},l:function(o){e=R(o,"Preparing the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:iu.name,type:"slot",source:"(49:2) <Modal>",ctx:i}),t}function ru(i){let e,t,l,o;const n={c:function(){e=I("Please wait the tx to confirm... (you can also keep track of the tx : "),t=E("a"),l=I("here"),this.h()},l:function(s){e=R(s,"Please wait the tx to confirm... (you can also keep track of the tx : "),t=$(s,"A",{class:!0,href:!0,target:!0});var a=k(t);l=R(a,"here"),a.forEach(d),this.h()},h:function(){h(t,"class","underline"),h(t,"href",o=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${i[1].data.txHash}`),h(t,"target","_blank"),v(t,pn,38,75,1797)},m:function(s,a){S(s,e,a),S(s,t,a),_(t,l)},p:function(s,a){a&2&&o!==(o=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${s[1].data.txHash}`)&&h(t,"href",o)},d:function(s){s&&d(e),s&&d(t)}};return B("SvelteRegisterBlock",{block:n,id:ru.name,type:"slot",source:"(38:2) <Modal     >",ctx:i}),n}function su(i){let e;const t={c:function(){e=I("Yes")},l:function(o){e=R(o,"Yes")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:su.name,type:"slot",source:'(34:6) <Button label=\\"OK\\" on:click={() => mintFlow.cancel()}>',ctx:i}),t}function cu(i){let e,t,l,o,n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[su]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[6]);const u={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,"Are you sure to cancel ?"),g.forEach(d),o=j(p),n=$(p,"P",{class:!0});var b=k(n);r=R(b,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),b.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,pn,31,6,1409),h(n,"class","pb-4"),v(n,pn,32,6,1460),h(e,"class","text-center"),v(e,pn,30,4,1377)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&16384&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:cu.name,type:"slot",source:"(25:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => mintFlow.cancelCancelation()}     on:confirm={() => mintFlow.cancel()}   >",ctx:i}),u}function au(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:au.name,type:"slot",source:'(21:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => mintFlow.acknownledgeError()}>',ctx:i}),t}function uu(i){let e,t,l,o,n,r=Et(i[1].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[au]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[4]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned For Planet Staking"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned For Planet Staking"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,pn,18,6,928),h(n,"class","text-red-500 mt-2 text-sm"),v(n,pn,19,6,981),h(e,"class","text-center"),v(e,pn,17,4,896)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&2)&&r!==(r=Et(p[1].error)+"")&&he(s,r);const b={};g&16384&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:uu.name,type:"slot",source:"(17:2) <Modal on:close={() => mintFlow.acknownledgeError()}>",ctx:i}),f}function gi(i){let e,t,l,o;const n=[tu,eu,xa,Za,Ja,Qa,qa],r=[];function s(c,u){return c[1].error?0:c[1].cancelingConfirmation?1:c[1].step==="TX_SUBMITTED"?2:c[1].step==="CONNECTING"?3:c[1].step==="CREATING_TX"?4:c[1].step==="WAITING_TX"?5:c[1].step==="WAITING_CONFIRMATION"?6:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:gi.name,type:"component",source:"",ctx:i}),a}function Jh(i,e,t){let l;ve(Qt,"mintFlow"),ke(i,Qt,T=>t(1,l=T));let{$$slots:o={},$$scope:n}=e;He("EmbeddedMintFlow",o,[]);var r,s,a;let c=(r=l.data)===null||r===void 0?void 0:r.numTokenUnit;const u=[];Object.keys(e).forEach(T=>{!~u.indexOf(T)&&T.slice(0,2)!=="$$"&&T!=="slot"&&console.warn(`<EmbeddedMintFlow> was created with unknown prop '${T}'`)});const f=()=>Qt.acknownledgeError(),m=()=>Qt.acknownledgeError(),p=()=>Qt.cancel(),g=()=>Qt.cancelCancelation(),b=()=>Qt.cancel(),w=()=>Qt.cancel(!0);function y(){c=Po(this.value),t(0,c),t(1,l),t(2,s),t(3,a)}const P=()=>Qt.confirm(c),A=()=>Qt.cancel();return i.$capture_state=()=>({_a:r,_b:s,_c:a,Modal:Le,Button:ye,BigNumber:ro,PlayCoin:$t,formatError:Et,mintFlow:Qt,contractsInfos:ao,formatEther:Mo,tokenAmountToMint:c,$mintFlow:l}),i.$inject_state=T=>{"_a"in T&&(r=T._a),"_b"in T&&t(2,s=T._b),"_c"in T&&t(3,a=T._c),"tokenAmountToMint"in T&&t(0,c=T.tokenAmountToMint)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&15&&(t(2,s=l.data)===null||s===void 0?void 0:s.numTokenUnit)&&!c&&t(0,c=t(3,a=l.data)===null||a===void 0?void 0:a.numTokenUnit)},[c,l,s,a,f,m,p,g,b,w,y,P,A]}class fu extends We{constructor(e){super(e);Ye(this,e,Jh,gi,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"EmbeddedMintFlow",options:e,id:gi.name})}}const Ct="src/lib/flows/ClaimFlow.svelte";function du(i){let e,t;e=new Le({props:{$$slots:{default:[ku]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[27]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:du.name,type:"if",source:"(155:45) ",ctx:i}),l}function mu(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[yu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[26]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:mu.name,type:"if",source:"(146:43) ",ctx:i}),l}function pu(i){let e,t;e=new Le({props:{$$slots:{default:[Su]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:pu.name,type:"if",source:"(143:44) ",ctx:i}),l}function hu(i){let e,t;e=new Le({props:{$$slots:{default:[Ou]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[25]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536871281&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:hu.name,type:"if",source:"(65:73) ",ctx:i}),l}function _u(i){const e={c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae};return B("SvelteRegisterBlock",{block:e,id:_u.name,type:"if",source:"(63:43) ",ctx:i}),e}function gu(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[Fu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[20]),e.$on("confirm",i[21]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:gu.name,type:"if",source:"(50:43) ",ctx:i}),l}function bu(i){let e,t;e=new Le({props:{$$slots:{default:[Lu]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[18]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&536870920&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:bu.name,type:"if",source:"(42:27) ",ctx:i}),l}function wu(i){let e,t;e=new fu({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:wu.name,type:"if",source:"(40:0) {#if $mintFlow.step !== 'IDLE' && $mintFlow.step !== 'SUCCESS'}",ctx:i}),l}function vu(i){let e;const t={c:function(){e=I("Setup Profile")},l:function(o){e=R(o,"Setup Profile")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:vu.name,type:"slot",source:'(168:6) <NavButton label=\\"profile\\" href={`${base}/settings`}>',ctx:i}),t}function ku(i){let e,t,l,o,n,r,s,a,c,u,f,m;f=new Ss({props:{label:"profile",href:`${Jt}/settings`,$$slots:{default:[vu]},$$scope:{ctx:i}},$$inline:!0});const p={c:function(){e=E("p"),t=I(`Great! if all goes well (nobody attempted to capture that planet at the same time), you ll be owning your first
      planet in
      `),l=E("span"),o=I("conquest.eth"),n=I(`
      very soon!`),r=L(),s=E("p"),a=I(`You did not setup any profile info yet. We suggest you add info to your profile so other player can communicate
      with you and make plan together to conquer the universe!`),c=L(),u=E("p"),U(f.$$.fragment),this.h()},l:function(b){e=$(b,"P",{class:!0});var w=k(e);t=R(w,`Great! if all goes well (nobody attempted to capture that planet at the same time), you ll be owning your first
      planet in
      `),l=$(w,"SPAN",{class:!0});var y=k(l);o=R(y,"conquest.eth"),y.forEach(d),n=R(w,`
      very soon!`),w.forEach(d),r=j(b),s=$(b,"P",{class:!0});var P=k(s);a=R(P,`You did not setup any profile info yet. We suggest you add info to your profile so other player can communicate
      with you and make plan together to conquer the universe!`),P.forEach(d),c=j(b),u=$(b,"P",{class:!0});var A=k(u);G(f.$$.fragment,A),A.forEach(d),this.h()},h:function(){h(l,"class","text-cyan-700"),v(l,Ct,159,6,6798),h(e,"class","text-center"),v(e,Ct,156,4,6634),h(s,"class","text-center"),v(s,Ct,162,4,6876),h(u,"class","text-center mt-3"),v(u,Ct,166,4,7094)},m:function(b,w){S(b,e,w),_(e,t),_(e,l),_(l,o),_(e,n),S(b,r,w),S(b,s,w),_(s,a),S(b,c,w),S(b,u,w),K(f,u,null),m=!0},p:function(b,w){const y={};w&536870912&&(y.$$scope={dirty:w,ctx:b}),f.$set(y)},i:function(b){m||(C(f.$$.fragment,b),m=!0)},o:function(b){D(f.$$.fragment,b),m=!1},d:function(b){b&&d(e),b&&d(r),b&&d(s),b&&d(c),b&&d(u),q(f)}};return B("SvelteRegisterBlock",{block:p,id:ku.name,type:"slot",source:"(156:2) <Modal on:close={() => claimFlow.acknowledgeProfileSuggestion()}>",ctx:i}),p}function yu(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:yu.name,type:"slot",source:"(147:2) <Modal     closeButton={true}     globalCloseButton={true}     closeOnOutsideClick={false}     on:close={() => claimFlow.cancel(true)}   >",ctx:i}),t}function Su(i){let e;const t={c:function(){e=I("Preparing the Transaction...")},l:function(o){e=R(o,"Preparing the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Su.name,type:"slot",source:"(145:2) <Modal>",ctx:i}),t}function Eu(i){let e,t,l,o,n,r,s,a,c,u=i[0].name+"",f,m,p,g,b,w,y=tt(be.exitDuration,{verbose:!0})+"",P,A,T,O,F,N=(i[4]&&i[4].numSpaceshipsLeft)+"",Y,H,M=i[0].production/60+"",W,X,V,Q,z;const ie=[Ru,Iu],oe=[];function ce(se,ee){return ee&288&&(o=null),o==null&&(o=!!se[8].freePlayTokenBalance.lt(se[5].mul("100000000000000"))),o?0:1}n=ce(i,-1),r=oe[n]=ie[n](i),Q=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[Tu]},$$scope:{ctx:i}},$$inline:!0}),Q.$on("click",i[24]);const Z={c:function(){e=E("div"),t=E("h2"),l=I(`Stake
          `),r.c(),s=I(`

          to activate Planet
          `),a=E("span"),c=I('"'),f=I(u),m=I('"'),p=I("."),g=L(),b=E("p"),w=I(`You'll be able to get your stake back if you manage to exit the planet safely (this takes
          `),P=I(y),A=I(")."),T=L(),O=E("p"),F=I(`Once the tx will be mined, the planet will start with
          `),Y=I(N),H=I(`
          spaceships and will produce
          `),W=I(M),X=I(`
          spaceships per minutes.`),V=L(),U(Q.$$.fragment),this.h()},l:function(ee){e=$(ee,"DIV",{class:!0});var fe=k(e);t=$(fe,"H2",{});var de=k(t);l=R(de,`Stake
          `),r.l(de),s=R(de,`

          to activate Planet
          `),a=$(de,"SPAN",{class:!0});var we=k(a);c=R(we,'"'),f=R(we,u),m=R(we,'"'),we.forEach(d),p=R(de,"."),de.forEach(d),g=j(fe),b=$(fe,"P",{class:!0});var Pe=k(b);w=R(Pe,`You'll be able to get your stake back if you manage to exit the planet safely (this takes
          `),P=R(Pe,y),A=R(Pe,")."),Pe.forEach(d),T=j(fe),O=$(fe,"P",{class:!0});var Ae=k(O);F=R(Ae,`Once the tx will be mined, the planet will start with
          `),Y=R(Ae,N),H=R(Ae,`
          spaceships and will produce
          `),W=R(Ae,M),X=R(Ae,`
          spaceships per minutes.`),Ae.forEach(d),V=j(fe),G(Q.$$.fragment,fe),fe.forEach(d),this.h()},h:function(){h(a,"class","text-green-500"),v(a,Ct,125,10,5461),v(t,Ct,110,8,5014),h(b,"class","text-gray-300 mt-2 text-sm"),v(b,Ct,127,8,5535),h(O,"class","text-blue-400 mt-2 text-sm"),v(O,Ct,131,8,5761),h(e,"class","text-center"),v(e,Ct,109,6,4980)},m:function(ee,fe){S(ee,e,fe),_(e,t),_(t,l),oe[n].m(t,null),_(t,s),_(t,a),_(a,c),_(a,f),_(a,m),_(t,p),_(e,g),_(e,b),_(b,w),_(b,P),_(b,A),_(e,T),_(e,O),_(O,F),_(O,Y),_(O,H),_(O,W),_(O,X),_(e,V),K(Q,e,null),z=!0},p:function(ee,fe){let de=n;n=ce(ee,fe),n===de?oe[n].p(ee,fe):(Ee(),D(oe[de],1,1,()=>{oe[de]=null}),$e(),r=oe[n],r?r.p(ee,fe):(r=oe[n]=ie[n](ee),r.c()),C(r,1),r.m(t,s)),(!z||fe&1)&&u!==(u=ee[0].name+"")&&he(f,u),(!z||fe&16)&&N!==(N=(ee[4]&&ee[4].numSpaceshipsLeft)+"")&&he(Y,N),(!z||fe&1)&&M!==(M=ee[0].production/60+"")&&he(W,M);const we={};fe&536870912&&(we.$$scope={dirty:fe,ctx:ee}),Q.$set(we)},i:function(ee){z||(C(r),C(Q.$$.fragment,ee),z=!0)},o:function(ee){D(r),D(Q.$$.fragment,ee),z=!1},d:function(ee){ee&&d(e),oe[n].d(),q(Q)}};return B("SvelteRegisterBlock",{block:Z,id:Eu.name,type:"else",source:"(109:4) {:else}",ctx:i}),Z}function $u(i){let e,t,l,o,n=i[5].toNumber()/1e4+"",r,s,a,c,u,f=i[8].playTokenBalance.div("1000000000000000000").toString()+"",m,p,g,b,w=i[8].freePlayTokenBalance.gt(0),y,P,A,T,O,F;t=new $t({props:{class:"inline w-4"},$$inline:!0}),a=new $t({props:{class:"inline w-4"},$$inline:!0}),g=new $t({props:{class:"inline w-4"},$$inline:!0});let N=w&&bi(i);O=new ye({props:{label:"mint",$$slots:{default:[Au]},$$scope:{ctx:i}},$$inline:!0}),O.$on("click",i[23]);const Y={c:function(){e=I(`Not enough
      `),U(t.$$.fragment),l=I(`. You need
      `),o=E("span"),r=I(n),s=L(),U(a.$$.fragment),c=I(`
      but you have only
      `),u=E("span"),m=I(f),p=L(),U(g.$$.fragment),b=L(),N&&N.c(),y=L(),P=E("p"),A=I(`You can mint some by depositing XDAI And you can always burn them then to get back the XDAI. As long as you hold
        them or withdraw from the game.
        `),T=E("center"),U(O.$$.fragment),this.h()},l:function(M){e=R(M,`Not enough
      `),G(t.$$.fragment,M),l=R(M,`. You need
      `),o=$(M,"SPAN",{class:!0});var W=k(o);r=R(W,n),W.forEach(d),s=j(M),G(a.$$.fragment,M),c=R(M,`
      but you have only
      `),u=$(M,"SPAN",{class:!0});var X=k(u);m=R(X,f),p=j(X),G(g.$$.fragment,X),X.forEach(d),b=j(M),N&&N.l(M),y=j(M),P=$(M,"P",{class:!0});var V=k(P);A=R(V,`You can mint some by depositing XDAI And you can always burn them then to get back the XDAI. As long as you hold
        them or withdraw from the game.
        `),T=$(V,"CENTER",{class:!0});var Q=k(T);G(O.$$.fragment,Q),Q.forEach(d),V.forEach(d),this.h()},h:function(){h(o,"class","text-yellow-400"),v(o,Ct,85,6,3984),h(u,"class","text-yellow-400"),v(u,Ct,88,6,4115),h(T,"class","m-5"),v(T,Ct,102,8,4738),h(P,"class","mt-4 text-yellow-600"),v(P,Ct,99,6,4536)},m:function(M,W){S(M,e,W),K(t,M,W),S(M,l,W),S(M,o,W),_(o,r),S(M,s,W),K(a,M,W),S(M,c,W),S(M,u,W),_(u,m),_(u,p),K(g,u,null),S(M,b,W),N&&N.m(M,W),S(M,y,W),S(M,P,W),_(P,A),_(P,T),K(O,T,null),F=!0},p:function(M,W){(!F||W&32)&&n!==(n=M[5].toNumber()/1e4+"")&&he(r,n),(!F||W&256)&&f!==(f=M[8].playTokenBalance.div("1000000000000000000").toString()+"")&&he(m,f),W&256&&(w=M[8].freePlayTokenBalance.gt(0)),w?N?(N.p(M,W),W&256&&C(N,1)):(N=bi(M),N.c(),C(N,1),N.m(y.parentNode,y)):N&&(Ee(),D(N,1,1,()=>{N=null}),$e());const X={};W&536870944&&(X.$$scope={dirty:W,ctx:M}),O.$set(X)},i:function(M){F||(C(t.$$.fragment,M),C(a.$$.fragment,M),C(g.$$.fragment,M),C(N),C(O.$$.fragment,M),F=!0)},o:function(M){D(t.$$.fragment,M),D(a.$$.fragment,M),D(g.$$.fragment,M),D(N),D(O.$$.fragment,M),F=!1},d:function(M){M&&d(e),q(t,M),M&&d(l),M&&d(o),M&&d(s),q(a,M),M&&d(c),M&&d(u),q(g),M&&d(b),N&&N.d(M),M&&d(y),M&&d(P),q(O)}};return B("SvelteRegisterBlock",{block:Y,id:$u.name,type:"if",source:"(83:139) ",ctx:i}),Y}function Pu(i){let e,t,l,o=i[5].toNumber()/1e4+"",n,r,s,a,c,u,f,m,p;t=new $t({props:{class:"inline w-4"},$$inline:!0}),s=new $t({props:{class:"inline w-4"},$$inline:!0}),m=new ye({props:{label:"mint",$$slots:{default:[Cu]},$$scope:{ctx:i}},$$inline:!0}),m.$on("click",i[22]);const g={c:function(){e=I(`You do not have any
      `),U(t.$$.fragment),l=I(`. You need
      `),n=I(o),r=L(),U(s.$$.fragment),a=I(`.
      `),c=E("p"),u=I(`You can mint some by depositing XDAI And you can always burn them then to get back the XDAI. As long as you hold
        them or withdraw from the game.
        `),f=E("center"),U(m.$$.fragment),this.h()},l:function(w){e=R(w,`You do not have any
      `),G(t.$$.fragment,w),l=R(w,`. You need
      `),n=R(w,o),r=j(w),G(s.$$.fragment,w),a=R(w,`.
      `),c=$(w,"P",{class:!0});var y=k(c);u=R(y,`You can mint some by depositing XDAI And you can always burn them then to get back the XDAI. As long as you hold
        them or withdraw from the game.
        `),f=$(y,"CENTER",{class:!0});var P=k(f);G(m.$$.fragment,P),P.forEach(d),y.forEach(d),this.h()},h:function(){h(f,"class","m-5"),v(f,Ct,76,8,3549),h(c,"class","mt-4 text-yellow-600"),v(c,Ct,73,6,3347)},m:function(w,y){S(w,e,y),K(t,w,y),S(w,l,y),S(w,n,y),S(w,r,y),K(s,w,y),S(w,a,y),S(w,c,y),_(c,u),_(c,f),K(m,f,null),p=!0},p:function(w,y){(!p||y&32)&&o!==(o=w[5].toNumber()/1e4+"")&&he(n,o);const P={};y&536870944&&(P.$$scope={dirty:y,ctx:w}),m.$set(P)},i:function(w){p||(C(t.$$.fragment,w),C(s.$$.fragment,w),C(m.$$.fragment,w),p=!0)},o:function(w){D(t.$$.fragment,w),D(s.$$.fragment,w),D(m.$$.fragment,w),p=!1},d:function(w){w&&d(e),q(t,w),w&&d(l),w&&d(n),w&&d(r),q(s,w),w&&d(a),w&&d(c),q(m)}};return B("SvelteRegisterBlock",{block:g,id:Pu.name,type:"if",source:"(69:87) ",ctx:i}),g}function Bu(i){let e;const t={c:function(){e=I("Please wait...")},l:function(o){e=R(o,"Please wait...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Bu.name,type:"if",source:"(67:4) {#if !$myTokens.playTokenBalance}",ctx:i}),t}function Iu(i){let e,t,l,o,n;o=new $t({props:{class:"inline w-4",free:!0},$$inline:!0});const r={c:function(){e=E("span"),t=I(i[6]),l=L(),U(o.$$.fragment),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);t=R(c,i[6]),l=j(c),G(o.$$.fragment,c),c.forEach(d),this.h()},h:function(){h(e,"class","text-green-500"),v(e,Ct,118,12,5275)},m:function(a,c){S(a,e,c),_(e,t),_(e,l),K(o,e,null),n=!0},p:function(a,c){(!n||c&64)&&he(t,a[6])},i:function(a){n||(C(o.$$.fragment,a),n=!0)},o:function(a){D(o.$$.fragment,a),n=!1},d:function(a){a&&d(e),q(o)}};return B("SvelteRegisterBlock",{block:r,id:Iu.name,type:"else",source:"(118:10) {:else}",ctx:i}),r}function Ru(i){let e,t,l,o,n;o=new $t({props:{class:"inline w-4"},$$inline:!0});const r={c:function(){e=E("span"),t=I(i[6]),l=L(),U(o.$$.fragment),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);t=R(c,i[6]),l=j(c),G(o.$$.fragment,c),c.forEach(d),this.h()},h:function(){h(e,"class","text-yellow-500"),v(e,Ct,113,12,5126)},m:function(a,c){S(a,e,c),_(e,t),_(e,l),K(o,e,null),n=!0},p:function(a,c){(!n||c&64)&&he(t,a[6])},i:function(a){n||(C(o.$$.fragment,a),n=!0)},o:function(a){D(o.$$.fragment,a),n=!1},d:function(a){a&&d(e),q(o)}};return B("SvelteRegisterBlock",{block:r,id:Ru.name,type:"if",source:"(113:10) {#if $myTokens.freePlayTokenBalance.lt(cost.mul('100000000000000'))}",ctx:i}),r}function Tu(i){let e;const t={c:function(){e=I("Confirm")},l:function(o){e=R(o,"Confirm")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Tu.name,type:"slot",source:'(139:8) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => claimFlow.confirm()}>',ctx:i}),t}function bi(i){let e,t,l=i[8].freePlayTokenBalance.div("1000000000000000000").toString()+"",o,n,r,s;r=new $t({props:{class:"inline w-4",free:!0},$$inline:!0});const a={c:function(){e=I(`and
        `),t=E("span"),o=I(l),n=L(),U(r.$$.fragment),this.h()},l:function(u){e=R(u,`and
        `),t=$(u,"SPAN",{class:!0});var f=k(t);o=R(f,l),n=j(f),G(r.$$.fragment,f),f.forEach(d),this.h()},h:function(){h(t,"class","text-green-400"),v(t,Ct,93,8,4336)},m:function(u,f){S(u,e,f),S(u,t,f),_(t,o),_(t,n),K(r,t,null),s=!0},p:function(u,f){(!s||f&256)&&l!==(l=u[8].freePlayTokenBalance.div("1000000000000000000").toString()+"")&&he(o,l)},i:function(u){s||(C(r.$$.fragment,u),s=!0)},o:function(u){D(r.$$.fragment,u),s=!1},d:function(u){u&&d(e),u&&d(t),q(r)}};return B("SvelteRegisterBlock",{block:a,id:bi.name,type:"if",source:"(92:6) {#if $myTokens.freePlayTokenBalance.gt(0)}",ctx:i}),a}function Au(i){let e,t=i[5].toNumber()/1e4+"",l,o,n,r;n=new $t({props:{class:"inline w-4"},$$inline:!0});const s={c:function(){e=I("Mint "),l=I(t),o=L(),U(n.$$.fragment)},l:function(c){e=R(c,"Mint "),l=R(c,t),o=j(c),G(n.$$.fragment,c)},m:function(c,u){S(c,e,u),S(c,l,u),S(c,o,u),K(n,c,u),r=!0},p:function(c,u){(!r||u&32)&&t!==(t=c[5].toNumber()/1e4+"")&&he(l,t)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),c&&d(l),c&&d(o),q(n,c)}};return B("SvelteRegisterBlock",{block:s,id:Au.name,type:"slot",source:'(104:10) <Button label=\\"mint\\" on:click={() => mint(cost.toNumber() / 10000)}             >',ctx:i}),s}function Cu(i){let e,t=i[5].toNumber()/1e4+"",l,o,n,r;n=new $t({props:{class:"inline w-4"},$$inline:!0});const s={c:function(){e=I("Mint "),l=I(t),o=L(),U(n.$$.fragment)},l:function(c){e=R(c,"Mint "),l=R(c,t),o=j(c),G(n.$$.fragment,c)},m:function(c,u){S(c,e,u),S(c,l,u),S(c,o,u),K(n,c,u),r=!0},p:function(c,u){(!r||u&32)&&t!==(t=c[5].toNumber()/1e4+"")&&he(l,t)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),c&&d(l),c&&d(o),q(n,c)}};return B("SvelteRegisterBlock",{block:s,id:Cu.name,type:"slot",source:'(78:10) <Button label=\\"mint\\" on:click={() => mint(cost.toNumber() / 10000)}             >',ctx:i}),s}function Ou(i){let e,t,l,o,n,r;const s=[Bu,Pu,$u,Eu],a=[];function c(f,m){return m&256&&(e=null),m&288&&(t=null),f[8].playTokenBalance?(e==null&&(e=!!(f[8].playTokenBalance.eq(0)&&f[8].freePlayTokenBalance.eq(0))),e?1:(t==null&&(t=!!(f[8].freePlayTokenBalance.lt(f[5].mul("100000000000000"))&&f[8].playTokenBalance.lt(f[5].mul("100000000000000")))),t?2:3)):0}l=c(i,-1),o=a[l]=s[l](i);const u={c:function(){o.c(),n=pe()},l:function(m){o.l(m),n=pe()},m:function(m,p){a[l].m(m,p),S(m,n,p),r=!0},p:function(m,p){let g=l;l=c(m,p),l===g?a[l].p(m,p):(Ee(),D(a[g],1,1,()=>{a[g]=null}),$e(),o=a[l],o?o.p(m,p):(o=a[l]=s[l](m),o.c()),C(o,1),o.m(n.parentNode,n))},i:function(m){r||(C(o),r=!0)},o:function(m){D(o),r=!1},d:function(m){a[l].d(m),m&&d(n)}};return B("SvelteRegisterBlock",{block:u,id:Ou.name,type:"slot",source:"(66:2) <Modal on:close={() => claimFlow.cancel()}>",ctx:i}),u}function Du(i){let e;const t={c:function(){e=I("Yes")},l:function(o){e=R(o,"Yes")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Du.name,type:"slot",source:'(60:6) <Button label=\\"OK\\" on:click={() => claimFlow.cancel()}>',ctx:i}),t}function Fu(i){let e,t,l,o,n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[Du]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[19]);const u={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,"Are you sure to cancel ?"),g.forEach(d),o=j(p),n=$(p,"P",{class:!0});var b=k(n);r=R(b,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),b.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,Ct,57,6,2615),h(n,"class","pb-4"),v(n,Ct,58,6,2666),h(e,"class","text-center"),v(e,Ct,56,4,2583)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&536870912&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:Fu.name,type:"slot",source:"(51:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => claimFlow.cancelCancelation()}     on:confirm={() => claimFlow.cancel()}   >",ctx:i}),u}function Nu(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Nu.name,type:"slot",source:'(47:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => claimFlow.acknownledgeError()}>',ctx:i}),t}function Lu(i){let e,t,l,o,n,r=Et(i[3].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[Nu]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[17]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned For Planet Staking"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned For Planet Staking"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,Ct,44,6,2129),h(n,"class","text-red-500 mt-2 text-sm"),v(n,Ct,45,6,2182),h(e,"class","text-center"),v(e,Ct,43,4,2097)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&8)&&r!==(r=Et(p[3].error)+"")&&he(s,r);const b={};g&536870912&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:Lu.name,type:"slot",source:"(43:2) <Modal on:close={() => claimFlow.acknownledgeError()}>",ctx:i}),f}function wi(i){let e,t,l,o;const n=[wu,bu,gu,_u,hu,pu,mu,du],r=[];function s(c,u){return c[1].step!=="IDLE"&&c[1].step!=="SUCCESS"?0:c[3].error?1:c[3].cancelingConfirmation?2:c[3].step==="CONNECTING"?3:c[3].step==="CHOOSE_STAKE"&&c[2].state=="Ready"?4:c[3].step==="CREATING_TX"?5:c[3].step==="WAITING_TX"?6:c[3].step==="PROFILE_INFO"?7:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:wi.name,type:"component",source:"",ctx:i}),a}function Zh(i,e,t){let l,o,n,r,s,a,c,u,f,m=ae,p=()=>(m(),m=tn(n,ee=>t(16,f=ee)),n),g,b,w;ve(Qt,"mintFlow"),ke(i,Qt,ee=>t(1,u=ee)),ve(St,"wallet"),ke(i,St,ee=>t(2,g=ee)),ve(Ht,"claimFlow"),ke(i,Ht,ee=>t(3,b=ee)),ve(el,"myTokens"),ke(i,el,ee=>t(8,w=ee)),i.$$.on_destroy.push(()=>m());let{$$slots:y={},$$scope:P}=e;He("ClaimFlow",y,[]);var A,T,O,F;async function N(ee){Qt.mint(ee)}let Y=(T=u.data)===null||T===void 0?void 0:T.numTokenUnit;const H=[];Object.keys(e).forEach(ee=>{!~H.indexOf(ee)&&ee.slice(0,2)!=="$$"&&ee!=="slot"&&console.warn(`<ClaimFlow> was created with unknown prop '${ee}'`)});const M=()=>Ht.acknownledgeError(),W=()=>Ht.acknownledgeError(),X=()=>Ht.cancel(),V=()=>Ht.cancelCancelation(),Q=()=>Ht.cancel(),z=()=>N(a.toNumber()/1e4),ie=()=>N(a.toNumber()/1e4),oe=()=>Ht.confirm(),ce=()=>Ht.cancel(),Z=()=>Ht.cancel(!0),se=()=>Ht.acknowledgeProfileSuggestion();return i.$capture_state=()=>({_a:A,_b:T,_c:O,_d:F,claimFlow:Ht,Modal:Le,Button:ye,planets:vt,wallet:St,myTokens:el,BigNumber:ro,PlayCoin:$t,formatError:Et,timeToText:tt,spaceInfo:be,NavButton:Ss,base:Jt,mintFlow:Qt,EmbeddedMintFlow:fu,mint:N,tokenAmountToMint:Y,planetInfo:o,result:c,stats:r,cost:a,stake:s,planetState:n,coords:l,$mintFlow:u,$planetState:f,$wallet:g,$claimFlow:b,$myTokens:w}),i.$inject_state=ee=>{"_a"in ee&&t(10,A=ee._a),"_b"in ee&&(T=ee._b),"_c"in ee&&t(11,O=ee._c),"_d"in ee&&t(12,F=ee._d),"tokenAmountToMint"in ee&&t(13,Y=ee.tokenAmountToMint),"planetInfo"in ee&&t(14,o=ee.planetInfo),"result"in ee&&t(4,c=ee.result),"stats"in ee&&t(0,r=ee.stats),"cost"in ee&&t(5,a=ee.cost),"stake"in ee&&t(6,s=ee.stake),"planetState"in ee&&p(t(7,n=ee.planetState)),"coords"in ee&&t(15,l=ee.coords)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1032&&t(15,l=t(10,A=b.data)===null||A===void 0?void 0:A.coords),i.$$.dirty&32768&&t(14,o=l?be.getPlanetInfo(l.x,l.y):void 0),i.$$.dirty&16384&&p(t(7,n=o?vt.planetStateFor(o):void 0)),i.$$.dirty&16384&&t(0,r=o?o.stats:void 0),i.$$.dirty&1&&t(6,s=r&&r.stake/1e4),i.$$.dirty&1&&t(5,a=r?ro.from(r.stake):void 0),i.$$.dirty&81924&&t(4,c=o&&f?be.simulateCapture(g.address,o,f):void 0),i.$$.dirty&14338&&(t(11,O=u.data)===null||O===void 0?void 0:O.numTokenUnit)&&!Y&&t(13,Y=t(12,F=u.data)===null||F===void 0?void 0:F.numTokenUnit)},[r,u,g,b,c,a,s,n,w,N,A,O,F,Y,o,l,f,M,W,X,V,Q,z,ie,oe,ce,Z,se]}class ju extends We{constructor(e){super(e);Ye(this,e,Zh,wi,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"ClaimFlow",options:e,id:wi.name})}}const eo="src/lib/components/fleets/AttackSendTabButton.svelte";function Vu(i){let e,t,l,o,n,r,s;const a=i[3].default,c=Hn(a,i,i[2],null),u={c:function(){e=E("button"),t=E("span"),c&&c.c(),l=L(),o=E("span"),this.h()},l:function(m){e=$(m,"BUTTON",{class:!0});var p=k(e);t=$(p,"SPAN",{});var g=k(t);c&&c.l(g),g.forEach(d),l=j(p),o=$(p,"SPAN",{"aria-hidden":!0,class:!0}),k(o).forEach(d),p.forEach(d),this.h()},h:function(){v(t,eo,19,4,661),h(o,"aria-hidden","true"),h(o,"class","bg-transparent absolute inset-x-0 bottom-0 h-0.5"),v(o,eo,20,4,687),h(e,"class","text-gray-400 hover:text-gray-400 group relative min-w-0 flex-1 overflow-hidden bg-gray-800 py-4 px-4 text-sm font-medium text-center hover:bg-gray-700 focus:z-10"),v(e,eo,15,2,457)},m:function(m,p){S(m,e,p),_(e,t),c&&c.m(t,null),_(e,l),_(e,o),n=!0,r||(s=Ze(e,"click",i[5],!1,!1,!1),r=!0)},p:function(m,p){c&&c.p&&(!n||p&4)&&Xn(c,a,m,m[2],n?Gn(a,m[2],p,null):Un(m[2]),null)},i:function(m){n||(C(c,m),n=!0)},o:function(m){D(c,m),n=!1},d:function(m){m&&d(e),c&&c.d(m),r=!1,s()}};return B("SvelteRegisterBlock",{block:u,id:Vu.name,type:"else",source:"(15:0) {:else}",ctx:i}),u}function Mu(i){let e,t,l,o,n,r,s;const a=i[3].default,c=Hn(a,i,i[2],null),u={c:function(){e=E("button"),t=E("span"),c&&c.c(),l=L(),o=E("span"),this.h()},l:function(m){e=$(m,"BUTTON",{class:!0,"aria-current":!0});var p=k(e);t=$(p,"SPAN",{});var g=k(t);c&&c.l(g),g.forEach(d),l=j(p),o=$(p,"SPAN",{"aria-hidden":!0,class:!0}),k(o).forEach(d),p.forEach(d),this.h()},h:function(){v(t,eo,11,4,328),h(o,"aria-hidden","true"),h(o,"class","bg-red-500 absolute inset-x-0 bottom-0 h-0.5"),v(o,eo,12,4,354),h(e,"class","text-gray-200 rounded-l-lg group relative min-w-0 flex-1 overflow-hidden bg-gray-800 py-4 px-4 text-sm font-medium text-center hover:bg-gray-700 focus:z-10"),h(e,"aria-current","page"),e.disabled=i[1],v(e,eo,5,2,92)},m:function(m,p){S(m,e,p),_(e,t),c&&c.m(t,null),_(e,l),_(e,o),n=!0,r||(s=Ze(e,"click",i[4],!1,!1,!1),r=!0)},p:function(m,p){c&&c.p&&(!n||p&4)&&Xn(c,a,m,m[2],n?Gn(a,m[2],p,null):Un(m[2]),null),(!n||p&2)&&Wo(e,"disabled",m[1])},i:function(m){n||(C(c,m),n=!0)},o:function(m){D(c,m),n=!1},d:function(m){m&&d(e),c&&c.d(m),r=!1,s()}};return B("SvelteRegisterBlock",{block:u,id:Mu.name,type:"if",source:"(5:0) {#if active}",ctx:i}),u}function vi(i){let e,t,l,o;const n=[Mu,Vu],r=[];function s(c,u){return c[0]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:vi.name,type:"component",source:"",ctx:i}),a}function xh(i,e,t){let{$$slots:l={},$$scope:o}=e;He("AttackSendTabButton",l,["default"]);let{active:n}=e,{disabled:r=!1}=e;const s=["active","disabled"];Object.keys(e).forEach(u=>{!~s.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<AttackSendTabButton> was created with unknown prop '${u}'`)});function a(u){$n.call(this,i,u)}function c(u){$n.call(this,i,u)}return i.$$set=u=>{"active"in u&&t(0,n=u.active),"disabled"in u&&t(1,r=u.disabled),"$$scope"in u&&t(2,o=u.$$scope)},i.$capture_state=()=>({active:n,disabled:r}),i.$inject_state=u=>{"active"in u&&t(0,n=u.active),"disabled"in u&&t(1,r=u.disabled)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,o,l,a,c]}class ki extends We{constructor(e){super(e);Ye(this,e,xh,vi,ze,{active:0,disabled:1}),B("SvelteRegisterComponent",{component:this,tagName:"AttackSendTabButton",options:e,id:vi.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("active"in l)&&console.warn("<AttackSendTabButton> was created without expected prop 'active'")}get active(){throw new Error("<AttackSendTabButton>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set active(e){throw new Error("<AttackSendTabButton>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get disabled(){throw new Error("<AttackSendTabButton>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new Error("<AttackSendTabButton>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const In="src/lib/components/flatpickr/Flatpickr.svelte";function yi(i){let e,t,l,o,n,r,s,a,c,u,f,m,p=[i[2],{"data-input":""}],g={};for(let P=0;P<p.length;P+=1)g=Yo(g,p[P]);const b=i[10].default,w=Hn(b,i,i[9],null),y={c:function(){e=E("div"),t=E("input"),l=L(),o=E("a"),n=Fe("svg"),r=Fe("path"),s=L(),a=E("a"),c=Fe("svg"),u=Fe("path"),f=L(),w&&w.c(),this.h()},l:function(A){e=$(A,"DIV",{class:!0});var T=k(e);t=$(T,"INPUT",{"data-input":!0}),l=j(T),o=$(T,"A",{href:!0,class:!0,title:!0,"data-toggle":!0});var O=k(o);n=Ne(O,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var F=k(n);r=Ne(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0,class:!0}),k(r).forEach(d),F.forEach(d),O.forEach(d),s=j(T),a=$(T,"A",{href:!0,class:!0,title:!0,"data-clear":!0});var N=k(a);c=Ne(N,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var Y=k(c);u=Ne(Y,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0,class:!0}),k(u).forEach(d),Y.forEach(d),N.forEach(d),f=j(T),w&&w.l(T),T.forEach(d),this.h()},h:function(){xr(t,g),es(t,"s-vyXf46vjYCKM",!0),v(t,In,73,2,2116),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","2"),h(r,"d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),h(r,"class","s-vyXf46vjYCKM"),v(r,In,77,7,2364),h(n,"class","w-6 h-6 inline s-vyXf46vjYCKM"),h(n,"fill","none"),h(n,"stroke","currentColor"),h(n,"viewBox","0 0 24 24"),h(n,"xmlns","http://www.w3.org/2000/svg"),v(n,In,76,4,2240),h(o,"href",window.BASE + "/"),h(o,"class","input-button s-vyXf46vjYCKM"),h(o,"title","toggle"),h(o,"data-toggle",""),v(o,In,75,2,2175),h(u,"stroke-linecap","round"),h(u,"stroke-linejoin","round"),h(u,"stroke-width","2"),h(u,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),h(u,"class","s-vyXf46vjYCKM"),v(u,In,93,7,2817),h(c,"class","w-6 h-6 inline text-red-500 s-vyXf46vjYCKM"),h(c,"fill","none"),h(c,"stroke","currentColor"),h(c,"viewBox","0 0 24 24"),h(c,"xmlns","http://www.w3.org/2000/svg"),v(c,In,87,4,2650),h(a,"href",window.BASE + "/"),h(a,"class","input-button s-vyXf46vjYCKM"),h(a,"title","clear"),h(a,"data-clear",""),v(a,In,86,2,2587),h(e,"class","bg-gray-800 text-cyan-500 s-vyXf46vjYCKM"),v(e,In,72,0,2054)},m:function(A,T){S(A,e,T),_(e,t),t.autofocus&&t.focus(),i[11](t),_(e,l),_(e,o),_(o,n),_(n,r),_(e,s),_(e,a),_(a,c),_(c,u),_(e,f),w&&w.m(e,null),i[12](e),m=!0},p:function(A,[T]){xr(t,g=yh(p,[T&4&&A[2],{"data-input":""}])),es(t,"s-vyXf46vjYCKM",!0),w&&w.p&&(!m||T&512)&&Xn(w,b,A,A[9],m?Gn(b,A[9],T,null):Un(A[9]),null)},i:function(A){m||(C(w,A),m=!0)},o:function(A){D(w,A),m=!1},d:function(A){A&&d(e),i[11](null),w&&w.d(A),i[12](null)}};return B("SvelteRegisterBlock",{block:y,id:yi.name,type:"component",source:"",ctx:i}),y}function Wu(i){return i.charAt(2).toLowerCase()+i.substring(3)}function e1(i,e,t){const l=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let o=Jr(e,l),{$$slots:n={},$$scope:r}=e;He("Flatpickr",n,["default"]);const s=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0}=e,{formattedValue:c="",element:u=null,dateFormat:f=null}=e,{options:m={}}=e,p=!1,{input:g=void 0,flatpickr:b=void 0}=e;qt(()=>{const O=u||g,F=y(m);return F.onReady.push(()=>{t(8,p=!0)}),t(4,b=Zr(O,Object.assign(F,u?{wrap:!0}:{}))),()=>{b.destroy()}});const w=$o();function y(O={}){O=Object.assign({},O);for(const F of s){const N=(Y,H,M)=>{w(Wu(F),[Y,H,M])};F in O?(Array.isArray(O[F])||(O[F]=[O[F]]),O[F].push(N)):O[F]=[N]}return O.onChange&&!O.onChange.includes(P)&&O.onChange.push(P),O}function P(O,F,N){var H,M;const Y=(M=(H=N==null?void 0:N.config)==null?void 0:H.mode)!=null?M:"single";t(3,a=Y==="single"?O[0]:O),t(5,c=F)}function A(O){zn[O?"unshift":"push"](()=>{g=O,t(1,g)})}function T(O){zn[O?"unshift":"push"](()=>{u=O,t(0,u)})}return i.$$set=O=>{e=Yo(Yo({},e),kh(O)),t(2,o=Jr(e,l)),"value"in O&&t(3,a=O.value),"formattedValue"in O&&t(5,c=O.formattedValue),"element"in O&&t(0,u=O.element),"dateFormat"in O&&t(6,f=O.dateFormat),"options"in O&&t(7,m=O.options),"input"in O&&t(1,g=O.input),"flatpickr"in O&&t(4,b=O.flatpickr),"$$scope"in O&&t(9,r=O.$$scope)},i.$capture_state=()=>({onMount:qt,createEventDispatcher:$o,flatpickr:Zr,hooks:s,value:a,formattedValue:c,element:u,dateFormat:f,options:m,ready:p,input:g,fp:b,dispatch:w,addHooks:y,updateValue:P,stripOn:Wu}),i.$inject_state=O=>{"value"in e&&t(3,a=O.value),"formattedValue"in e&&t(5,c=O.formattedValue),"element"in e&&t(0,u=O.element),"dateFormat"in e&&t(6,f=O.dateFormat),"options"in e&&t(7,m=O.options),"ready"in e&&t(8,p=O.ready),"input"in e&&t(1,g=O.input),"fp"in e&&t(4,b=O.fp)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty&344&&b&&p&&b.setDate(a,!1,f),i.$$.dirty&400&&b&&p)for(const[O,F]of Object.entries(y(m)))b.set(O,F)},[u,g,o,a,b,c,f,m,p,r,n,A,T]}class Yu extends We{constructor(e){super(e);Ye(this,e,e1,yi,ze,{value:3,formattedValue:5,element:0,dateFormat:6,options:7,input:1,flatpickr:4}),B("SvelteRegisterComponent",{component:this,tagName:"Flatpickr",options:e,id:yi.name})}get value(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get formattedValue(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set formattedValue(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get element(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set element(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get dateFormat(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set dateFormat(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get options(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set options(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get input(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set input(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get flatpickr(){throw new Error("<Flatpickr>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set flatpickr(e){throw new Error("<Flatpickr>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ie="src/lib/components/fleets/SendingSpaceships.svelte";function zu(i,e,t){const l=i.slice();return l[89]=e[t],l}function Hu(i){let e,t;e=new Le({props:{border_color:i[24],$$slots:{default:[ff]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[88]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&16777216&&(s.border_color=n[24]),r[0]&1072689023|r[2]&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Hu.name,type:"else",source:"(250:0) {:else}",ctx:i}),l}function Xu(i){let e,t;e=new Le({props:{border_color:i[24],$$slots:{default:[mf]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[77]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[0]&16777216&&(s.border_color=n[24]),r[0]&1048576|r[2]&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Xu.name,type:"if",source:"(243:0) {#if attentionRequired}",ctx:i}),l}function Uu(i){let e;const t={c:function(){e=I("Attack")},l:function(o){e=R(o,"Attack")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Uu.name,type:"slot",source:"(257:6) <AttackSendTabButton disabled={fleetOwner === $toPlanetState.owner} active={!gift} on:click={useAttack}         >",ctx:i}),t}function Gu(i){let e;const t={c:function(){e=I("Give")},l:function(o){e=R(o,"Give")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Gu.name,type:"slot",source:"(260:6) <AttackSendTabButton active={gift} on:click={useSend}>",ctx:i}),t}function Si(i){let e,t,l,o=i[25]&&Ei(i);const n={c:function(){e=E("div"),t=I(i[26]),l=L(),o&&o.c(),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);t=R(a,i[26]),l=j(a),o&&o.l(a),a.forEach(d),this.h()},h:function(){h(e,"class","text-center text-yellow-600"),v(e,Ie,262,6,13122)},m:function(s,a){S(s,e,a),_(e,t),_(e,l),o&&o.m(e,null)},p:function(s,a){a[0]&67108864&&he(t,s[26]),s[25]?o?o.p(s,a):(o=Ei(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d:function(s){s&&d(e),o&&o.d()}};return B("SvelteRegisterBlock",{block:n,id:Si.name,type:"if",source:"(262:4) {#if warning}",ctx:i}),n}function Ei(i){let e,t;const l={c:function(){e=E("span"),t=I(i[25]),this.h()},l:function(n){e=$(n,"SPAN",{class:!0});var r=k(e);t=R(r,i[25]),r.forEach(d),this.h()},h:function(){h(e,"class","text-xs"),v(e,Ie,264,25,13207)},m:function(n,r){S(n,e,r),_(e,t)},p:function(n,r){r[0]&33554432&&he(t,n[25])},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Ei.name,type:"if",source:"(265:8) {#if warningNote}",ctx:i}),l}function $i(i){var a,c,u,f,m,p;let e,t=`( ${i[4]} - ${(c=(a=i[6])==null?void 0:a.outcome.tax)==null?void 0:c.loss} (${((f=(u=i[6])==null?void 0:u.outcome.tax)==null?void 0:f.taxRate)/100}% tax))`,l,o,n=i[4]-((p=(m=i[6])==null?void 0:m.outcome.tax)==null?void 0:p.loss)+"",r;const s={c:function(){e=E("span"),l=I(t),o=I(`
            = `),r=I(n),this.h()},l:function(b){e=$(b,"SPAN",{class:!0});var w=k(e);l=R(w,t),w.forEach(d),o=R(b,`
            = `),r=R(b,n),this.h()},h:function(){h(e,"class","text-red-500"),v(e,Ie,291,12,14160)},m:function(b,w){S(b,e,w),_(e,l),S(b,o,w),S(b,r,w)},p:function(b,w){var y,P,A,T,O,F;w[0]&80&&t!==(t=`( ${b[4]} - ${(P=(y=b[6])==null?void 0:y.outcome.tax)==null?void 0:P.loss} (${((T=(A=b[6])==null?void 0:A.outcome.tax)==null?void 0:T.taxRate)/100}% tax))`)&&he(l,t),w[0]&80&&n!==(n=b[4]-((F=(O=b[6])==null?void 0:O.outcome.tax)==null?void 0:F.loss)+"")&&he(r,n)},d:function(b){b&&d(e),b&&d(o),b&&d(r)}};return B("SvelteRegisterBlock",{block:s,id:$i.name,type:"if",source:"(291:10) {#if prediction?.outcome.tax?.loss > 0}",ctx:i}),s}function Pi(i){let e,t,l,o;function n(c){i[80](c)}function r(c){i[81](c)}let s={class:"bg-gray-800 text-cyan-500 inline-block",options:i[8],name:"arrivalTimeWanted",placeholder:"Arrival Time",$$slots:{default:[qu]},$$scope:{ctx:i}};i[3]!==void 0&&(s.value=i[3]),i[19]!==void 0&&(s.formattedValue=i[19]),e=new Yu({props:s,$$inline:!0}),zn.push(()=>os(e,"value",n)),zn.push(()=>os(e,"formattedValue",r)),e.$on("change",i[82]);const a={c:function(){U(e.$$.fragment)},l:function(u){G(e.$$.fragment,u)},m:function(u,f){K(e,u,f),o=!0},p:function(u,f){const m={};f[0]&256&&(m.options=u[8]),f[2]&1073741824&&(m.$$scope={dirty:f,ctx:u}),!t&&f[0]&8&&(t=!0,m.value=u[3],ls(()=>t=!1)),!l&&f[0]&524288&&(l=!0,m.formattedValue=u[19],ls(()=>l=!1)),e.$set(m)},i:function(u){o||(C(e.$$.fragment,u),o=!0)},o:function(u){D(e.$$.fragment,u),o=!1},d:function(u){q(e,u)}};return B("SvelteRegisterBlock",{block:a,id:Pi.name,type:"if",source:"(304:8) {#if flatpickrOptions}",ctx:i}),a}function Ku(i){let e;const t={c:function(){e=I(`You can specify a specific arrival time. If you use the same exact arrival time for multiple fleets,
              they'll combine their attack making bigger damage that if sent one by one. This also work with yout
              allies, in which case, you'll need to pick the same address for "fleetOwner" (See below) that will own the
              planet being attacked in case of success.`)},l:function(o){e=R(o,`You can specify a specific arrival time. If you use the same exact arrival time for multiple fleets,
              they'll combine their attack making bigger damage that if sent one by one. This also work with yout
              allies, in which case, you'll need to pick the same address for "fleetOwner" (See below) that will own the
              planet being attacked in case of success.`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ku.name,type:"slot",source:'(314:13) <Help class=\\"w-6 h-6\\"               >',ctx:i}),t}function qu(i){let e,t;e=new Pt({props:{class:"w-6 h-6",$$slots:{default:[Ku]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r[2]&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:qu.name,type:"slot",source:`(306:10) <Flatpickr             class=\\"bg-gray-800 text-cyan-500 inline-block\\"             options={flatpickrOptions}             bind:value={arrivalTimeWanted}             bind:formattedValue={formatted_arrivalTimeWanted}             on:change={() => (travelingFleetSelected = '')}             name=\\"arrivalTimeWanted\\"             placeholder=\\"Arrival Time\\"             >`,ctx:i}),l}function Bi(i){let e,t,l,o,n,r=i[29];mt(r);let s=[];for(let c=0;c<r.length;c+=1)s[c]=Ii(zu(i,r,c));const a={c:function(){e=E("select"),t=E("option"),l=I("Or Pick a Traveling Fleet");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l:function(u){e=$(u,"SELECT",{class:!0,name:!0,id:!0});var f=k(e);t=$(f,"OPTION",{});var m=k(t);l=R(m,"Or Pick a Traveling Fleet"),m.forEach(d);for(let p=0;p<s.length;p+=1)s[p].l(f);f.forEach(d),this.h()},h:function(){t.__value="",t.value=t.__value,v(t,Ie,331,10,15793),h(e,"class","bg-black mx-auto"),h(e,"name","Fleet"),h(e,"id","travelingFleets"),i[0]===void 0&&is(()=>i[83].call(e)),v(e,Ie,324,8,15583)},m:function(u,f){S(u,e,f),_(e,t),_(t,l);for(let m=0;m<s.length;m+=1)s[m].m(e,null);Bo(e,i[0]),o||(n=[Ze(e,"change",i[83]),Ze(e,"change",i[31],!1,!1,!1)],o=!0)},p:function(u,f){if(f[0]&536870912){r=u[29],mt(r);let m;for(m=0;m<r.length;m+=1){const p=zu(u,r,m);s[m]?s[m].p(p,f):(s[m]=Ii(p),s[m].c(),s[m].m(e,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=r.length}f[0]&536870913&&Bo(e,u[0])},d:function(u){u&&d(e),Kt(s,u),o=!1,_n(n)}};return B("SvelteRegisterBlock",{block:a,id:Bi.name,type:"if",source:"(324:6) {#if travelingArrivals.length > 0}",ctx:i}),a}function Ii(i){let e,t=new Date(i[89]*1e3).toLocaleString()+"",l,o;const n={c:function(){e=E("option"),l=I(t),this.h()},l:function(s){e=$(s,"OPTION",{});var a=k(e);l=R(a,t),a.forEach(d),this.h()},h:function(){e.__value=o=i[89],e.value=e.__value,v(e,Ie,333,12,15904)},m:function(s,a){S(s,e,a),_(e,l)},p:function(s,a){a[0]&536870912&&t!==(t=new Date(s[89]*1e3).toLocaleString()+"")&&he(l,t),a[0]&536870912&&o!==(o=s[89])&&(Wo(e,"__value",o),e.value=e.__value)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:Ii.name,type:"each",source:"(333:10) {#each travelingArrivals as arrival}",ctx:i}),n}function Ri(i){var a;let e=i[11]&&i[11].toLowerCase()!==((a=i[15].address)==null?void 0:a.toLowerCase()),t,l,o,n=e&&Ti(i),r=i[28]&&Ai(i);const s={c:function(){n&&n.c(),t=L(),r&&r.c(),l=pe()},l:function(u){n&&n.l(u),t=j(u),r&&r.l(u),l=pe()},m:function(u,f){n&&n.m(u,f),S(u,t,f),r&&r.m(u,f),S(u,l,f),o=!0},p:function(u,f){var m;f[0]&34816&&(e=u[11]&&u[11].toLowerCase()!==((m=u[15].address)==null?void 0:m.toLowerCase())),e?n?(n.p(u,f),f[0]&34816&&C(n,1)):(n=Ti(u),n.c(),C(n,1),n.m(t.parentNode,t)):n&&(Ee(),D(n,1,1,()=>{n=null}),$e()),u[28]?r?(r.p(u,f),f[0]&268435456&&C(r,1)):(r=Ai(u),r.c(),C(r,1),r.m(l.parentNode,l)):r&&(Ee(),D(r,1,1,()=>{r=null}),$e())},i:function(u){o||(C(n),C(r),o=!0)},o:function(u){D(n),D(r),o=!1},d:function(u){n&&n.d(u),u&&d(t),r&&r.d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:s,id:Ri.name,type:"if",source:"(343:6) {#if !gift}",ctx:i}),s}function Ti(i){var r,s;let e,t,l,o;l=new mn({props:{class:"inline-block w-8 h-8",address:i[2]||((s=(r=i[16].data)==null?void 0:r.config)==null?void 0:s.fleetOwner)||i[15].address},$$inline:!0});const n={c:function(){e=E("div"),t=I("sending as : "),U(l.$$.fragment),this.h()},l:function(c){e=$(c,"DIV",{class:!0});var u=k(e);t=R(u,"sending as : "),G(l.$$.fragment,u),u.forEach(d),this.h()},h:function(){h(e,"class","text-center mb-2"),v(e,Ie,344,10,16254)},m:function(c,u){S(c,e,u),_(e,t),K(l,e,null),o=!0},p:function(c,u){var m,p;const f={};u[0]&98308&&(f.address=c[2]||((p=(m=c[16].data)==null?void 0:m.config)==null?void 0:p.fleetOwner)||c[15].address),l.$set(f)},i:function(c){o||(C(l.$$.fragment,c),o=!0)},o:function(c){D(l.$$.fragment,c),o=!1},d:function(c){c&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:n,id:Ti.name,type:"if",source:"(344:8) {#if fleetOwner && fleetOwner.toLowerCase() !== $wallet.address?.toLowerCase()}",ctx:i}),n}function Ai(i){let e,t,l,o,n,r,s,a;n=new Pt({props:{class:"w-6 h-6",$$slots:{default:[Qu]},$$scope:{ctx:i}},$$inline:!0});const c={c:function(){e=E("div"),t=I(`Fleet Owner
            `),l=E("input"),o=L(),U(n.$$.fragment),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=R(m,`Fleet Owner
            `),l=$(m,"INPUT",{class:!0,type:!0,id:!0,name:!0}),o=j(m),G(n.$$.fragment,m),m.forEach(d),this.h()},h:function(){h(l,"class","text-cyan-300 bg-black"),h(l,"type","text"),h(l,"id","fleetOwnerSpecified"),h(l,"name","fleetOwnerSpecified"),v(l,Ie,355,12,16617),h(e,"class","text-center"),v(e,Ie,353,10,16555)},m:function(f,m){S(f,e,m),_(e,t),_(e,l),Ft(l,i[2]),_(e,o),K(n,e,null),r=!0,s||(a=Ze(l,"input",i[84]),s=!0)},p:function(f,m){m[0]&4&&l.value!==f[2]&&Ft(l,f[2]);const p={};m[2]&1073741824&&(p.$$scope={dirty:m,ctx:f}),n.$set(p)},i:function(f){r||(C(n.$$.fragment,f),r=!0)},o:function(f){D(n.$$.fragment,f),r=!1},d:function(f){f&&d(e),q(n),s=!1,a()}};return B("SvelteRegisterBlock",{block:c,id:Ai.name,type:"if",source:"(353:8) {#if canSpecifyFleetOwner}",ctx:i}),c}function Qu(i){let e;const t={c:function(){e=I(`You can pick a fleetOwner, different than your own wallet address. The attack will then be performed on
              its behalf and will be the owner of the planet being attacked if successful. Note that if the fleetOwner
              chosen is not an ally, a burn tax will be applied as usual.`)},l:function(o){e=R(o,`You can pick a fleetOwner, different than your own wallet address. The attack will then be performed on
              its behalf and will be the owner of the planet being attacked if successful. Note that if the fleetOwner
              chosen is not an ally, a burn tax will be applied as usual.`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Qu.name,type:"slot",source:'(363:12) <Help class=\\"w-6 h-6\\"               >',ctx:i}),t}function Ci(i){let e,t,l,o=i[10].stats.name+"",n,r,s,a,c,u,f=i[9].stats.name+"",m,p,g,b,w,y,P,A,T,O,F=i[17].numSpaceships+"",N,Y,H=i[14].numSpaceships+"",M,W,X,V,Q,z,ie,oe,ce,Z,se,ee,fe,de,we,Pe,Ae,J,le,ge,Ce,Re,Te,Me;function re(at,_e){return at[1]?Ju:Zu}let Ve=re(i),je=Ve(i),me=i[21]&&Di(i),x=(!i[13]||i[13].requireTopUp||!i[13].delegate)&&Fi(i);le=new ye({props:{borderColor:i[24],color:i[23],cornerColor:i[24],class:"mt-5",label:"Fleet Amount",disabled:i[22],$$slots:{default:[cf]},$$scope:{ctx:i}},$$inline:!0}),le.$on("click",i[86]);let ue=dn.forceSend&&af(i);const Ke={c:function(){e=E("div"),t=E("div"),l=E("span"),n=I(o),r=L(),s=Fe("svg"),a=Fe("path"),c=L(),u=E("span"),m=I(f),p=L(),g=E("div"),b=E("span"),w=I("Spaceships"),y=E("span"),P=I("Spaceships"),A=L(),T=E("div"),O=E("span"),N=I(F),Y=E("span"),M=I(H),W=L(),je.c(),X=L(),V=E("div"),Q=L(),me&&me.c(),z=L(),ie=E("label"),oe=E("input"),Z=L(),se=E("span"),ee=I("submit to agent-service"),de=L(),x&&x.c(),we=L(),Pe=E("div"),Ae=L(),J=E("div"),U(le.$$.fragment),ge=L(),ue&&ue.c(),Ce=pe(),this.h()},l:function(_e){e=$(_e,"DIV",{class:!0});var Se=k(e);t=$(Se,"DIV",{class:!0});var Oe=k(t);l=$(Oe,"SPAN",{class:!0});var De=k(l);n=R(De,o),De.forEach(d),r=j(Oe),s=Ne(Oe,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var Ue=k(s);a=Ne(Ue,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(a).forEach(d),Ue.forEach(d),c=j(Oe),u=$(Oe,"SPAN",{class:!0});var it=k(u);m=R(it,f),it.forEach(d),Oe.forEach(d),p=j(Se),g=$(Se,"DIV",{class:!0});var rt=k(g);b=$(rt,"SPAN",{});var Qe=k(b);w=R(Qe,"Spaceships"),Qe.forEach(d),y=$(rt,"SPAN",{class:!0});var ut=k(y);P=R(ut,"Spaceships"),ut.forEach(d),rt.forEach(d),A=j(Se),T=$(Se,"DIV",{class:!0});var st=k(T);O=$(st,"SPAN",{});var ft=k(O);N=R(ft,F),ft.forEach(d),Y=$(st,"SPAN",{class:!0});var lt=k(Y);M=R(lt,H),lt.forEach(d),st.forEach(d),W=j(Se),je.l(Se),Se.forEach(d),X=j(_e),V=$(_e,"DIV",{class:!0}),k(V).forEach(d),Q=j(_e),me&&me.l(_e),z=j(_e),ie=$(_e,"LABEL",{class:!0});var qe=k(ie);oe=$(qe,"INPUT",{type:!0,class:!0}),Z=j(qe),se=$(qe,"SPAN",{class:!0});var Ge=k(se);ee=R(Ge,"submit to agent-service"),Ge.forEach(d),de=j(qe),x&&x.l(qe),qe.forEach(d),we=j(_e),Pe=$(_e,"DIV",{class:!0}),k(Pe).forEach(d),Ae=j(_e),J=$(_e,"DIV",{class:!0});var gt=k(J);G(le.$$.fragment,gt),gt.forEach(d),ge=j(_e),ue&&ue.l(_e),Ce=pe(),this.h()},h:function(){h(l,"class","text-green-600"),v(l,Ie,374,12,17392),h(a,"stroke-linecap","round"),h(a,"stroke-linejoin","round"),h(a,"stroke-width","2"),h(a,"d","M14 5l7 7m0 0l-7 7m7-7H3"),v(a,Ie,376,14,17589),h(s,"class","w-4"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"fill","none"),h(s,"viewBox","0 0 24 24"),h(s,"stroke","currentColor"),v(s,Ie,375,12,17468),h(u,"class","text-green-600 text-right"),v(u,Ie,378,12,17722),h(t,"class","flex flex-row justify-between"),v(t,Ie,373,10,17336),v(b,Ie,382,12,17906),h(y,"class","text-right"),v(y,Ie,382,35,17929),h(g,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(g,Ie,381,10,17823),v(O,Ie,385,12,18055),h(Y,"class","text-right"),v(Y,Ie,385,57,18100),h(T,"class","flex flex-row justify-between"),v(T,Ie,384,10,17999),h(e,"class","flex flex-col"),v(e,Ie,372,8,17298),h(V,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(V,Ie,449,8,21114),h(oe,"type","checkbox"),h(oe,"class","form-checkbox"),oe.disabled=ce=!i[13]||i[13].requireTopUp||!i[13].delegate,v(oe,Ie,479,10,22647),h(se,"class",fe=`ml-2${!i[13]||i[13].requireTopUp||!i[13].delegate?" opacity-25":""}`),v(se,Ie,486,10,22896),h(ie,"class","flex items-center"),v(ie,Ie,478,8,22603),h(Pe,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(Pe,Ie,503,8,23617),h(J,"class","text-center"),v(J,Ie,504,8,23685)},m:function(_e,Se){S(_e,e,Se),_(e,t),_(t,l),_(l,n),_(t,r),_(t,s),_(s,a),_(t,c),_(t,u),_(u,m),_(e,p),_(e,g),_(g,b),_(b,w),_(g,y),_(y,P),_(e,A),_(e,T),_(T,O),_(O,N),_(T,Y),_(Y,M),_(e,W),je.m(e,null),S(_e,X,Se),S(_e,V,Se),S(_e,Q,Se),me&&me.m(_e,Se),S(_e,z,Se),S(_e,ie,Se),_(ie,oe),oe.checked=i[18],_(ie,Z),_(ie,se),_(se,ee),_(ie,de),x&&x.m(ie,null),S(_e,we,Se),S(_e,Pe,Se),S(_e,Ae,Se),S(_e,J,Se),K(le,J,null),S(_e,ge,Se),ue&&ue.m(_e,Se),S(_e,Ce,Se),Re=!0,Te||(Me=Ze(oe,"change",i[85]),Te=!0)},p:function(_e,Se){(!Re||Se[0]&1024)&&o!==(o=_e[10].stats.name+"")&&he(n,o),(!Re||Se[0]&512)&&f!==(f=_e[9].stats.name+"")&&he(m,f),(!Re||Se[0]&131072)&&F!==(F=_e[17].numSpaceships+"")&&he(N,F),(!Re||Se[0]&16384)&&H!==(H=_e[14].numSpaceships+"")&&he(M,H),Ve===(Ve=re(_e))&&je?je.p(_e,Se):(je.d(1),je=Ve(_e),je&&(je.c(),je.m(e,null))),_e[21]?me?me.p(_e,Se):(me=Di(_e),me.c(),me.m(z.parentNode,z)):me&&(me.d(1),me=null),(!Re||Se[0]&8192&&ce!==(ce=!_e[13]||_e[13].requireTopUp||!_e[13].delegate))&&Wo(oe,"disabled",ce),Se[0]&262144&&(oe.checked=_e[18]),(!Re||Se[0]&8192&&fe!==(fe=`ml-2${!_e[13]||_e[13].requireTopUp||!_e[13].delegate?" opacity-25":""}`))&&h(se,"class",fe),!_e[13]||_e[13].requireTopUp||!_e[13].delegate?x?(x.p(_e,Se),Se[0]&8192&&C(x,1)):(x=Fi(_e),x.c(),C(x,1),x.m(ie,null)):x&&(Ee(),D(x,1,1,()=>{x=null}),$e());const Oe={};Se[0]&16777216&&(Oe.borderColor=_e[24]),Se[0]&8388608&&(Oe.color=_e[23]),Se[0]&16777216&&(Oe.cornerColor=_e[24]),Se[0]&4194304&&(Oe.disabled=_e[22]),Se[0]&4194304|Se[2]&1073741824&&(Oe.$$scope={dirty:Se,ctx:_e}),le.$set(Oe),dn.forceSend&&ue.p(_e,Se)},i:function(_e){Re||(C(x),C(le.$$.fragment,_e),C(ue),Re=!0)},o:function(_e){D(x),D(le.$$.fragment,_e),D(ue),Re=!1},d:function(_e){_e&&d(e),je.d(),_e&&d(X),_e&&d(V),_e&&d(Q),me&&me.d(_e),_e&&d(z),_e&&d(ie),x&&x.d(),_e&&d(we),_e&&d(Pe),_e&&d(Ae),_e&&d(J),q(le),_e&&d(ge),ue&&ue.d(_e),_e&&d(Ce),Te=!1,Me()}};return B("SvelteRegisterBlock",{block:Ke,id:Ci.name,type:"if",source:"(372:6) {#if fromPlanetInfo && toPlanetInfo}",ctx:i}),Ke}function Ju(i){var g;let e,t,l,o,n,r,s,a,c,u,f=(((g=i[6])==null?void 0:g.outcome.min.numSpaceshipsLeft)||0)+"",m;const p={c:function(){e=E("div"),t=E("span"),l=I("Arrives in"),o=E("span"),n=I("Spaceships Then"),r=L(),s=E("div"),a=E("span"),c=I(i[27]),u=E("span"),m=I(f),this.h()},l:function(w){e=$(w,"DIV",{class:!0});var y=k(e);t=$(y,"SPAN",{});var P=k(t);l=R(P,"Arrives in"),P.forEach(d),o=$(y,"SPAN",{class:!0});var A=k(o);n=R(A,"Spaceships Then"),A.forEach(d),y.forEach(d),r=j(w),s=$(w,"DIV",{class:!0});var T=k(s);a=$(T,"SPAN",{});var O=k(a);c=R(O,i[27]),O.forEach(d),u=$(T,"SPAN",{class:!0});var F=k(u);m=R(F,f),F.forEach(d),T.forEach(d),this.h()},h:function(){v(t,Ie,440,14,20740),h(o,"class","text-right"),v(o,Ie,440,37,20763),h(e,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(e,Ie,439,12,20655),v(a,Ie,443,14,20900),h(u,"class","text-right"),v(u,Ie,443,57,20943),h(s,"class","flex flex-row justify-between"),v(s,Ie,442,12,20842)},m:function(w,y){S(w,e,y),_(e,t),_(t,l),_(e,o),_(o,n),S(w,r,y),S(w,s,y),_(s,a),_(a,c),_(s,u),_(u,m)},p:function(w,y){var P;y[0]&134217728&&he(c,w[27]),y[0]&64&&f!==(f=(((P=w[6])==null?void 0:P.outcome.min.numSpaceshipsLeft)||0)+"")&&he(m,f)},d:function(w){w&&d(e),w&&d(r),w&&d(s)}};return B("SvelteRegisterBlock",{block:p,id:Ju.name,type:"else",source:"(426:10) {:else}",ctx:i}),p}function Zu(i){var we,Pe,Ae;let e,t,l,o,n,r,s,a,c=i[10].stats.attack+"",u,f,m=i[9].stats.defense+"",p,g,b,w,y,P,A,T,O,F,N,Y,H=((we=i[6])==null?void 0:we.numSpaceshipsAtArrival.min)+"",M,W,X,V,Q,z,ie,oe,ce;function Z(J,le){var ge,Ce;return((ge=J[6])==null?void 0:ge.outcome.min.captured)?tf:((Ce=J[6])==null?void 0:Ce.outcome.nativeResist)?ef:xu}let se=Z(i),ee=se(i),fe=((Pe=i[6])==null?void 0:Pe.outcome.min.captured)&&((Ae=i[6])==null?void 0:Ae.outcome.timeUntilFails)>0&&Oi(i);const de={c:function(){e=E("div"),t=E("span"),l=I("Attack"),o=E("span"),n=I("Defense"),r=L(),s=E("div"),a=E("span"),u=I(c),f=E("span"),p=I(m),g=L(),b=E("div"),w=E("span"),y=I("Arrives in"),P=E("span"),A=I("Spaceships Then"),T=L(),O=E("div"),F=E("span"),N=I(i[27]),Y=E("span"),M=I(H),W=L(),X=E("div"),V=E("span"),Q=I("Predicted outcome at time of arrival"),z=L(),ie=E("div"),ee.c(),oe=L(),fe&&fe.c(),ce=pe(),this.h()},l:function(le){e=$(le,"DIV",{class:!0});var ge=k(e);t=$(ge,"SPAN",{});var Ce=k(t);l=R(Ce,"Attack"),Ce.forEach(d),o=$(ge,"SPAN",{class:!0});var Re=k(o);n=R(Re,"Defense"),Re.forEach(d),ge.forEach(d),r=j(le),s=$(le,"DIV",{class:!0});var Te=k(s);a=$(Te,"SPAN",{});var Me=k(a);u=R(Me,c),Me.forEach(d),f=$(Te,"SPAN",{class:!0});var re=k(f);p=R(re,m),re.forEach(d),Te.forEach(d),g=j(le),b=$(le,"DIV",{class:!0});var Ve=k(b);w=$(Ve,"SPAN",{});var je=k(w);y=R(je,"Arrives in"),je.forEach(d),P=$(Ve,"SPAN",{class:!0});var me=k(P);A=R(me,"Spaceships Then"),me.forEach(d),Ve.forEach(d),T=j(le),O=$(le,"DIV",{class:!0});var x=k(O);F=$(x,"SPAN",{});var ue=k(F);N=R(ue,i[27]),ue.forEach(d),Y=$(x,"SPAN",{class:!0});var Ke=k(Y);M=R(Ke,H),Ke.forEach(d),x.forEach(d),W=j(le),X=$(le,"DIV",{class:!0});var at=k(X);V=$(at,"SPAN",{});var _e=k(V);Q=R(_e,"Predicted outcome at time of arrival"),_e.forEach(d),at.forEach(d),z=j(le),ie=$(le,"DIV",{class:!0});var Se=k(ie);ee.l(Se),Se.forEach(d),oe=j(le),fe&&fe.l(le),ce=pe(),this.h()},h:function(){v(t,Ie,390,14,18300),h(o,"class","text-right"),v(o,Ie,390,33,18319),h(e,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(e,Ie,389,12,18215),v(a,Ie,393,14,18448),h(f,"class","text-right"),v(f,Ie,393,56,18490),h(s,"class","flex flex-row justify-between"),v(s,Ie,392,12,18390),v(w,Ie,397,14,18668),h(P,"class","text-right"),v(P,Ie,397,37,18691),h(b,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(b,Ie,396,12,18583),v(F,Ie,400,14,18828),h(Y,"class","text-right"),v(Y,Ie,400,57,18871),h(O,"class","flex flex-row justify-between"),v(O,Ie,399,12,18770),v(V,Ie,406,14,19093),h(X,"class","flex flex-row justify-center mt-2 text-xs text-gray-500"),v(X,Ie,405,12,19008),h(ie,"class","flex flex-row justify-center"),v(ie,Ie,408,12,19174)},m:function(le,ge){S(le,e,ge),_(e,t),_(t,l),_(e,o),_(o,n),S(le,r,ge),S(le,s,ge),_(s,a),_(a,u),_(s,f),_(f,p),S(le,g,ge),S(le,b,ge),_(b,w),_(w,y),_(b,P),_(P,A),S(le,T,ge),S(le,O,ge),_(O,F),_(F,N),_(O,Y),_(Y,M),S(le,W,ge),S(le,X,ge),_(X,V),_(V,Q),S(le,z,ge),S(le,ie,ge),ee.m(ie,null),S(le,oe,ge),fe&&fe.m(le,ge),S(le,ce,ge)},p:function(le,ge){var Ce,Re,Te;ge[0]&1024&&c!==(c=le[10].stats.attack+"")&&he(u,c),ge[0]&512&&m!==(m=le[9].stats.defense+"")&&he(p,m),ge[0]&134217728&&he(N,le[27]),ge[0]&64&&H!==(H=((Ce=le[6])==null?void 0:Ce.numSpaceshipsAtArrival.min)+"")&&he(M,H),se===(se=Z(le))&&ee?ee.p(le,ge):(ee.d(1),ee=se(le),ee&&(ee.c(),ee.m(ie,null))),((Re=le[6])==null?void 0:Re.outcome.min.captured)&&((Te=le[6])==null?void 0:Te.outcome.timeUntilFails)>0?fe?fe.p(le,ge):(fe=Oi(le),fe.c(),fe.m(ce.parentNode,ce)):fe&&(fe.d(1),fe=null)},d:function(le){le&&d(e),le&&d(r),le&&d(s),le&&d(g),le&&d(b),le&&d(T),le&&d(O),le&&d(W),le&&d(X),le&&d(z),le&&d(ie),ee.d(),le&&d(oe),fe&&fe.d(le),le&&d(ce)}};return B("SvelteRegisterBlock",{block:de,id:Zu.name,type:"if",source:"(389:10) {#if !gift}",ctx:i}),de}function xu(i){var r;let e,t=((r=i[6])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (attack failed)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (attack failed)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,Ie,414,21,19595)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&64&&t!==(t=((u=a[6])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:xu.name,type:"else",source:"(415:14) {:else}",ctx:i}),n}function ef(i){var r;let e,t=((r=i[6])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (native population resists)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (native population resists)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,Ie,412,16,19451)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&64&&t!==(t=((u=a[6])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:ef.name,type:"if",source:"(412:57) ",ctx:i}),n}function tf(i){var r;let e,t=((r=i[6])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (captured)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (captured)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-green-600"),v(e,Ie,410,16,19286)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&64&&t!==(t=((u=a[6])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:tf.name,type:"if",source:"(410:14) {#if prediction?.outcome.min.captured}",ctx:i}),n}function Oi(i){var a;let e,t,l,o=tt((a=i[6])==null?void 0:a.outcome.timeUntilFails)+"",n,r;const s={c:function(){e=E("div"),t=E("span"),l=I(`attack fails if resolved
                  `),n=I(o),r=I(`
                  late`),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);t=$(f,"SPAN",{class:!0});var m=k(t);l=R(m,`attack fails if resolved
                  `),n=R(m,o),r=R(m,`
                  late`),m.forEach(d),f.forEach(d),this.h()},h:function(){h(t,"class","text-red-600"),v(t,Ie,418,16,19879),h(e,"class","flex flex-row justify-center"),v(e,Ie,417,14,19820)},m:function(u,f){S(u,e,f),_(e,t),_(t,l),_(t,n),_(t,r)},p:function(u,f){var m;f[0]&64&&o!==(o=tt((m=u[6])==null?void 0:m.outcome.timeUntilFails)+"")&&he(n,o)},d:function(u){u&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:Oi.name,type:"if",source:"(417:12) {#if prediction?.outcome.min.captured && prediction?.outcome.timeUntilFails > 0}",ctx:i}),s}function Di(i){let e,t,l,o,n,r,s,a,c,u,f;function m(w,y){var P,A,T;return((P=w[21])==null?void 0:P.outcome.gift)?rf:((A=w[21])==null?void 0:A.outcome.min.captured)?lf:((T=w[21])==null?void 0:T.outcome.nativeResist)?of:nf}let p=m(i),g=p(i);const b={c:function(){e=E("div"),t=E("span"),l=I("Predicted outcome Including Traveling Fleets"),o=L(),n=E("div"),r=E("span"),s=I("(assuming they all reaches in time)"),a=L(),c=E("div"),g.c(),u=L(),f=E("div"),this.h()},l:function(y){e=$(y,"DIV",{class:!0});var P=k(e);t=$(P,"SPAN",{});var A=k(t);l=R(A,"Predicted outcome Including Traveling Fleets"),A.forEach(d),P.forEach(d),o=j(y),n=$(y,"DIV",{class:!0});var T=k(n);r=$(T,"SPAN",{});var O=k(r);s=R(O,"(assuming they all reaches in time)"),O.forEach(d),T.forEach(d),a=j(y),c=$(y,"DIV",{class:!0});var F=k(c);g.l(F),F.forEach(d),u=j(y),f=$(y,"DIV",{class:!0}),k(f).forEach(d),this.h()},h:function(){v(t,Ie,453,12,21301),h(e,"class","flex flex-row justify-center mt-2 text-xs text-yellow-500"),v(e,Ie,452,10,21216),v(r,Ie,456,12,21476),h(n,"class","flex flex-row justify-center mt-0 mb-1 text-xs text-yellow-700"),v(n,Ie,455,10,21386),h(c,"class","flex flex-row justify-center"),v(c,Ie,458,10,21552),h(f,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(f,Ie,475,10,22520)},m:function(y,P){S(y,e,P),_(e,t),_(t,l),S(y,o,P),S(y,n,P),_(n,r),_(r,s),S(y,a,P),S(y,c,P),g.m(c,null),S(y,u,P),S(y,f,P)},p:function(y,P){p===(p=m(y))&&g?g.p(y,P):(g.d(1),g=p(y),g&&(g.c(),g.m(c,null)))},d:function(y){y&&d(e),y&&d(o),y&&d(n),y&&d(a),y&&d(c),g.d(),y&&d(u),y&&d(f)}};return B("SvelteRegisterBlock",{block:b,id:Di.name,type:"if",source:"(452:8) {#if futurePrediction}",ctx:i}),b}function nf(i){var r;let e,t=((r=i[21])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (attack failed)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (attack failed)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,Ie,467,19,22177)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&2097152&&t!==(t=((u=a[21])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:nf.name,type:"else",source:"(468:12) {:else}",ctx:i}),n}function of(i){var r;let e,t=((r=i[21])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (native population resists)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (native population resists)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,Ie,464,14,22014)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&2097152&&t!==(t=((u=a[21])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:of.name,type:"if",source:"(464:61) ",ctx:i}),n}function lf(i){var r;let e,t=((r=i[21])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (captured)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (captured)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-green-600"),v(e,Ie,462,14,21841)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c[0]&2097152&&t!==(t=((u=a[21])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:lf.name,type:"if",source:"(462:61) ",ctx:i}),n}function rf(i){var s;let e,t,l=((s=i[21])==null?void 0:s.outcome.min.numSpaceshipsLeft)+"",o,n;const r={c:function(){e=E("span"),t=I("Will have "),o=I(l),n=I(" spaceships"),this.h()},l:function(c){e=$(c,"SPAN",{class:!0});var u=k(e);t=R(u,"Will have "),o=R(u,l),n=R(u," spaceships"),u.forEach(d),this.h()},h:function(){h(e,"class","text-green-600"),v(e,Ie,460,14,21658)},m:function(c,u){S(c,e,u),_(e,t),_(e,o),_(e,n)},p:function(c,u){var f;u[0]&2097152&&l!==(l=((f=c[21])==null?void 0:f.outcome.min.numSpaceshipsLeft)+"")&&he(o,l)},d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:rf.name,type:"if",source:"(460:12) {#if futurePrediction?.outcome.gift}",ctx:i}),r}function Fi(i){let e,t,l,o,n,r,s,a;r=new Pt({props:{class:"w-4",$$slots:{default:[sf]},$$scope:{ctx:i}},$$inline:!0});const c={c:function(){e=E("span"),t=I("( Enable "),l=E("a"),o=I("Agent-Service"),n=L(),U(r.$$.fragment),s=I(")"),this.h()},l:function(f){e=$(f,"SPAN",{class:!0});var m=k(e);t=R(m,"( Enable "),l=$(m,"A",{class:!0,href:!0});var p=k(l);o=R(p,"Agent-Service"),p.forEach(d),n=j(m),G(r.$$.fragment,m),s=R(m,")"),m.forEach(d),this.h()},h:function(){h(l,"class","underline"),h(l,"href",yn("agent-service/")),v(l,Ie,495,24,23313),h(e,"class","ml-2 text-xs"),v(e,Ie,494,12,23262)},m:function(f,m){S(f,e,m),_(e,t),_(e,l),_(l,o),_(e,n),K(r,e,null),_(e,s),a=!0},p:function(f,m){const p={};m[2]&1073741824&&(p.$$scope={dirty:m,ctx:f}),r.$set(p)},i:function(f){a||(C(r.$$.fragment,f),a=!0)},o:function(f){D(r.$$.fragment,f),a=!1},d:function(f){f&&d(e),q(r)}};return B("SvelteRegisterBlock",{block:c,id:Fi.name,type:"if",source:"(494:10) {#if !agentServiceAccount || agentServiceAccount.requireTopUp || !agentServiceAccount.delegate}",ctx:i}),c}function sf(i){let e;const t={c:function(){e=I("The agent-service can resolve the second tx for you. You need to register and top it up first though.")},l:function(o){e=R(o,"The agent-service can resolve the second tx for you. You need to register and top it up first though.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:sf.name,type:"slot",source:'(497:14) <Help class=\\"w-4\\"                 >',ctx:i}),t}function Ni(i){let e;const t={c:function(){e=I("(need higher attack)")},l:function(o){e=R(o,"(need higher attack)")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ni.name,type:"if",source:"(526:12) {#if confirmDisabled}",ctx:i}),t}function cf(i){let e,t,l,o,n=i[22]&&Ni(i);const r={c:function(){e=E("p"),t=I("Confirm"),l=L(),n&&n.c(),o=pe(),this.h()},l:function(a){e=$(a,"P",{});var c=k(e);t=R(c,"Confirm"),c.forEach(d),l=j(a),n&&n.l(a),o=pe(),this.h()},h:function(){v(e,Ie,524,12,24390)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),n&&n.m(a,c),S(a,o,c)},p:function(a,c){a[22]?n||(n=Ni(a),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d:function(a){a&&d(e),a&&d(l),n&&n.d(a),a&&d(o)}};return B("SvelteRegisterBlock",{block:r,id:cf.name,type:"slot",source:'(506:10) <PanelButton             borderColor={border_color}             color={text_color}             cornerColor={border_color}             class=\\"mt-5\\"             label=\\"Fleet Amount\\"             disabled={confirmDisabled}             on:click={() =>               sendFlow.confirm(                 fleetAmount,                 gift,                 useAgentService,                 fleetOwnerSpecified,                 arrivalTimeWanted                   ? Math.floor(arrivalTimeWanted.getTime() / 1000)                   : Math.ceil((spaceInfo.timeToArrive(fromPlanetInfo, toPlanetInfo) + now()) / 60) * 60,                 false               )}           >',ctx:i}),r}function af(i){let e,t,l;t=new ye({props:{borderColor:i[24],color:i[23],cornerColor:i[24],class:"mt-5",label:"Fleet Amount",disabled:i[22],$$slots:{default:[uf]},$$scope:{ctx:i}},$$inline:!0}),t.$on("click",i[87]);const o={c:function(){e=E("div"),U(t.$$.fragment),this.h()},l:function(r){e=$(r,"DIV",{class:!0});var s=k(e);G(t.$$.fragment,s),s.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,Ie,530,10,24550)},m:function(r,s){S(r,e,s),K(t,e,null),l=!0},p:function(r,s){const a={};s[0]&16777216&&(a.borderColor=r[24]),s[0]&8388608&&(a.color=r[23]),s[0]&16777216&&(a.cornerColor=r[24]),s[0]&4194304&&(a.disabled=r[22]),s[0]&4194304|s[2]&1073741824&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i:function(r){l||(C(t.$$.fragment,r),l=!0)},o:function(r){D(t.$$.fragment,r),l=!1},d:function(r){r&&d(e),q(t)}};return B("SvelteRegisterBlock",{block:o,id:af.name,type:"if",source:"(530:8) {#if options['forceSend']}",ctx:i}),o}function Li(i){let e;const t={c:function(){e=I("(need higher attack)")},l:function(o){e=R(o,"(need higher attack)")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Li.name,type:"if",source:"(552:14) {#if confirmDisabled}",ctx:i}),t}function uf(i){let e,t,l,o,n=i[22]&&Li(i);const r={c:function(){e=E("p"),t=I("FORCE"),l=L(),n&&n.c(),o=pe(),this.h()},l:function(a){e=$(a,"P",{});var c=k(e);t=R(c,"FORCE"),c.forEach(d),l=j(a),n&&n.l(a),o=pe(),this.h()},h:function(){v(e,Ie,550,14,25294)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),n&&n.m(a,c),S(a,o,c)},p:function(a,c){a[22]?n||(n=Li(a),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d:function(a){a&&d(e),a&&d(l),n&&n.d(a),a&&d(o)}};return B("SvelteRegisterBlock",{block:r,id:uf.name,type:"slot",source:'(532:12) <PanelButton               borderColor={border_color}               color={text_color}               cornerColor={border_color}               class=\\"mt-5\\"               label=\\"Fleet Amount\\"               disabled={confirmDisabled}               on:click={() =>                 sendFlow.confirm(                   fleetAmount,                   gift,                   useAgentService,                   fleetOwnerSpecified,                   arrivalTimeWanted                     ? Math.floor(arrivalTimeWanted.getTime() / 1000)                     : Math.ceil((spaceInfo.timeToArrive(fromPlanetInfo, toPlanetInfo) + now()) / 60) * 60,                   true                 )}             >',ctx:i}),r}function ff(i){var we,Pe;let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W,X,V,Q,z,ie;t=new ki({props:{disabled:i[11]===i[14].owner,active:!i[1],$$slots:{default:[Uu]},$$scope:{ctx:i}},$$inline:!0}),t.$on("click",i[33]),o=new ki({props:{active:i[1],$$slots:{default:[Gu]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[32]);let oe=i[26]&&Si(i),ce=((Pe=(we=i[6])==null?void 0:we.outcome.tax)==null?void 0:Pe.loss)>0&&$i(i),Z=i[8]&&Pi(i),se=i[29].length>0&&Bi(i),ee=!i[1]&&Ri(i),fe=i[10]&&i[9]&&Ci(i);const de={c:function(){e=E("nav"),U(t.$$.fragment),l=L(),U(o.$$.fragment),n=L(),oe&&oe.c(),r=L(),s=E("div"),a=E("p"),c=I("How many spaceships?"),u=L(),f=E("div"),m=L(),p=E("div"),g=E("div"),b=E("input"),w=L(),y=E("input"),P=L(),A=E("div"),T=E("span"),ce&&ce.c(),O=L(),F=E("div"),N=L(),Y=E("div"),Z&&Z.c(),H=L(),se&&se.c(),M=L(),W=E("div"),X=L(),ee&&ee.c(),V=L(),fe&&fe.c(),this.h()},l:function(J){e=$(J,"NAV",{class:!0,"aria-label":!0});var le=k(e);G(t.$$.fragment,le),l=j(le),G(o.$$.fragment,le),le.forEach(d),n=j(J),oe&&oe.l(J),r=j(J),s=$(J,"DIV",{class:!0});var ge=k(s);a=$(ge,"P",{class:!0});var Ce=k(a);c=R(Ce,"How many spaceships?"),Ce.forEach(d),ge.forEach(d),u=j(J),f=$(J,"DIV",{class:!0}),k(f).forEach(d),m=j(J),p=$(J,"DIV",{});var Re=k(p);g=$(Re,"DIV",{class:!0});var Te=k(g);b=$(Te,"INPUT",{class:!0,type:!0,id:!0,name:!0,min:!0,max:!0}),w=j(Te),y=$(Te,"INPUT",{class:!0,type:!0,id:!0}),Te.forEach(d),P=j(Re),A=$(Re,"DIV",{class:!0});var Me=k(A);T=$(Me,"SPAN",{});var re=k(T);ce&&ce.l(re),re.forEach(d),Me.forEach(d),O=j(Re),F=$(Re,"DIV",{class:!0}),k(F).forEach(d),N=j(Re),Y=$(Re,"DIV",{class:!0});var Ve=k(Y);Z&&Z.l(Ve),Ve.forEach(d),H=j(Re),se&&se.l(Re),M=j(Re),W=$(Re,"DIV",{class:!0}),k(W).forEach(d),X=j(Re),ee&&ee.l(Re),V=j(Re),fe&&fe.l(Re),Re.forEach(d),this.h()},h:function(){h(e,"class","relative z-0 mb-5 rounded-lg shadow flex divide-x divide-gray-700"),h(e,"aria-label","Tabs"),v(e,Ie,254,4,12661),h(a,"class","font-bold"),v(a,Ie,268,6,13314),h(s,"class","text-center"),v(s,Ie,267,4,13282),h(f,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(f,Ie,270,4,13375),h(b,"class","text-cyan-300 bg-cyan-300"),h(b,"type","range"),h(b,"id","fleetAmount"),h(b,"name","fleetAmount"),h(b,"min","1"),h(b,"max",i[5]),v(b,Ie,275,8,13610),h(y,"class","bg-gray-700 border-cyan-800 border-2"),h(y,"type","text"),h(y,"id","textInput"),v(y,Ie,285,8,13913),h(g,"class","text-center"),v(g,Ie,273,6,13452),v(T,Ie,289,8,14091),h(A,"class","flex flex-row justify-center"),v(A,Ie,288,6,14040),h(F,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(F,Ie,300,6,14471),h(Y,"class","text-center"),v(Y,Ie,302,6,14538),h(W,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(W,Ie,340,6,16077),v(p,Ie,272,4,13440)},m:function(J,le){S(J,e,le),K(t,e,null),_(e,l),K(o,e,null),S(J,n,le),oe&&oe.m(J,le),S(J,r,le),S(J,s,le),_(s,a),_(a,c),S(J,u,le),S(J,f,le),S(J,m,le),S(J,p,le),_(p,g),_(g,b),Ft(b,i[4]),_(g,w),_(g,y),Ft(y,i[4]),_(p,P),_(p,A),_(A,T),ce&&ce.m(T,null),_(p,O),_(p,F),_(p,N),_(p,Y),Z&&Z.m(Y,null),_(p,H),se&&se.m(p,null),_(p,M),_(p,W),_(p,X),ee&&ee.m(p,null),_(p,V),fe&&fe.m(p,null),Q=!0,z||(ie=[Ze(b,"change",i[78]),Ze(b,"input",i[78]),Ze(y,"input",i[79])],z=!0)},p:function(J,le){var Re,Te;const ge={};le[0]&18432&&(ge.disabled=J[11]===J[14].owner),le[0]&2&&(ge.active=!J[1]),le[2]&1073741824&&(ge.$$scope={dirty:le,ctx:J}),t.$set(ge);const Ce={};le[0]&2&&(Ce.active=J[1]),le[2]&1073741824&&(Ce.$$scope={dirty:le,ctx:J}),o.$set(Ce),J[26]?oe?oe.p(J,le):(oe=Si(J),oe.c(),oe.m(r.parentNode,r)):oe&&(oe.d(1),oe=null),(!Q||le[0]&32)&&h(b,"max",J[5]),le[0]&16&&Ft(b,J[4]),le[0]&16&&y.value!==J[4]&&Ft(y,J[4]),((Te=(Re=J[6])==null?void 0:Re.outcome.tax)==null?void 0:Te.loss)>0?ce?ce.p(J,le):(ce=$i(J),ce.c(),ce.m(T,null)):ce&&(ce.d(1),ce=null),J[8]?Z?(Z.p(J,le),le[0]&256&&C(Z,1)):(Z=Pi(J),Z.c(),C(Z,1),Z.m(Y,null)):Z&&(Ee(),D(Z,1,1,()=>{Z=null}),$e()),J[29].length>0?se?se.p(J,le):(se=Bi(J),se.c(),se.m(p,M)):se&&(se.d(1),se=null),J[1]?ee&&(Ee(),D(ee,1,1,()=>{ee=null}),$e()):ee?(ee.p(J,le),le[0]&2&&C(ee,1)):(ee=Ri(J),ee.c(),C(ee,1),ee.m(p,V)),J[10]&&J[9]?fe?(fe.p(J,le),le[0]&1536&&C(fe,1)):(fe=Ci(J),fe.c(),C(fe,1),fe.m(p,null)):fe&&(Ee(),D(fe,1,1,()=>{fe=null}),$e())},i:function(J){Q||(C(t.$$.fragment,J),C(o.$$.fragment,J),C(Z),C(ee),C(fe),Q=!0)},o:function(J){D(t.$$.fragment,J),D(o.$$.fragment,J),D(Z),D(ee),D(fe),Q=!1},d:function(J){J&&d(e),q(t),q(o),J&&d(n),oe&&oe.d(J),J&&d(r),J&&d(s),J&&d(u),J&&d(f),J&&d(m),J&&d(p),ce&&ce.d(),Z&&Z.d(),se&&se.d(),ee&&ee.d(),fe&&fe.d(),z=!1,_n(ie)}};return B("SvelteRegisterBlock",{block:de,id:ff.name,type:"slot",source:"(252:2) <Modal {border_color} on:close={() => sendFlow.back()}>",ctx:i}),de}function df(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:df.name,type:"slot",source:'(247:6) <PanelButton label=\\"OK\\" on:click={() => (attentionRequired = undefined)}>',ctx:i}),t}function mf(i){let e,t,l,o,n,r;n=new ye({props:{label:"OK",$$slots:{default:[df]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[76]);const s={c:function(){e=E("div"),t=E("p"),l=I("Popup Idle, please review information"),o=L(),U(n.$$.fragment),this.h()},l:function(c){e=$(c,"DIV",{class:!0});var u=k(e);t=$(u,"P",{class:!0});var f=k(t);l=R(f,"Popup Idle, please review information"),f.forEach(d),o=j(u),G(n.$$.fragment,u),u.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,Ie,245,6,12284),h(e,"class","text-center"),v(e,Ie,244,4,12252)},m:function(c,u){S(c,e,u),_(e,t),_(t,l),_(e,o),K(n,e,null),r=!0},p:function(c,u){const f={};u[2]&1073741824&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),q(n)}};return B("SvelteRegisterBlock",{block:s,id:mf.name,type:"slot",source:"(244:2) <Modal {border_color} on:close={() => (attentionRequired = undefined)}>",ctx:i}),s}function ji(i){let e,t,l,o;const n=[Xu,Hu],r=[];function s(c,u){return c[20]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:ji.name,type:"component",source:"",ctx:i}),a}function t1(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W,X,V,Q=ae,z=()=>(Q(),Q=tn(a,ne=>t(14,V=ne)),a),ie,oe,ce,Z,se,ee=ae,fe=()=>(ee(),ee=tn(o,ne=>t(17,se=ne)),o),de,we,Pe=ae,Ae=()=>(Pe(),Pe=tn(c,ne=>t(75,we=ne)),c);ve(St,"wallet"),ke(i,St,ne=>t(15,ie=ne)),ve(cn,"time"),ke(i,cn,ne=>t(72,oe=ne)),ve(Zo,"agentService"),ke(i,Zo,ne=>t(73,ce=ne)),ve(Xe,"sendFlow"),ke(i,Xe,ne=>t(16,Z=ne)),ve(nn,"playersQuery"),ke(i,nn,ne=>t(74,de=ne)),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>ee()),i.$$.on_destroy.push(()=>Pe());let{$$slots:J={},$$scope:le}=e;He("SendingSpaceships",J,[]);var ge,Ce,Re,Te,Me,re,Ve,je,me,x,ue,Ke,at,_e,Se,Oe,De,Ue,it,rt,Qe,ut,st,ft,lt;let qe;function Ge(ne){qe?(t(3,te=new Date(parseInt(qe)*1e3)),t(19,Be=te.toLocaleString())):(t(3,te=void 0),t(19,Be=void 0))}let gt=!1,bt=!1,nt,te,Be;qt(()=>{var ne,en;t(2,nt=(en=(ne=Z.data)===null||ne===void 0?void 0:ne.config)===null||en===void 0?void 0:en.fleetOwner)});let Tt=!1,dt=1,yt,At=!1,Dt,It,Ut,Gt=!1;qt(()=>{t(2,nt=void 0),t(18,gt=zt.isAgentServiceActivatedByDefault()),t(4,dt=1),t(59,Tt=!1),t(1,bt=Xe.isGift())});function sn(){V.owner&&t(1,bt=!0)}function xt(){t(1,bt=!1)}const Cn=[];Object.keys(e).forEach(ne=>{!~Cn.indexOf(ne)&&ne.slice(0,2)!=="$$"&&ne!=="slot"&&console.warn(`<SendingSpaceships> was created with unknown prop '${ne}'`)});const En=()=>t(20,Dt=void 0),On=()=>t(20,Dt=void 0);function go(){dt=Po(this.value),t(4,dt),t(17,se),t(16,Z),t(51,Ue),t(52,it),t(10,l),t(5,yt),t(53,rt),t(54,Qe),t(55,ut),t(56,st),t(59,Tt),t(34,ge),t(35,Ce),t(36,Re)}function io(){dt=this.value,t(4,dt),t(17,se),t(16,Z),t(51,Ue),t(52,it),t(10,l),t(5,yt),t(53,rt),t(54,Qe),t(55,ut),t(56,st),t(59,Tt),t(34,ge),t(35,Ce),t(36,Re)}function bo(ne){te=ne,t(3,te),t(0,qe),t(68,F),t(62,A),t(72,oe),t(10,l),t(9,s),t(16,Z),t(34,ge),t(35,Ce),t(36,Re),t(39,re),t(40,Ve)}function wo(ne){Be=ne,t(19,Be)}const vo=()=>t(0,qe="");function ko(){qe=ns(this),t(0,qe),t(29,f),t(71,u),t(75,we),t(62,A),t(10,l),t(9,s),t(16,Z),t(34,ge),t(35,Ce),t(36,Re),t(39,re),t(40,Ve)}function yo(){nt=this.value,t(2,nt)}function ph(){gt=this.checked,t(18,gt),t(60,At),t(13,P),t(73,ce)}const hh=()=>Xe.confirm(dt,bt,gt,nt,te?Math.floor(te.getTime()/1e3):Math.ceil((be.timeToArrive(l,s)+Zt())/60)*60,!1),_h=()=>Xe.confirm(dt,bt,gt,nt,te?Math.floor(te.getTime()/1e3):Math.ceil((be.timeToArrive(l,s)+Zt())/60)*60,!0),gh=()=>Xe.back();return i.$capture_state=()=>({_a:ge,_b:Ce,_c:Re,_d:Te,_e:Me,_f:re,_g:Ve,_h:je,_j:me,_k:x,_l:ue,_m:Ke,_o:at,_p:_e,_q:Se,_r:Oe,_s:De,_t:Ue,_u:it,_v:rt,_w:Qe,_x:ut,_y:st,_z:ft,_0:lt,PanelButton:ye,Modal:Le,sendFlow:Xe,onMount:qt,planets:vt,spaceInfo:be,timeToText:tt,time:cn,now:Zt,url:yn,Help:Pt,agentService:Zo,account:zt,AttackSendTabButton:ki,playersQuery:nn,Blockie:mn,wallet:St,Flatpickr:Yu,confirmDatePlugin:ts,planetFutureStates:fs,options:dn,travelingFleetSelected:qe,onTravelingFleetSelected:Ge,useAgentService:gt,gift:bt,fleetOwnerSpecified:nt,arrivalTimeWanted:te,formatted_arrivalTimeWanted:Be,fleetAmountSet:Tt,fleetAmount:dt,maxSpaceships:yt,useAgentServiceInitialised:At,attentionRequired:Dt,prediction:It,futurePrediction:Ut,confirmDisabled:Gt,useSend:sn,useAttack:xt,text_color:X,border_color:W,warningNote:M,warning:H,toPlanetState:a,defaultArrivalDateTime:N,defaultTimeToArrive:A,flatpickrOptions:Y,futureState:p,fromPlayer:b,senderPlayer:w,currentTimeToArrive:T,toPlanetInfo:s,fromPlanetInfo:l,fleetOwner:n,toPlayer:g,fromPlanetState:o,actualDefaultArrivalDateTime:F,currentTimeToArriveFormatted:O,agentServiceAccount:P,canSpecifyFleetOwner:y,fleetSender:r,futureStatesAtFleetArrival:m,currentFutures:u,travelingArrivals:f,planetFutures:c,$toPlanetState:V,$wallet:ie,$time:oe,$agentService:ce,$sendFlow:Z,$fromPlanetState:se,$playersQuery:de,$planetFutures:we}),i.$inject_state=ne=>{"_a"in ne&&t(34,ge=ne._a),"_b"in ne&&t(35,Ce=ne._b),"_c"in ne&&t(36,Re=ne._c),"_d"in ne&&t(37,Te=ne._d),"_e"in ne&&t(38,Me=ne._e),"_f"in ne&&t(39,re=ne._f),"_g"in ne&&t(40,Ve=ne._g),"_h"in ne&&t(41,je=ne._h),"_j"in ne&&t(42,me=ne._j),"_k"in ne&&t(43,x=ne._k),"_l"in ne&&t(44,ue=ne._l),"_m"in ne&&t(45,Ke=ne._m),"_o"in ne&&t(46,at=ne._o),"_p"in ne&&t(47,_e=ne._p),"_q"in ne&&t(48,Se=ne._q),"_r"in ne&&t(49,Oe=ne._r),"_s"in ne&&t(50,De=ne._s),"_t"in ne&&t(51,Ue=ne._t),"_u"in ne&&t(52,it=ne._u),"_v"in ne&&t(53,rt=ne._v),"_w"in ne&&t(54,Qe=ne._w),"_x"in ne&&t(55,ut=ne._x),"_y"in ne&&t(56,st=ne._y),"_z"in ne&&t(57,ft=ne._z),"_0"in ne&&t(58,lt=ne._0),"travelingFleetSelected"in ne&&t(0,qe=ne.travelingFleetSelected),"useAgentService"in ne&&t(18,gt=ne.useAgentService),"gift"in ne&&t(1,bt=ne.gift),"fleetOwnerSpecified"in ne&&t(2,nt=ne.fleetOwnerSpecified),"arrivalTimeWanted"in ne&&t(3,te=ne.arrivalTimeWanted),"formatted_arrivalTimeWanted"in ne&&t(19,Be=ne.formatted_arrivalTimeWanted),"fleetAmountSet"in ne&&t(59,Tt=ne.fleetAmountSet),"fleetAmount"in ne&&t(4,dt=ne.fleetAmount),"maxSpaceships"in ne&&t(5,yt=ne.maxSpaceships),"useAgentServiceInitialised"in ne&&t(60,At=ne.useAgentServiceInitialised),"attentionRequired"in ne&&t(20,Dt=ne.attentionRequired),"prediction"in ne&&t(6,It=ne.prediction),"futurePrediction"in ne&&t(21,Ut=ne.futurePrediction),"confirmDisabled"in ne&&t(22,Gt=ne.confirmDisabled),"text_color"in ne&&t(23,X=ne.text_color),"border_color"in ne&&t(24,W=ne.border_color),"warningNote"in ne&&t(25,M=ne.warningNote),"warning"in ne&&t(26,H=ne.warning),"toPlanetState"in ne&&z(t(7,a=ne.toPlanetState)),"defaultArrivalDateTime"in ne&&t(61,N=ne.defaultArrivalDateTime),"defaultTimeToArrive"in ne&&t(62,A=ne.defaultTimeToArrive),"flatpickrOptions"in ne&&t(8,Y=ne.flatpickrOptions),"futureState"in ne&&t(63,p=ne.futureState),"fromPlayer"in ne&&t(64,b=ne.fromPlayer),"senderPlayer"in ne&&t(65,w=ne.senderPlayer),"currentTimeToArrive"in ne&&t(66,T=ne.currentTimeToArrive),"toPlanetInfo"in ne&&t(9,s=ne.toPlanetInfo),"fromPlanetInfo"in ne&&t(10,l=ne.fromPlanetInfo),"fleetOwner"in ne&&t(11,n=ne.fleetOwner),"toPlayer"in ne&&t(67,g=ne.toPlayer),"fromPlanetState"in ne&&fe(t(12,o=ne.fromPlanetState)),"actualDefaultArrivalDateTime"in ne&&t(68,F=ne.actualDefaultArrivalDateTime),"currentTimeToArriveFormatted"in ne&&t(27,O=ne.currentTimeToArriveFormatted),"agentServiceAccount"in ne&&t(13,P=ne.agentServiceAccount),"canSpecifyFleetOwner"in ne&&t(28,y=ne.canSpecifyFleetOwner),"fleetSender"in ne&&t(69,r=ne.fleetSender),"futureStatesAtFleetArrival"in ne&&t(70,m=ne.futureStatesAtFleetArrival),"currentFutures"in ne&&t(71,u=ne.currentFutures),"travelingArrivals"in ne&&t(29,f=ne.travelingArrivals),"planetFutures"in ne&&Ae(t(30,c=ne.planetFutures))},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty[0]&65536|i.$$.dirty[1]&56&&t(10,l=(t(34,ge=Z.data)===null||ge===void 0?void 0:ge.from)&&be.getPlanetInfo(t(35,Ce=Z.data)===null||Ce===void 0?void 0:Ce.from.x,t(36,Re=Z.data)===null||Re===void 0?void 0:Re.from.y)),i.$$.dirty[0]&1024&&fe(t(12,o=l&&vt.planetStateFor(l))),i.$$.dirty[0]&196612|i.$$.dirty[1]&192&&t(11,n=nt||(t(38,Me=t(37,Te=Z.data)===null||Te===void 0?void 0:Te.config)===null||Me===void 0?void 0:Me.fleetOwner)||(se==null?void 0:se.owner)),i.$$.dirty[0]&131072&&t(69,r=se==null?void 0:se.owner),i.$$.dirty[0]&65536|i.$$.dirty[1]&768&&t(9,s=be.getPlanetInfo(t(39,re=Z.data)===null||re===void 0?void 0:re.to.x,t(40,Ve=Z.data)===null||Ve===void 0?void 0:Ve.to.y)),i.$$.dirty[0]&512&&z(t(7,a=vt.planetStateFor(s))),i.$$.dirty[0]&512&&Ae(t(30,c=fs.futureStatesFor(s))),i.$$.dirty[0]&1536&&t(62,A=be.timeToArrive(l,s)),i.$$.dirty[2]&8193&&t(71,u=we.filter(ne=>ne.fleet.timeLeft>A-5*60)),i.$$.dirty[2]&512&&t(29,f=u.filter(ne=>ne.fleet.arrivalTimeWanted>0&&ne.fleet.arrivalTimeWanted-Zt()>-5*60).map(ne=>ne.fleet.arrivalTimeWanted).reduce((ne,en)=>(ne.indexOf(en)===-1&&ne.push(en),ne),[])),i.$$.dirty[2]&1025&&t(68,F=A+oe),i.$$.dirty[0]&9|i.$$.dirty[2]&64&&(qe?te&&te.getTime()/1e3<F-5*60&&(t(3,te=void 0),t(20,Dt="TIME_PASSED")):te&&te.getTime()/1e3<F&&(t(3,te=void 0),t(20,Dt="TIME_PASSED"))),i.$$.dirty[0]&8|i.$$.dirty[2]&1025&&t(66,T=te&&te.getTime()/1e3-oe>A?te.getTime()/1e3-oe:A),i.$$.dirty[2]&529&&t(70,m=u.filter(ne=>ne.fleet.timeLeft<=(T>A?T:A))),i.$$.dirty[2]&256&&t(63,p=m.length>0?m[m.length-1]:void 0),i.$$.dirty[0]&16384|i.$$.dirty[1]&3072|i.$$.dirty[2]&4096&&t(67,g=t(41,je=de.data)===null||je===void 0?void 0:je.players[t(42,me=V==null?void 0:V.owner)===null||me===void 0?void 0:me.toLowerCase()]),i.$$.dirty[0]&2048|i.$$.dirty[1]&4096|i.$$.dirty[2]&4096&&t(64,b=t(43,x=de.data)===null||x===void 0?void 0:x.players[n.toLowerCase()]),i.$$.dirty[1]&8192|i.$$.dirty[2]&4224&&t(65,w=t(44,ue=de.data)===null||ue===void 0?void 0:ue.players[r.toLowerCase()]),i.$$.dirty[0]&65536|i.$$.dirty[1]&1032192&&t(28,y=!(t(46,at=t(45,Ke=Z.data)===null||Ke===void 0?void 0:Ke.config)===null||at===void 0?void 0:at.abi)||(t(48,Se=t(47,_e=Z.data)===null||_e===void 0?void 0:_e.config)===null||Se===void 0?void 0:Se.args)&&(t(50,De=t(49,Oe=Z.data)===null||Oe===void 0?void 0:Oe.config)===null||De===void 0?void 0:De.args.includes("{fleetOwner}"))),i.$$.dirty[0]&197680|i.$$.dirty[1]&334495744){if(t(5,yt=se?Math.max(0,se.numSpaceships-((t(52,it=t(51,Ue=Z.data)===null||Ue===void 0?void 0:Ue.config)===null||it===void 0?void 0:it.numSpaceshipsToKeep)||0)):0),se&&se.numSpaceships>l.stats.cap){const ne=Math.max(5*60/be.productionSpeedUp,60);let en=1800;se.overflow>0&&(en=Math.floor(se.overflow*1800/l.stats.cap),en<1800&&(en=1800));let Wn=Math.floor(ne*be.productionSpeedUp*en/3600);Wn>se.numSpaceships-l.stats.cap&&(Wn=se.numSpaceships-l.stats.cap),t(5,yt-=Wn)}(t(54,Qe=t(53,rt=Z.data)===null||rt===void 0?void 0:rt.config)===null||Qe===void 0?void 0:Qe.numSpaceshipsAvailable)&&t(5,yt=Math.min(yt,t(56,st=t(55,ut=Z.data)===null||ut===void 0?void 0:ut.config)===null||st===void 0?void 0:st.numSpaceshipsAvailable)),yt>0&&!Tt&&(t(4,dt=Math.floor(yt/2)),t(59,Tt=!0)),dt>yt&&t(4,dt=yt)}if(i.$$.dirty[2]&2048&&t(13,P=ce.account),i.$$.dirty[0]&8192|i.$$.dirty[1]&536870912&&!At&&zt.isAgentServiceActivatedByDefault()&&!(!P||P.requireTopUp||!P.delegate)&&(t(18,gt=!0),t(60,At=!0)),i.$$.dirty[2]&16&&t(27,O=tt(T)),i.$$.dirty[2]&1025&&t(61,N=Math.ceil((A+oe)/60)*60+1*60),i.$$.dirty[0]&22162|i.$$.dirty[2]&61&&a&&o&&t(6,It={numSpaceshipsAtArrival:be.numSpaceshipsAtArrival(s,V,T>A?T:A),outcome:be.outcome(l,s,V,dt,T>A?T:A,w,b,g,bt)}),i.$$.dirty[0]&3610|i.$$.dirty[2]&1054&&(t(21,Ut=void 0),!bt&&p&&p.state)){let ne=p.state.owner.toLowerCase()===n.toLowerCase(),en=0,Wn;!ne&&te&&Math.floor(te.getTime()/1e3)===p.fleet.arrivalTimeWanted&&(Wn={attackPowerOverride:Math.floor((p.accumulatedAttack*p.averageAttackPower+dt*l.stats.attack)/(dt+p.accumulatedAttack)),defense:p.accumulatedDefense},en=p.accumulatedAttack),t(21,Ut={numSpaceshipsAtArrival:{min:p.state.numSpaceships,max:p.state.numSpaceships},outcome:be.outcome(l,s,p.state,dt+en,T+oe-p.arrivalTime,w,b,nn.getPlayer(p.state.owner),ne,void 0,Wn)})}i.$$.dirty[0]&256|i.$$.dirty[1]&1073741824|i.$$.dirty[2]&1&&t(8,Y=Y||(A?{enableTime:!0,minDate:N*1e3,defaultDate:new Date(N*1e3).toDateString(),defaultSecond:0,time_24hr:!0,minuteIncrement:1,plugins:[ts({confirmText:"OK ",showAlways:!1})]}:void 0)),i.$$.dirty[0]&192&&a&&t(22,Gt=It==null?void 0:It.outcome.nativeResist),i.$$.dirty[0]&49218|i.$$.dirty[1]&67108864&&t(26,H=!bt&&(V==null?void 0:V.owner)===(t(57,ft=ie.address)===null||ft===void 0?void 0:ft.toLowerCase())?"You are atrempting to attack yourself! You need to select a different fleetOwner":!bt&&It&&It.outcome.allies?"You are attacking an ally!":bt&&It&&!It.outcome.allies?"Your are giving spaceship to a potential enemy!":""),i.$$.dirty[0]&49154|i.$$.dirty[1]&134217728&&t(25,M=!bt&&(V==null?void 0:V.owner)===(t(58,lt=ie.address)===null||lt===void 0?void 0:lt.toLowerCase())?"(will attack anyone if ownership changes)":""),i.$$.dirty[0]&2&&t(24,W=bt?"border-cyan-300":"border-red-500"),i.$$.dirty[0]&2&&t(23,X=bt?"text-cyan-300":"text-red-500")},[qe,bt,nt,te,dt,yt,It,a,Y,s,l,n,o,P,V,ie,Z,se,gt,Be,Dt,Ut,Gt,X,W,M,H,O,y,f,c,Ge,sn,xt,ge,Ce,Re,Te,Me,re,Ve,je,me,x,ue,Ke,at,_e,Se,Oe,De,Ue,it,rt,Qe,ut,st,ft,lt,Tt,At,N,A,p,b,w,T,g,F,r,m,u,oe,ce,de,we,En,On,go,io,bo,wo,vo,ko,yo,ph,hh,_h,gh]}class pf extends We{constructor(e){super(e);Ye(this,e,t1,ji,ze,{},null,[-1,-1,-1]),B("SvelteRegisterComponent",{component:this,tagName:"SendingSpaceships",options:e,id:ji.name})}}function to(i){return new Date(i*1e3).toISOString().replace(/\.000/g,"").replace(/:/g,"").replace(/-/g,"")}function Vi(i){return new Date(i*1e3).toISOString().replace(/\.000/g,"").replace(/:/g,"%3A").replace("Z","%2B00%3A00")}const Sn="src/lib/components/addtocalendar/AddToCalendarGoogle.svelte";function Mi(i){let e,t,l,o,n,r,s,a,c,u,f;const m={c:function(){e=E("a"),t=E("span"),l=Fe("svg"),o=Fe("g"),n=Fe("rect"),r=Fe("path"),s=Fe("path"),a=Fe("path"),c=Fe("path"),u=I(`
    Google`),this.h()},l:function(g){e=$(g,"A",{class:!0,target:!0,href:!0});var b=k(e);t=$(b,"SPAN",{class:!0});var w=k(t);l=Ne(w,"svg",{class:!0,"enable-background":!0,version:!0,viewBox:!0,"xml:space":!0,xmlns:!0});var y=k(l);o=Ne(y,"g",{"clip-rule":!0,"fill-rule":!0});var P=k(o);n=Ne(P,"rect",{width:!0,height:!0,fill:!0}),k(n).forEach(d),r=Ne(P,"path",{d:!0,fill:!0}),k(r).forEach(d),s=Ne(P,"path",{d:!0,fill:!0}),k(s).forEach(d),a=Ne(P,"path",{d:!0,fill:!0}),k(a).forEach(d),c=Ne(P,"path",{d:!0,fill:!0}),k(c).forEach(d),P.forEach(d),y.forEach(d),u=R(w,`
    Google`),w.forEach(d),b.forEach(d),this.h()},h:function(){h(n,"width","128"),h(n,"height","128"),h(n,"fill","none"),v(n,Sn,23,8,905),h(r,"d","M27.585,64c0-4.157,0.69-8.143,1.923-11.881L7.938,35.648    C3.734,44.183,1.366,53.801,1.366,64c0,10.191,2.366,19.802,6.563,28.332l21.558-16.503C28.266,72.108,27.585,68.137,27.585,64"),h(r,"fill","#FBBC05"),v(r,Sn,24,8,959),h(s,"d","m65.457 26.182c9.031 0 17.188 3.2 23.597 8.436l18.644-18.618c-11.361-9.891-25.927-16-42.241-16-25.328 0-47.096 14.484-57.519 35.648l21.569 16.471c4.97-15.086 19.137-25.937 35.95-25.937"),h(s,"fill","#EA4335"),v(s,Sn,27,8,1197),h(a,"d","m65.457 101.82c-16.812 0-30.979-10.851-35.949-25.937l-21.57 16.468c10.423 21.167 32.191 35.651 57.519 35.651 15.632 0 30.557-5.551 41.758-15.951l-20.474-15.828c-5.777 3.639-13.052 5.597-21.284 5.597"),h(a,"fill","#34A853"),v(a,Sn,30,8,1438),h(c,"d","m126.63 64c0-3.782-0.583-7.855-1.457-11.636h-59.72v24.727h34.376c-1.719 8.431-6.397 14.912-13.092 19.13l20.474 15.828c11.766-10.92 19.419-27.188 19.419-48.049"),h(c,"fill","#4285F4"),v(c,Sn,33,8,1693),h(o,"clip-rule","evenodd"),h(o,"fill-rule","evenodd"),v(o,Sn,22,41,853),h(l,"class","w-6 h-6 mx-2"),h(l,"enable-background","new 0 0 128 128"),h(l,"version","1.1"),h(l,"viewBox","0 0 128 128"),h(l,"xml:space","preserve"),h(l,"xmlns","http://www.w3.org/2000/svg"),v(l,Sn,16,30,663),h(t,"class","flex flex-row"),v(t,Sn,16,2,635),h(e,"class","block border border-green-400 p-2"),h(e,"target","_blank"),h(e,"href",f=`https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${i[1]}%2F${i[2]}&details=${i[3]}&location=${i[4]}&text=${i[0]}`),v(e,Sn,12,0,378)},m:function(g,b){S(g,e,b),_(e,t),_(t,l),_(l,o),_(o,n),_(o,r),_(o,s),_(o,a),_(o,c),_(t,u)},p:function(g,[b]){b&1&&f!==(f=`https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${g[1]}%2F${g[2]}&details=${g[3]}&location=${g[4]}&text=${g[0]}`)&&h(e,"href",f)},i:ae,o:ae,d:function(g){g&&d(e)}};return B("SvelteRegisterBlock",{block:m,id:Mi.name,type:"component",source:"",ctx:i}),m}function n1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("AddToCalendarGoogle",l,[]);let{timestamp:n}=e,{duration:r}=e,{title:s}=e,{description:a}=e,{location:c}=e;const u=to(n),f=to(n+r),m=a||"",p=c||"",g=["timestamp","duration","title","description","location"];return Object.keys(e).forEach(b=>{!~g.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<AddToCalendarGoogle> was created with unknown prop '${b}'`)}),i.$$set=b=>{"timestamp"in b&&t(5,n=b.timestamp),"duration"in b&&t(6,r=b.duration),"title"in b&&t(0,s=b.title),"description"in b&&t(7,a=b.description),"location"in b&&t(8,c=b.location)},i.$capture_state=()=>({timestamp:n,duration:r,title:s,description:a,location:c,toISOURL:to,startDateTime:u,endDateTime:f,urlEncodedDescription:m,urlEncodedLocation:p}),i.$inject_state=b=>{"timestamp"in b&&t(5,n=b.timestamp),"duration"in b&&t(6,r=b.duration),"title"in b&&t(0,s=b.title),"description"in b&&t(7,a=b.description),"location"in b&&t(8,c=b.location)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[s,u,f,m,p,n,r,a,c]}class hf extends We{constructor(e){super(e);Ye(this,e,n1,Mi,ze,{timestamp:5,duration:6,title:0,description:7,location:8}),B("SvelteRegisterComponent",{component:this,tagName:"AddToCalendarGoogle",options:e,id:Mi.name});const{ctx:t}=this.$$,l=e.props||{};t[5]===void 0&&!("timestamp"in l)&&console.warn("<AddToCalendarGoogle> was created without expected prop 'timestamp'"),t[6]===void 0&&!("duration"in l)&&console.warn("<AddToCalendarGoogle> was created without expected prop 'duration'"),t[0]===void 0&&!("title"in l)&&console.warn("<AddToCalendarGoogle> was created without expected prop 'title'"),t[7]===void 0&&!("description"in l)&&console.warn("<AddToCalendarGoogle> was created without expected prop 'description'"),t[8]===void 0&&!("location"in l)&&console.warn("<AddToCalendarGoogle> was created without expected prop 'location'")}get timestamp(){throw new Error("<AddToCalendarGoogle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set timestamp(e){throw new Error("<AddToCalendarGoogle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get duration(){throw new Error("<AddToCalendarGoogle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set duration(e){throw new Error("<AddToCalendarGoogle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<AddToCalendarGoogle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<AddToCalendarGoogle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<AddToCalendarGoogle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<AddToCalendarGoogle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get location(){throw new Error("<AddToCalendarGoogle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<AddToCalendarGoogle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const un="src/lib/components/addtocalendar/AddToCalendarOutlook.svelte";function Wi(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w;const y={c:function(){e=E("a"),t=E("span"),l=Fe("svg"),o=Fe("g"),n=Fe("title"),r=I("background"),s=Fe("rect"),a=Fe("g"),c=Fe("title"),u=I("Layer 1"),f=Fe("path"),m=Fe("path"),p=Fe("path"),g=Fe("path"),b=I("Outlook"),this.h()},l:function(A){e=$(A,"A",{class:!0,target:!0,href:!0});var T=k(e);t=$(T,"SPAN",{class:!0});var O=k(t);l=Ne(O,"svg",{class:!0,viewBox:!0,xmlns:!0});var F=k(l);o=Ne(F,"g",{});var N=k(o);n=Ne(N,"title",{});var Y=k(n);r=R(Y,"background"),Y.forEach(d),s=Ne(N,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),k(s).forEach(d),N.forEach(d),a=Ne(F,"g",{});var H=k(a);c=Ne(H,"title",{});var M=k(c);u=R(M,"Layer 1"),M.forEach(d),f=Ne(H,"path",{d:!0,"clip-rule":!0,fill:!0,"fill-rule":!0}),k(f).forEach(d),m=Ne(H,"path",{d:!0,"clip-rule":!0,fill:!0,"fill-rule":!0}),k(m).forEach(d),p=Ne(H,"path",{d:!0,"clip-rule":!0,fill:!0,"fill-rule":!0}),k(p).forEach(d),g=Ne(H,"path",{d:!0,"clip-rule":!0,fill:!0,"fill-rule":!0}),k(g).forEach(d),H.forEach(d),F.forEach(d),b=R(O,"Outlook"),O.forEach(d),T.forEach(d),this.h()},h:function(){v(n,un,18,8,827),h(s,"x","-1"),h(s,"y","-1"),h(s,"width","582"),h(s,"height","402"),h(s,"fill","none"),v(s,un,19,8,861),v(o,un,17,6,815),v(c,un,22,8,950),h(f,"d","m644.88 764.42v-271.72c19.329 13.255 37.371 25.627 55.413 37.996 16.194 11.101 18.919 11.045 35.633-0.064 92.48-61.468 184.98-122.92 277.48-184.36 2.803-1.861 5.698-3.585 9.774-6.141 0.322 4.208 0.777 7.36 0.777 10.514 0.035 118.22 0.089 236.44-7e-3 354.66-0.034 39.297-19.884 59.078-58.972 59.097-102.8 0.047-205.6 0.018-308.41 0.018-3.703-1e-3 -7.405-1e-3 -11.691-1e-3z"),h(f,"clip-rule","evenodd"),h(f,"fill","#0072c6"),h(f,"fill-rule","evenodd"),v(f,un,23,8,981),h(m,"d","m645.62 216.85h10.489c108.56 0 217.12-9e-3 325.68 0.01 19.41 4e-3 34.427 11.871 40.529 30.528 2.68 8.197-0.047 12.205-6.669 16.641-84.095 56.307-168.01 112.88-251.98 169.38-11.994 8.072-24.149 15.92-35.93 24.292-6.448 4.579-12.154 4.828-18.844 0.521-19.187-12.357-38.738-24.161-57.786-36.721-3.179-2.095-6.486-6.876-6.505-10.434-0.337-63.505-0.176-127.01-0.094-190.52 5e-3 -0.712 0.412-1.423 1.109-3.701z"),h(m,"clip-rule","evenodd"),h(m,"fill","#0072c6"),h(m,"fill-rule","evenodd"),v(m,un,28,8,1469),h(p,"d","m596.72 1024c-199.08-41.667-397.39-83.177-596.44-124.84v-13.094c-1e-3 -252.51 0.076-505.03-0.273-757.54-0.016-10.461 2.793-14.09 13.038-16.049 159.15-30.403 318.22-61.241 477.31-91.971 35.081-6.777 70.167-13.528 106.37-20.507v1024zm-158.68-512.98c-0.402-41.613-6.094-80.035-26.656-114.85-16.6-28.107-39.024-49.44-71.278-58.626-62.755-17.872-122.84 11.521-152.41 75.036-18.947 40.696-22.994 83.874-19.337 128.08 3.169 38.303 14.261 73.688 38.958 103.96 49.093 60.169 138.44 60.569 188.18 0.776 32.939-39.589 41.886-86.711 42.538-134.37z"),h(p,"clip-rule","evenodd"),h(p,"fill","#0072c6"),h(p,"fill-rule","evenodd"),v(p,un,33,8,1990),h(g,"d","m232.92 511.94c-0.085-29.653 3.91-58.359 20.699-83.795 15.494-23.472 39.016-33.061 64.938-26.578 20.146 5.038 32.316 19.265 40.427 37.222 13.847 30.658 16.247 63.273 12.056 95.936-2.325 18.11-7.45 36.464-14.808 53.175-9.507 21.596-27.783 33.954-52.195 34.493-24.572 0.542-41.658-12.202-53.632-32.584-14.129-24.051-17.552-50.585-17.485-77.869z"),h(g,"clip-rule","evenodd"),h(g,"fill","#0072c6"),h(g,"fill-rule","evenodd"),v(g,un,38,8,2642),v(a,un,21,6,938),h(l,"class","w-6 h-6 mx-2"),h(l,"viewBox","0 0 1024 1024"),h(l,"xmlns","http://www.w3.org/2000/svg"),v(l,un,16,30,723),h(t,"class","flex flex-row"),v(t,un,16,2,695),h(e,"class","block border border-green-400 p-2"),h(e,"target","_blank"),h(e,"href",w=`https://outlook.live.com/calendar/0/deeplink/compose?body=${i[3]}&enddt=${i[2]}&location=${i[4]}&path=%2Fcalendar%2Faction%2Fcompose&rru=addevent&startdt=${i[1]}&subject=${i[0]}`),v(e,un,12,0,390)},m:function(A,T){S(A,e,T),_(e,t),_(t,l),_(l,o),_(o,n),_(n,r),_(o,s),_(l,a),_(a,c),_(c,u),_(a,f),_(a,m),_(a,p),_(a,g),_(t,b)},p:function(A,[T]){T&1&&w!==(w=`https://outlook.live.com/calendar/0/deeplink/compose?body=${A[3]}&enddt=${A[2]}&location=${A[4]}&path=%2Fcalendar%2Faction%2Fcompose&rru=addevent&startdt=${A[1]}&subject=${A[0]}`)&&h(e,"href",w)},i:ae,o:ae,d:function(A){A&&d(e)}};return B("SvelteRegisterBlock",{block:y,id:Wi.name,type:"component",source:"",ctx:i}),y}function o1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("AddToCalendarOutlook",l,[]);let{timestamp:n}=e,{duration:r}=e,{title:s}=e,{description:a}=e,{location:c}=e;const u=Vi(n),f=Vi(n+r),m=a||"",p=c||"",g=["timestamp","duration","title","description","location"];return Object.keys(e).forEach(b=>{!~g.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<AddToCalendarOutlook> was created with unknown prop '${b}'`)}),i.$$set=b=>{"timestamp"in b&&t(5,n=b.timestamp),"duration"in b&&t(6,r=b.duration),"title"in b&&t(0,s=b.title),"description"in b&&t(7,a=b.description),"location"in b&&t(8,c=b.location)},i.$capture_state=()=>({timestamp:n,duration:r,title:s,description:a,location:c,toOutlookISO:Vi,startDateTime:u,endDateTime:f,urlEncodedDescription:m,urlEncodedLocation:p}),i.$inject_state=b=>{"timestamp"in b&&t(5,n=b.timestamp),"duration"in b&&t(6,r=b.duration),"title"in b&&t(0,s=b.title),"description"in b&&t(7,a=b.description),"location"in b&&t(8,c=b.location)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[s,u,f,m,p,n,r,a,c]}class _f extends We{constructor(e){super(e);Ye(this,e,o1,Wi,ze,{timestamp:5,duration:6,title:0,description:7,location:8}),B("SvelteRegisterComponent",{component:this,tagName:"AddToCalendarOutlook",options:e,id:Wi.name});const{ctx:t}=this.$$,l=e.props||{};t[5]===void 0&&!("timestamp"in l)&&console.warn("<AddToCalendarOutlook> was created without expected prop 'timestamp'"),t[6]===void 0&&!("duration"in l)&&console.warn("<AddToCalendarOutlook> was created without expected prop 'duration'"),t[0]===void 0&&!("title"in l)&&console.warn("<AddToCalendarOutlook> was created without expected prop 'title'"),t[7]===void 0&&!("description"in l)&&console.warn("<AddToCalendarOutlook> was created without expected prop 'description'"),t[8]===void 0&&!("location"in l)&&console.warn("<AddToCalendarOutlook> was created without expected prop 'location'")}get timestamp(){throw new Error("<AddToCalendarOutlook>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set timestamp(e){throw new Error("<AddToCalendarOutlook>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get duration(){throw new Error("<AddToCalendarOutlook>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set duration(e){throw new Error("<AddToCalendarOutlook>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<AddToCalendarOutlook>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<AddToCalendarOutlook>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<AddToCalendarOutlook>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<AddToCalendarOutlook>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get location(){throw new Error("<AddToCalendarOutlook>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<AddToCalendarOutlook>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const No="src/lib/components/addtocalendar/AddToCalendarICS.svelte";function Yi(i){let e,t,l,o,n,r,s;const a={c:function(){e=E("button"),t=E("span"),l=Fe("svg"),o=Fe("path"),n=I(`
    ICS`),this.h()},l:function(u){e=$(u,"BUTTON",{class:!0});var f=k(e);t=$(f,"SPAN",{class:!0});var m=k(t);l=Ne(m,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var p=k(l);o=Ne(p,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(o).forEach(d),p.forEach(d),n=R(m,`
    ICS`),m.forEach(d),f.forEach(d),this.h()},h:function(){h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","2"),h(o,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"),v(o,No,39,6,1238),h(l,"class","w-6 h-6 mx-2"),h(l,"xmlns","http://www.w3.org/2000/svg"),h(l,"fill","none"),h(l,"viewBox","0 0 24 24"),h(l,"stroke","currentColor"),v(l,No,38,4,1116),h(t,"class","flex flex-row"),v(t,No,37,2,1083),h(e,"class","block border border-green-400 p-2"),v(e,No,34,0,937)},m:function(u,f){S(u,e,f),_(e,t),_(t,l),_(l,o),_(t,n),r||(s=Ze(e,"click",i[8],!1,!1,!1),r=!0)},p:ae,i:ae,o:ae,d:function(u){u&&d(e),r=!1,s()}};return B("SvelteRegisterBlock",{block:a,id:Yi.name,type:"component",source:"",ctx:i}),a}function l1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("AddToCalendarICS",l,[]);let{timestamp:n}=e,{duration:r}=e,{title:s}=e,{description:a}=e,{url:c}=e,{location:u}=e;const f=to(n),m=to(n+r),p=a?JSON.stringify(a):"",g=a?p.substr(1,p.length-2):"",b=`
BEGIN:VCALENDAR
VERSION:2.0
CALSCALE:GREGORIAN
BEGIN:VEVENT
DTSTART:${f}
DTEND:${m}
SUMMARY:${s}
URL:${c||""}
DESCRIPTION:${g||""}
LOCATION:${u||""}
BEGIN:VALARM
ACTION:DISPLAY
DESCRIPTION:${g||""}
TRIGGER:-PT0M
END:VALARM
END:VEVENT
END:VCALENDAR
`,w=new Blob([b],{type:"text/plain;charset=utf-8"}),y=["timestamp","duration","title","description","url","location"];Object.keys(e).forEach(A=>{!~y.indexOf(A)&&A.slice(0,2)!=="$$"&&A!=="slot"&&console.warn(`<AddToCalendarICS> was created with unknown prop '${A}'`)});const P=()=>ds(w,`conquest-eth_${f}.ics`,void 0,void 0);return i.$$set=A=>{"timestamp"in A&&t(2,n=A.timestamp),"duration"in A&&t(3,r=A.duration),"title"in A&&t(4,s=A.title),"description"in A&&t(5,a=A.description),"url"in A&&t(6,c=A.url),"location"in A&&t(7,u=A.location)},i.$capture_state=()=>({timestamp:n,duration:r,title:s,description:a,url:c,location:u,toISOURL:to,saveAs:ds,startDateTime:f,endDateTime:m,jsonEncodedDescription:p,encodedDescription:g,ics:b,blob:w}),i.$inject_state=A=>{"timestamp"in A&&t(2,n=A.timestamp),"duration"in A&&t(3,r=A.duration),"title"in A&&t(4,s=A.title),"description"in A&&t(5,a=A.description),"url"in A&&t(6,c=A.url),"location"in A&&t(7,u=A.location)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[f,w,n,r,s,a,c,u,P]}class gf extends We{constructor(e){super(e);Ye(this,e,l1,Yi,ze,{timestamp:2,duration:3,title:4,description:5,url:6,location:7}),B("SvelteRegisterComponent",{component:this,tagName:"AddToCalendarICS",options:e,id:Yi.name});const{ctx:t}=this.$$,l=e.props||{};t[2]===void 0&&!("timestamp"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'timestamp'"),t[3]===void 0&&!("duration"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'duration'"),t[4]===void 0&&!("title"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'title'"),t[5]===void 0&&!("description"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'description'"),t[6]===void 0&&!("url"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'url'"),t[7]===void 0&&!("location"in l)&&console.warn("<AddToCalendarICS> was created without expected prop 'location'")}get timestamp(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set timestamp(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get duration(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set duration(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get url(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get location(){throw new Error("<AddToCalendarICS>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<AddToCalendarICS>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const i1="src/lib/components/addtocalendar/AddToCalendar.svelte";function zi(i){let e,t,l,o,n,r,s;t=new hf({props:{timestamp:i[0],duration:i[1],title:i[2],description:i[3],location:i[5]},$$inline:!0}),o=new gf({props:{timestamp:i[0],duration:i[1],title:i[2],url:i[4],description:i[3],location:i[5]},$$inline:!0}),r=new _f({props:{timestamp:i[0],duration:i[1],title:i[2],description:i[3],location:i[5]},$$inline:!0});const a={c:function(){e=E("div"),U(t.$$.fragment),l=L(),U(o.$$.fragment),n=L(),U(r.$$.fragment),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);G(t.$$.fragment,f),l=j(f),G(o.$$.fragment,f),n=j(f),G(r.$$.fragment,f),f.forEach(d),this.h()},h:function(){h(e,"class","flex flex-row justify-around"),v(e,i1,12,0,404)},m:function(u,f){S(u,e,f),K(t,e,null),_(e,l),K(o,e,null),_(e,n),K(r,e,null),s=!0},p:function(u,[f]){const m={};f&1&&(m.timestamp=u[0]),f&2&&(m.duration=u[1]),f&4&&(m.title=u[2]),f&8&&(m.description=u[3]),f&32&&(m.location=u[5]),t.$set(m);const p={};f&1&&(p.timestamp=u[0]),f&2&&(p.duration=u[1]),f&4&&(p.title=u[2]),f&16&&(p.url=u[4]),f&8&&(p.description=u[3]),f&32&&(p.location=u[5]),o.$set(p);const g={};f&1&&(g.timestamp=u[0]),f&2&&(g.duration=u[1]),f&4&&(g.title=u[2]),f&8&&(g.description=u[3]),f&32&&(g.location=u[5]),r.$set(g)},i:function(u){s||(C(t.$$.fragment,u),C(o.$$.fragment,u),C(r.$$.fragment,u),s=!0)},o:function(u){D(t.$$.fragment,u),D(o.$$.fragment,u),D(r.$$.fragment,u),s=!1},d:function(u){u&&d(e),q(t),q(o),q(r)}};return B("SvelteRegisterBlock",{block:a,id:zi.name,type:"component",source:"",ctx:i}),a}function r1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("AddToCalendar",l,[]);let{timestamp:n}=e,{duration:r}=e,{title:s}=e,{description:a}=e,{url:c}=e,{location:u}=e;const f=["timestamp","duration","title","description","url","location"];return Object.keys(e).forEach(m=>{!~f.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<AddToCalendar> was created with unknown prop '${m}'`)}),i.$$set=m=>{"timestamp"in m&&t(0,n=m.timestamp),"duration"in m&&t(1,r=m.duration),"title"in m&&t(2,s=m.title),"description"in m&&t(3,a=m.description),"url"in m&&t(4,c=m.url),"location"in m&&t(5,u=m.location)},i.$capture_state=()=>({timestamp:n,duration:r,title:s,description:a,url:c,location:u,AddToCalendarGoogle:hf,AddToCalendarOutlook:_f,AddToCalendarICS:gf}),i.$inject_state=m=>{"timestamp"in m&&t(0,n=m.timestamp),"duration"in m&&t(1,r=m.duration),"title"in m&&t(2,s=m.title),"description"in m&&t(3,a=m.description),"url"in m&&t(4,c=m.url),"location"in m&&t(5,u=m.location)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,s,a,c,u]}class Hi extends We{constructor(e){super(e);Ye(this,e,r1,zi,ze,{timestamp:0,duration:1,title:2,description:3,url:4,location:5}),B("SvelteRegisterComponent",{component:this,tagName:"AddToCalendar",options:e,id:zi.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("timestamp"in l)&&console.warn("<AddToCalendar> was created without expected prop 'timestamp'"),t[1]===void 0&&!("duration"in l)&&console.warn("<AddToCalendar> was created without expected prop 'duration'"),t[2]===void 0&&!("title"in l)&&console.warn("<AddToCalendar> was created without expected prop 'title'"),t[3]===void 0&&!("description"in l)&&console.warn("<AddToCalendar> was created without expected prop 'description'"),t[4]===void 0&&!("url"in l)&&console.warn("<AddToCalendar> was created without expected prop 'url'"),t[5]===void 0&&!("location"in l)&&console.warn("<AddToCalendar> was created without expected prop 'location'")}get timestamp(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set timestamp(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get duration(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set duration(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get url(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get location(){throw new Error("<AddToCalendar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<AddToCalendar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const hn="src/lib/components/fleets/SpaceshipsSent.svelte";function bf(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y;w=new Hi({props:{title:"conquest.eth: Come Back To Resolve Fleet in Time!",description:"Come back to conquest.eth and resolve your fleet.",timestamp:i[2],url:window.location.toString(),location:window.location.toString(),duration:105},$$inline:!0});const P={c:function(){e=E("p"),t=I(`Remember you need to ensure to execute the "resolution" transaction at that time. See
        `),l=E("a"),o=I("Help"),n=I(`
        for more details.`),r=L(),s=E("p"),a=I(`Alternatively, you can always setup an agent
        `),c=E("a"),u=I("here"),f=I(`. As long as it is topped up, it
        can resolve the fleets for you.`),m=L(),p=E("p"),g=I("You can also create a reminder here"),b=L(),U(w.$$.fragment),this.h()},l:function(T){e=$(T,"P",{class:!0});var O=k(e);t=R(O,`Remember you need to ensure to execute the "resolution" transaction at that time. See
        `),l=$(O,"A",{class:!0,href:!0,target:!0});var F=k(l);o=R(F,"Help"),F.forEach(d),n=R(O,`
        for more details.`),O.forEach(d),r=j(T),s=$(T,"P",{class:!0});var N=k(s);a=R(N,`Alternatively, you can always setup an agent
        `),c=$(N,"A",{class:!0,href:!0,target:!0});var Y=k(c);u=R(Y,"here"),Y.forEach(d),f=R(N,`. As long as it is topped up, it
        can resolve the fleets for you.`),N.forEach(d),m=j(T),p=$(T,"P",{class:!0});var H=k(p);g=R(H,"You can also create a reminder here"),H.forEach(d),b=j(T),G(w.$$.fragment,T),this.h()},h:function(){h(l,"class","underline"),h(l,"href",`${Jt}/help/`),h(l,"target","_blank"),v(l,hn,50,8,2700),h(e,"class","mb-4 text-yellow-500"),v(e,hn,48,6,2565),h(c,"class","underline"),h(c,"href",`${Jt}/agent-service/`),h(c,"target","_blank"),v(c,hn,55,8,2890),h(s,"class","mb-4"),v(s,hn,53,6,2812),h(p,"class","mb-4"),v(p,hn,59,6,3058)},m:function(T,O){S(T,e,O),_(e,t),_(e,l),_(l,o),_(e,n),S(T,r,O),S(T,s,O),_(s,a),_(s,c),_(c,u),_(s,f),S(T,m,O),S(T,p,O),_(p,g),S(T,b,O),K(w,T,O),y=!0},p:function(T,O){const F={};O&4&&(F.timestamp=T[2]),w.$set(F)},i:function(T){y||(C(w.$$.fragment,T),y=!0)},o:function(T){D(w.$$.fragment,T),y=!1},d:function(T){T&&d(e),T&&d(r),T&&d(s),T&&d(m),T&&d(p),T&&d(b),q(w,T)}};return B("SvelteRegisterBlock",{block:P,id:bf.name,type:"else",source:"(48:4) {:else}",ctx:i}),P}function wf(i){let e,t,l,o,n,r,s,a,c,u,f;u=new Hi({props:{title:"conquest.eth: Come Back To Resolve Fleet in Time!",description:"Come back to conquest.eth and resolve your fleet.",timestamp:i[2],url:window.location.toString(),location:window.location.toString(),duration:105},$$inline:!0});const m={c:function(){e=E("p"),t=I("You submitted your fleet to the "),l=E("a"),o=I("Agent Service"),n=I(`.
        If all is good, you do not need to do anything else.`),r=L(),s=E("p"),a=I("But there is always a risk something goes wrong. You might want to setup a reminder:"),c=L(),U(u.$$.fragment),this.h()},l:function(g){e=$(g,"P",{class:!0});var b=k(e);t=R(b,"You submitted your fleet to the "),l=$(b,"A",{class:!0,href:!0});var w=k(l);o=R(w,"Agent Service"),w.forEach(d),n=R(b,`.
        If all is good, you do not need to do anything else.`),b.forEach(d),r=j(g),s=$(g,"P",{class:!0});var y=k(s);a=R(y,"But there is always a risk something goes wrong. You might want to setup a reminder:"),y.forEach(d),c=j(g),G(u.$$.fragment,g),this.h()},h:function(){h(l,"class","underline font-black"),h(l,"href",yn("agent-service/")),v(l,hn,33,40,1939),h(e,"class","mb-4"),v(e,hn,32,6,1882),h(s,"class","mb-4"),v(s,hn,36,6,2097)},m:function(g,b){S(g,e,b),_(e,t),_(e,l),_(l,o),_(e,n),S(g,r,b),S(g,s,b),_(s,a),S(g,c,b),K(u,g,b),f=!0},p:function(g,b){const w={};b&4&&(w.timestamp=g[2]),u.$set(w)},i:function(g){f||(C(u.$$.fragment,g),f=!0)},o:function(g){D(u.$$.fragment,g),f=!1},d:function(g){g&&d(e),g&&d(r),g&&d(s),g&&d(c),q(u,g)}};return B("SvelteRegisterBlock",{block:m,id:wf.name,type:"if",source:"(32:4) {#if $sendFlow.data?.useAgentService}",ctx:i}),m}function vf(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:vf.name,type:"slot",source:'(73:4) <PanelButton label=\\"OK\\" class=\\"mt-4\\" on:click={() => sendFlow.acknownledgeSuccess()}>',ctx:i}),t}function kf(i){let e,t,l,o,n,r,s=tt(i[0],{verbose:!0})+"",a,c,u=new Date(i[2]*1e3).toString()+"",f,m,p,g,b,w,y,P;const A=[wf,bf],T=[];function O(N,Y){var H;return((H=N[1].data)==null?void 0:H.useAgentService)?0:1}g=O(i),b=T[g]=A[g](i),y=new ye({props:{label:"OK",class:"mt-4",$$slots:{default:[vf]},$$scope:{ctx:i}},$$inline:!0}),y.$on("click",i[14]);const F={c:function(){e=E("div"),t=E("p"),l=I("Congratulations! Your fleets is on its way (transaction pending...)"),o=L(),n=E("p"),r=I(`Once the transaction is mined, the fleet will take
      `),a=I(s),c=I(`
      to reach the destination. Assuming it get mined instantly, it should arrive on
      `),f=I(u),m=I("."),p=L(),b.c(),w=L(),U(y.$$.fragment),this.h()},l:function(Y){e=$(Y,"DIV",{class:!0});var H=k(e);t=$(H,"P",{class:!0});var M=k(t);l=R(M,"Congratulations! Your fleets is on its way (transaction pending...)"),M.forEach(d),o=j(H),n=$(H,"P",{class:!0});var W=k(n);r=R(W,`Once the transaction is mined, the fleet will take
      `),a=R(W,s),c=R(W,`
      to reach the destination. Assuming it get mined instantly, it should arrive on
      `),f=R(W,u),m=R(W,"."),W.forEach(d),p=j(H),b.l(H),w=j(H),G(y.$$.fragment,H),H.forEach(d),this.h()},h:function(){h(t,"class","mb-4"),v(t,hn,23,4,1482),h(n,"class","mb-4"),v(n,hn,24,4,1574),h(e,"class","text-center"),v(e,hn,22,2,1452)},m:function(Y,H){S(Y,e,H),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(n,a),_(n,c),_(n,f),_(n,m),_(e,p),T[g].m(e,null),_(e,w),K(y,e,null),P=!0},p:function(Y,H){(!P||H&1)&&s!==(s=tt(Y[0],{verbose:!0})+"")&&he(a,s),(!P||H&4)&&u!==(u=new Date(Y[2]*1e3).toString()+"")&&he(f,u);let M=g;g=O(Y),g===M?T[g].p(Y,H):(Ee(),D(T[M],1,1,()=>{T[M]=null}),$e(),b=T[g],b?b.p(Y,H):(b=T[g]=A[g](Y),b.c()),C(b,1),b.m(e,w));const W={};H&32768&&(W.$$scope={dirty:H,ctx:Y}),y.$set(W)},i:function(Y){P||(C(b),C(y.$$.fragment,Y),P=!0)},o:function(Y){D(b),D(y.$$.fragment,Y),P=!1},d:function(Y){Y&&d(e),T[g].d(),q(y)}};return B("SvelteRegisterBlock",{block:F,id:kf.name,type:"slot",source:"(22:0) <Modal>",ctx:i}),F}function Xi(i){let e,t;e=new Le({props:{$$slots:{default:[kf]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,[r]){const s={};r&32775&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Xi.name,type:"component",source:"",ctx:i}),l}function s1(i,e,t){let l,o,n,r,s,a;ve(Xe,"sendFlow"),ke(i,Xe,O=>t(1,a=O));let{$$slots:c={},$$scope:u}=e;He("SpaceshipsSent",c,[]);var f,m,p,g,b,w,y,P;const A=[];Object.keys(e).forEach(O=>{!~A.indexOf(O)&&O.slice(0,2)!=="$$"&&O!=="slot"&&console.warn(`<SpaceshipsSent> was created with unknown prop '${O}'`)});const T=()=>Xe.acknownledgeSuccess();return i.$capture_state=()=>({_a:f,_b:m,_c:p,_d:g,_e:b,_f:w,_g:y,_h:P,sendFlow:Xe,PanelButton:ye,Modal:Le,AddToCalendar:Hi,timeToText:tt,now:Zt,base:Jt,spaceInfo:be,url:yn,duration:r,arrival:s,minDuration:n,toPlanetInfo:o,fromPlanetInfo:l,$sendFlow:a}),i.$inject_state=O=>{"_a"in O&&t(3,f=O._a),"_b"in O&&t(4,m=O._b),"_c"in O&&t(5,p=O._c),"_d"in O&&t(6,g=O._d),"_e"in O&&t(7,b=O._e),"_f"in O&&t(8,w=O._f),"_g"in O&&t(9,y=O._g),"_h"in O&&t(10,P=O._h),"duration"in O&&t(0,r=O.duration),"arrival"in O&&t(2,s=O.arrival),"minDuration"in O&&t(11,n=O.minDuration),"toPlanetInfo"in O&&t(12,o=O.toPlanetInfo),"fromPlanetInfo"in O&&t(13,l=O.fromPlanetInfo)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&26&&t(13,l=be.getPlanetInfo(t(3,f=a.data)===null||f===void 0?void 0:f.from.x,t(4,m=a.data)===null||m===void 0?void 0:m.from.y)),i.$$.dirty&98&&t(12,o=be.getPlanetInfo(t(5,p=a.data)===null||p===void 0?void 0:p.to.x,t(6,g=a.data)===null||g===void 0?void 0:g.to.y)),i.$$.dirty&12288&&t(11,n=be.timeToArrive(l,o)),i.$$.dirty&3970&&t(0,r=(t(8,w=t(7,b=a.data)===null||b===void 0?void 0:b.config)===null||w===void 0?void 0:w.arrivalTimeWanted)?Math.max(n,(t(10,P=t(9,y=a.data)===null||y===void 0?void 0:y.config)===null||P===void 0?void 0:P.arrivalTimeWanted)-Zt()):n),i.$$.dirty&1&&t(2,s=r+Zt())},[r,a,s,f,m,p,g,b,w,y,P,n,o,l,T]}class yf extends We{constructor(e){super(e);Ye(this,e,s1,Xi,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"SpaceshipsSent",options:e,id:Xi.name})}}const no="src/lib/components/fleets/SendPreTransactionMessage.svelte";function Sf(i){let e,t,l=new Date(i[1]*1e3).toString()+"",o,n,r=tt(be.resolveWindow,{verbose:!0})+"",s,a,c,u,f,m,p,g,b,w;const y={c:function(){e=E("p"),t=I(`You are about to confirm the launch of your fleet. Remember that you'll need to ensure an extra transaction is
      performed once the fleet reaches destination (around
      `),o=I(l),n=I(`). You'll have a
      `),s=I(r),a=I(`
      time window to execute it.`),c=L(),u=E("p"),f=I("Once the first transaction is submitted, we will help you create a reminder."),m=L(),p=E("p"),g=I(`You can also setup the agent-service so that it will resolve your fleets automatically. See
      `),b=E("a"),w=I("Agent Service"),this.h()},l:function(A){e=$(A,"P",{class:!0});var T=k(e);t=R(T,`You are about to confirm the launch of your fleet. Remember that you'll need to ensure an extra transaction is
      performed once the fleet reaches destination (around
      `),o=R(T,l),n=R(T,`). You'll have a
      `),s=R(T,r),a=R(T,`
      time window to execute it.`),T.forEach(d),c=j(A),u=$(A,"P",{});var O=k(u);f=R(O,"Once the first transaction is submitted, we will help you create a reminder."),O.forEach(d),m=j(A),p=$(A,"P",{class:!0});var F=k(p);g=R(F,`You can also setup the agent-service so that it will resolve your fleets automatically. See
      `),b=$(F,"A",{href:!0,class:!0});var N=k(b);w=R(N,"Agent Service"),N.forEach(d),F.forEach(d),this.h()},h:function(){h(e,"class","mb-3"),v(e,no,26,4,1578),v(u,no,33,4,1938),h(b,"href","agent-service/"),h(b,"class","underline font-black"),v(b,no,36,6,2147),h(p,"class","my-2"),v(p,no,34,4,2026)},m:function(A,T){S(A,e,T),_(e,t),_(e,o),_(e,n),_(e,s),_(e,a),S(A,c,T),S(A,u,T),_(u,f),S(A,m,T),S(A,p,T),_(p,g),_(p,b),_(b,w)},p:function(A,T){T&2&&l!==(l=new Date(A[1]*1e3).toString()+"")&&he(o,l)},d:function(A){A&&d(e),A&&d(c),A&&d(u),A&&d(m),A&&d(p)}};return B("SvelteRegisterBlock",{block:y,id:Sf.name,type:"else",source:"(26:2) {:else}",ctx:i}),y}function Ef(i){let e,t,l=new Date(i[1]*1e3).toString()+"",o,n,r=tt(be.resolveWindow,{verbose:!0})+"",s,a;const c={c:function(){e=E("p"),t=I(`You are about to confirm the launch of your fleet. While you set it up to use the agent-service, note that there
      is no 100% guarantee it will resolve in time. The service will do its best to ensure the fleet is resolved around
      `),o=I(l),n=I(`). If it does not, you'll have a
      `),s=I(r),a=I(`
      time window to execute it.`),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,`You are about to confirm the launch of your fleet. While you set it up to use the agent-service, note that there
      is no 100% guarantee it will resolve in time. The service will do its best to ensure the fleet is resolved around
      `),o=R(m,l),n=R(m,`). If it does not, you'll have a
      `),s=R(m,r),a=R(m,`
      time window to execute it.`),m.forEach(d),this.h()},h:function(){h(e,"class","mb-3"),v(e,no,18,4,1129)},m:function(f,m){S(f,e,m),_(e,t),_(e,o),_(e,n),_(e,s),_(e,a)},p:function(f,m){m&2&&l!==(l=new Date(f[1]*1e3).toString()+"")&&he(o,l)},d:function(f){f&&d(e)}};return B("SvelteRegisterBlock",{block:c,id:Ef.name,type:"if",source:"(18:2) {#if $sendFlow.data?.useAgentService}",ctx:i}),c}function $f(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:$f.name,type:"slot",source:'(41:4) <PanelButton label=\\"OK\\" class=\\"mt-4\\" on:click={() => sendFlow.acknowledgeWelcomingStep2()}>',ctx:i}),t}function Pf(i){let e,t,l,o;function n(c,u){var f;return((f=c[0].data)==null?void 0:f.useAgentService)?Ef:Sf}let r=n(i),s=r(i);l=new ye({props:{label:"OK",class:"mt-4",$$slots:{default:[$f]},$$scope:{ctx:i}},$$inline:!0}),l.$on("click",i[10]);const a={c:function(){s.c(),e=L(),t=E("div"),U(l.$$.fragment),this.h()},l:function(u){s.l(u),e=j(u),t=$(u,"DIV",{class:!0});var f=k(t);G(l.$$.fragment,f),f.forEach(d),this.h()},h:function(){h(t,"class","text-center"),v(t,no,39,2,2240)},m:function(u,f){s.m(u,f),S(u,e,f),S(u,t,f),K(l,t,null),o=!0},p:function(u,f){r===(r=n(u))&&s?s.p(u,f):(s.d(1),s=r(u),s&&(s.c(),s.m(e.parentNode,e)));const m={};f&2048&&(m.$$scope={dirty:f,ctx:u}),l.$set(m)},i:function(u){o||(C(l.$$.fragment,u),o=!0)},o:function(u){D(l.$$.fragment,u),o=!1},d:function(u){s.d(u),u&&d(e),u&&d(t),q(l)}};return B("SvelteRegisterBlock",{block:a,id:Pf.name,type:"slot",source:"(17:0) <Modal>",ctx:i}),a}function Ui(i){let e,t;e=new Le({props:{$$slots:{default:[Pf]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ui.name,type:"component",source:"",ctx:i}),l}function c1(i,e,t){let l,o,n,r,s,a;ve(Xe,"sendFlow"),ke(i,Xe,y=>t(0,a=y));let{$$slots:c={},$$scope:u}=e;He("SendPreTransactionMessage",c,[]);var f,m,p,g;const b=[];Object.keys(e).forEach(y=>{!~b.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&console.warn(`<SendPreTransactionMessage> was created with unknown prop '${y}'`)});const w=()=>Xe.acknowledgeWelcomingStep2();return i.$capture_state=()=>({_a:f,_b:m,_c:p,_d:g,sendFlow:Xe,PanelButton:ye,Modal:Le,spaceInfo:be,timeToText:tt,now:Zt,duration:r,arrival:s,minDuration:n,toPlanetInfo:o,fromPlanetInfo:l,$sendFlow:a}),i.$inject_state=y=>{"_a"in y&&t(2,f=y._a),"_b"in y&&t(3,m=y._b),"_c"in y&&t(4,p=y._c),"_d"in y&&t(5,g=y._d),"duration"in y&&t(6,r=y.duration),"arrival"in y&&t(1,s=y.arrival),"minDuration"in y&&t(7,n=y.minDuration),"toPlanetInfo"in y&&t(8,o=y.toPlanetInfo),"fromPlanetInfo"in y&&t(9,l=y.fromPlanetInfo)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&t(9,l=be.getPlanetInfo(a.data.from.x,a.data.from.y)),i.$$.dirty&1&&t(8,o=be.getPlanetInfo(a.data.to.x,a.data.to.y)),i.$$.dirty&768&&t(7,n=be.timeToArrive(l,o)),i.$$.dirty&189&&t(6,r=(t(3,m=t(2,f=a.data)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.arrivalTimeWanted)?Math.max(n,(t(5,g=t(4,p=a.data)===null||p===void 0?void 0:p.config)===null||g===void 0?void 0:g.arrivalTimeWanted)-Zt()):n),i.$$.dirty&64&&t(1,s=r+Zt())},[a,s,f,m,p,g,r,n,o,l,w]}class Bf extends We{constructor(e){super(e);Ye(this,e,c1,Ui,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"SendPreTransactionMessage",options:e,id:Ui.name})}}const ho="src/lib/components/planets/VirtualFleetActionPanel.svelte";function If(i){let e,t;e=new ye({props:{label:"Confirm",class:"m-2",color:"text-blue-500",borderColor:"border-blue-500",$$slots:{default:[Df]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[7]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&2097152&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:If.name,type:"else",source:"(59:0) {:else}",ctx:i}),l}function Rf(i){let e,t;const l={c:function(){e=E("p"),t=I("Pick a Planet with spaceships."),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"Pick a Planet with spaceships."),r.forEach(d),this.h()},h:function(){h(e,"class","m-3"),v(e,ho,57,2,2863)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Rf.name,type:"if",source:"(57:84) ",ctx:i}),l}function Tf(i){let e,t;const l={c:function(){e=E("p"),t=I("This Planet is exiting, pick another one"),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"This Planet is exiting, pick another one"),r.forEach(d),this.h()},h:function(){h(e,"class","m-3"),v(e,ho,55,2,2716)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Tf.name,type:"if",source:"(55:73) ",ctx:i}),l}function Af(i){let e,t;const l={c:function(){e=E("p"),t=I("Pick a Planet you own."),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"Pick a Planet you own."),r.forEach(d),this.h()},h:function(){h(e,"class","m-3"),v(e,ho,53,2,2598)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Af.name,type:"if",source:"(53:67) ",ctx:i}),l}function Cf(i){let e,t;const l={c:function(){e=E("p"),t=I("Pick a Different Planet than Itself"),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"Pick a Different Planet than Itself"),r.forEach(d),this.h()},h:function(){h(e,"class","m-3"),v(e,ho,51,2,2473)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,i:ae,o:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:Cf.name,type:"if",source:"(51:0) {#if planetInfo.location.id === (planetChosenInfo ? planetChosenInfo.location.id : null)}",ctx:i}),l}function Of(i){let e;const t={c:function(){e=I("You can send out spaceships in the form of fleets to either attack or send reinforcement.")},l:function(o){e=R(o,"You can send out spaceships in the form of fleets to either attack or send reinforcement.")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Of.name,type:"slot",source:'(63:6) <Help class=\\"inline w-4 h-4\\">',ctx:i}),t}function Df(i){let e,t,l,o;l=new Pt({props:{class:"inline w-4 h-4",$$slots:{default:[Of]},$$scope:{ctx:i}},$$inline:!0});const n={c:function(){e=E("div"),t=I(`Confirm
      `),U(l.$$.fragment),this.h()},l:function(s){e=$(s,"DIV",{class:!0});var a=k(e);t=R(a,`Confirm
      `),G(l.$$.fragment,a),a.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,ho,60,4,3042)},m:function(s,a){S(s,e,a),_(e,t),K(l,e,null),o=!0},p:function(s,a){const c={};a&2097152&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i:function(s){o||(C(l.$$.fragment,s),o=!0)},o:function(s){D(l.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:n,id:Df.name,type:"slot",source:'(60:2) <PanelButton label=\\"Confirm\\" class=\\"m-2\\" color=\\"text-blue-500\\" borderColor=\\"border-blue-500\\" on:click={sendFleet}>',ctx:i}),n}function Gi(i){let e,t,l,o;const n=[Cf,Af,Tf,Rf,If],r=[];function s(c,u){return c[1].location.id===(c[2]?c[2].location.id:null)?0:c[6].step==="PICK_ORIGIN"&&!c[4]?1:c[6].step==="PICK_ORIGIN"&&c[3].exiting?2:c[6].step==="PICK_ORIGIN"&&c[3].numSpaceships==0?3:4}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Gi.name,type:"component",source:"",ctx:i}),a}function a1(i,e,t){let l,o,n,r,s,a=ae,c=()=>(a(),a=tn(o,z=>t(3,s=z)),o),u,f,m=ae,p=()=>(m(),m=tn(F,z=>t(14,f=z)),F),g,b;ve(St,"wallet"),ke(i,St,z=>t(13,u=z)),ve(pt,"selection"),ke(i,pt,z=>t(15,g=z)),ve(Xe,"sendFlow"),ke(i,Xe,z=>t(6,b=z)),i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>m());let{$$slots:w={},$$scope:y}=e;He("VirtualFleetActionPanel",w,[]);var P,A,T,O;let{planetState:F}=e;ve(F,"planetState"),p();let{planetInfo:N}=e,{close:Y}=e;function H(){Xe.sendTo(l.location),Y()}function M(){Xe.sendFrom(l.location),Y()}function W(){b.step==="PICK_DESTINATION"?H():M()}function X(){Dn.show(f.owner)}function V(){Xt.show(N.location.id)}const Q=["planetState","planetInfo","close"];return Object.keys(e).forEach(z=>{!~Q.indexOf(z)&&z.slice(0,2)!=="$$"&&z!=="slot"&&console.warn(`<VirtualFleetActionPanel> was created with unknown prop '${z}'`)}),i.$$set=z=>{"planetState"in z&&p(t(0,F=z.planetState)),"planetInfo"in z&&t(1,N=z.planetInfo),"close"in z&&t(8,Y=z.close)},i.$capture_state=()=>({_a:P,_b:A,_c:T,_d:O,planetState:F,planetInfo:N,close:Y,sendFlow:Xe,messageFlow:Dn,showPlanetDepartures:Xt,wallet:St,Help:Pt,PanelButton:ye,spaceInfo:be,planets:vt,selection:pt,sendTo:H,sendFrom:M,sendFleet:W,messageOwner:X,showDepartures:V,walletIsChosenOwner:r,walletIsOwner:n,planetChosenInfo:l,planetChosenState:o,$planetChosenState:s,$wallet:u,$planetState:f,$selection:g,$sendFlow:b}),i.$inject_state=z=>{"_a"in z&&t(9,P=z._a),"_b"in z&&t(10,A=z._b),"_c"in z&&t(11,T=z._c),"_d"in z&&t(12,O=z._d),"planetState"in z&&p(t(0,F=z.planetState)),"planetInfo"in z&&t(1,N=z.planetInfo),"close"in z&&t(8,Y=z.close),"walletIsChosenOwner"in z&&t(4,r=z.walletIsChosenOwner),"walletIsOwner"in z&&(n=z.walletIsOwner),"planetChosenInfo"in z&&t(2,l=z.planetChosenInfo),"planetChosenState"in z&&c(t(5,o=z.planetChosenState))},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&32768&&t(2,l=g?be.getPlanetInfo(g.x,g.y):void 0),i.$$.dirty&4&&c(t(5,o=l?vt.planetStateFor(l):void 0)),i.$$.dirty&26112&&(n=u.address&&(t(9,P=u.address)===null||P===void 0?void 0:P.toLowerCase())===(t(10,A=f==null?void 0:f.owner)===null||A===void 0?void 0:A.toLowerCase())),i.$$.dirty&14344&&t(4,r=u.address&&(t(11,T=u.address)===null||T===void 0?void 0:T.toLowerCase())===(t(12,O=s==null?void 0:s.owner)===null||O===void 0?void 0:O.toLowerCase()))},[F,N,l,s,r,o,b,W,Y,P,A,T,O,u,f,g]}class Ff extends We{constructor(e){super(e);Ye(this,e,a1,Gi,ze,{planetState:0,planetInfo:1,close:8}),B("SvelteRegisterComponent",{component:this,tagName:"VirtualFleetActionPanel",options:e,id:Gi.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("planetState"in l)&&console.warn("<VirtualFleetActionPanel> was created without expected prop 'planetState'"),t[1]===void 0&&!("planetInfo"in l)&&console.warn("<VirtualFleetActionPanel> was created without expected prop 'planetInfo'"),t[8]===void 0&&!("close"in l)&&console.warn("<VirtualFleetActionPanel> was created without expected prop 'close'")}get planetState(){throw new Error("<VirtualFleetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planetState(e){throw new Error("<VirtualFleetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get planetInfo(){throw new Error("<VirtualFleetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planetInfo(e){throw new Error("<VirtualFleetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get close(){throw new Error("<VirtualFleetActionPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set close(e){throw new Error("<VirtualFleetActionPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const oo="src/lib/components/planets/VirtualFleetInfoPanel.svelte";function Ki(i){let e;function t(r,s){return r[0]==="destination"?Lf:Nf}let l=t(i),o=l(i);const n={c:function(){e=E("p"),o.c(),this.h()},l:function(s){e=$(s,"P",{class:!0});var a=k(e);o.l(a),a.forEach(d),this.h()},h:function(){h(e,"class","text-center font-black"),v(e,oo,27,6,1077)},m:function(s,a){S(s,e,a),o.m(e,null)},p:function(s,a){l!==(l=t(s))&&(o.d(1),o=l(s),o&&(o.c(),o.m(e,null)))},d:function(s){s&&d(e),o.d()}};return B("SvelteRegisterBlock",{block:n,id:Ki.name,type:"if",source:"(27:4) {#if !$selection}",ctx:i}),n}function Nf(i){let e;const t={c:function(){e=I("Pick the Origin")},l:function(o){e=R(o,"Pick the Origin")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Nf.name,type:"else",source:"(29:62) {:else}",ctx:i}),t}function Lf(i){let e;const t={c:function(){e=I("Pick the Destination")},l:function(o){e=R(o,"Pick the Destination")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Lf.name,type:"if",source:"(29:8) {#if pickNeeded === 'destination'}",ctx:i}),t}function qi(i){let e,t,l=tt(be.timeToArrive(i[3],i[1]))+"",o,n,r,s;r=new Ff({props:{planetState:i[4],planetInfo:i[1],close:i[7]},$$inline:!0});const a={c:function(){e=E("p"),t=I("Will take "),o=I(l),n=L(),U(r.$$.fragment),this.h()},l:function(u){e=$(u,"P",{class:!0});var f=k(e);t=R(f,"Will take "),o=R(f,l),f.forEach(d),n=j(u),G(r.$$.fragment,u),this.h()},h:function(){h(e,"class","m-1 text-sm text-yellow-400"),v(e,oo,33,6,1259)},m:function(u,f){S(u,e,f),_(e,t),_(e,o),S(u,n,f),K(r,u,f),s=!0},p:function(u,f){(!s||f&10)&&l!==(l=tt(be.timeToArrive(u[3],u[1]))+"")&&he(o,l);const m={};f&16&&(m.planetState=u[4]),f&2&&(m.planetInfo=u[1]),r.$set(m)},i:function(u){s||(C(r.$$.fragment,u),s=!0)},o:function(u){D(r.$$.fragment,u),s=!1},d:function(u){u&&d(e),u&&d(n),q(r,u)}};return B("SvelteRegisterBlock",{block:a,id:qi.name,type:"if",source:"(33:4) {#if selectedPlanetInfo}",ctx:i}),a}function jf(i){let e,t;const l={c:function(){e=E("div"),t=I("Cancel"),this.h()},l:function(n){e=$(n,"DIV",{class:!0});var r=k(e);t=R(r,"Cancel"),r.forEach(d),this.h()},h:function(){h(e,"class","w-20"),v(e,oo,40,6,1577)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:jf.name,type:"slot",source:'(40:4) <PanelButton label=\\"Cancel\\" class=\\"m-2\\" on:click={cancelSend}>',ctx:i}),l}function Qi(i){let e,t,l,o,n,r,s,a,c,u;t=new Fo({props:{copiedDirection:"left",planetState:i[4],planetInfo:i[1]},$$inline:!0});let f=!i[2]&&Ki(i),m=i[3]&&qi(i);c=new ye({props:{label:"Cancel",class:"m-2",$$slots:{default:[jf]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[5]);const p={c:function(){e=E("div"),U(t.$$.fragment),l=L(),o=E("div"),n=L(),r=E("div"),f&&f.c(),s=L(),m&&m.c(),a=L(),U(c.$$.fragment),this.h()},l:function(b){e=$(b,"DIV",{class:!0});var w=k(e);G(t.$$.fragment,w),l=j(w),o=$(w,"DIV",{class:!0}),k(o).forEach(d),n=j(w),r=$(w,"DIV",{class:!0});var y=k(r);f&&f.l(y),s=j(y),m&&m.l(y),a=j(y),G(c.$$.fragment,y),y.forEach(d),w.forEach(d),this.h()},h:function(){h(o,"class","w-full h-1 bg-cyan-300 mt-4 mb-2"),v(o,oo,23,2,949),h(r,"class","flex flex-col text-center text-xs"),v(r,oo,25,2,1001),h(e,"class","absolute right-0 top-14 inline-block w-36 md:w-48 bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 m-4 text-sm"),v(e,oo,18,0,734)},m:function(b,w){S(b,e,w),K(t,e,null),_(e,l),_(e,o),_(e,n),_(e,r),f&&f.m(r,null),_(r,s),m&&m.m(r,null),_(r,a),K(c,r,null),u=!0},p:function(b,[w]){const y={};w&16&&(y.planetState=b[4]),w&2&&(y.planetInfo=b[1]),t.$set(y),b[2]?f&&(f.d(1),f=null):f?f.p(b,w):(f=Ki(b),f.c(),f.m(r,s)),b[3]?m?(m.p(b,w),w&8&&C(m,1)):(m=qi(b),m.c(),C(m,1),m.m(r,a)):m&&(Ee(),D(m,1,1,()=>{m=null}),$e());const P={};w&256&&(P.$$scope={dirty:w,ctx:b}),c.$set(P)},i:function(b){u||(C(t.$$.fragment,b),C(m),C(c.$$.fragment,b),u=!0)},o:function(b){D(t.$$.fragment,b),D(m),D(c.$$.fragment,b),u=!1},d:function(b){b&&d(e),q(t),f&&f.d(),m&&m.d(),q(c)}};return B("SvelteRegisterBlock",{block:p,id:Qi.name,type:"component",source:"",ctx:i}),p}function u1(i,e,t){let l,o,n,r;ve(pt,"selection"),ke(i,pt,g=>t(2,r=g));let{$$slots:s={},$$scope:a}=e;He("VirtualFleetInfoPanel",s,[]);let{coords:c}=e,{pickNeeded:u}=e;function f(){Xe.cancel()}const m=["coords","pickNeeded"];Object.keys(e).forEach(g=>{!~m.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<VirtualFleetInfoPanel> was created with unknown prop '${g}'`)});const p=()=>pt.unselect();return i.$$set=g=>{"coords"in g&&t(6,c=g.coords),"pickNeeded"in g&&t(0,u=g.pickNeeded)},i.$capture_state=()=>({planets:vt,spaceInfo:be,selection:pt,PlanetStats:Fo,timeToText:tt,VirtualFleetActionPanel:Ff,PanelButton:ye,sendFlow:Xe,coords:c,pickNeeded:u,cancelSend:f,selectedPlanetInfo:n,planetInfo:l,planetState:o,$selection:r}),i.$inject_state=g=>{"coords"in g&&t(6,c=g.coords),"pickNeeded"in g&&t(0,u=g.pickNeeded),"selectedPlanetInfo"in g&&t(3,n=g.selectedPlanetInfo),"planetInfo"in g&&t(1,l=g.planetInfo),"planetState"in g&&t(4,o=g.planetState)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&64&&t(1,l=be.getPlanetInfo(c.x,c.y)),i.$$.dirty&2&&t(4,o=vt.planetStateFor(l)),i.$$.dirty&4&&t(3,n=r?be.getPlanetInfo(r.x,r.y):void 0)},[u,l,r,n,o,f,c,p]}class Ji extends We{constructor(e){super(e);Ye(this,e,u1,Qi,ze,{coords:6,pickNeeded:0}),B("SvelteRegisterComponent",{component:this,tagName:"VirtualFleetInfoPanel",options:e,id:Qi.name});const{ctx:t}=this.$$,l=e.props||{};t[6]===void 0&&!("coords"in l)&&console.warn("<VirtualFleetInfoPanel> was created without expected prop 'coords'"),t[0]===void 0&&!("pickNeeded"in l)&&console.warn("<VirtualFleetInfoPanel> was created without expected prop 'pickNeeded'")}get coords(){throw new Error("<VirtualFleetInfoPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set coords(e){throw new Error("<VirtualFleetInfoPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pickNeeded(){throw new Error("<VirtualFleetInfoPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pickNeeded(e){throw new Error("<VirtualFleetInfoPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bt="src/lib/flows/SendFlow.svelte";function Vf(i){let e,t;e=new Le({props:{$$slots:{default:[Jf]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Vf.name,type:"else",source:"(138:0) {:else}",ctx:i}),l}function Mf(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[Zf]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[15]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Mf.name,type:"if",source:"(134:42) ",ctx:i}),l}function Wf(i){let e,t;e=new Le({props:{$$slots:{default:[xf]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Wf.name,type:"if",source:"(132:43) ",ctx:i}),l}function Yf(i){let e,t;e=new Le({props:{$$slots:{default:[ed]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[14]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Yf.name,type:"if",source:"(130:42) ",ctx:i}),l}function zf(i){let e,t;e=new Le({props:{$$slots:{default:[nd]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:zf.name,type:"if",source:"(108:57) ",ctx:i}),l}function Hf(i){let e,t;e=new Bf({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Hf.name,type:"if",source:"(106:56) ",ctx:i}),l}function Xf(i){let e,t;e=new yf({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Xf.name,type:"if",source:"(104:39) ",ctx:i}),l}function Uf(i){let e,t;e=new pf({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Uf.name,type:"if",source:"(101:51) ",ctx:i}),l}function Gf(i){let e,t;e=new Le({props:{$$slots:{default:[id]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Gf.name,type:"if",source:"(76:47) ",ctx:i}),l}function Kf(i){let e,t,l,o;const n=[sd,rd],r=[];function s(c,u){return c[0].step==="PICK_DESTINATION"?0:c[0].step==="PICK_ORIGIN"?1:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Kf.name,type:"if",source:"(70:21) ",ctx:i}),a}function qf(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[ud]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[9]),e.$on("confirm",i[10]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65538&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:qf.name,type:"if",source:"(36:42) ",ctx:i}),l}function Qf(i){let e,t;e=new Le({props:{$$slots:{default:[hd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[5]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Qf.name,type:"if",source:"(17:0) {#if $sendFlow.error}",ctx:i}),l}function Jf(i){let e;const t={c:function(){e=I("...")},l:function(o){e=R(o,"...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Jf.name,type:"slot",source:"(139:2) <Modal>",ctx:i}),t}function Zf(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Zf.name,type:"slot",source:"(135:2) <Modal closeButton={true} globalCloseButton={true} closeOnOutsideClick={false} on:close={() => sendFlow.cancel(true)}     >",ctx:i}),t}function xf(i){let e;const t={c:function(){e=I("Preparing The Transaction...")},l:function(o){e=R(o,"Preparing The Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:xf.name,type:"slot",source:"(133:2) <Modal>",ctx:i}),t}function ed(i){let e;const t={c:function(){e=I("Connecting...")},l:function(o){e=R(o,"Connecting...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ed.name,type:"slot",source:"(131:2) <Modal on:close={() => sendFlow.cancel()}>",ctx:i}),t}function td(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:td.name,type:"slot",source:'(127:6) <PanelButton label=\\"OK\\" class=\\"mt-4\\" on:click={() => sendFlow.acknowledgeWelcomingStep1()}>',ctx:i}),t}function nd(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g;p=new ye({props:{label:"OK",class:"mt-4",$$slots:{default:[td]},$$scope:{ctx:i}},$$inline:!0}),p.$on("click",i[13]);const b={c:function(){e=E("p"),t=I(`You are getting ready to send your first fleet. In the upcoming screen, You'll be able to choose how much
      spaceships you want to send and see the expected outcome once the spaceships reaches the destination.`),l=L(),o=E("p"),n=I(`Note though that once confirmed, this is only the first part of the action you need to perform in order for the
      fleet to perform its duties. You'll need to make sure the fleet action is resolved once it reaches the
      destination. This 2-step process is to ensure your action remains secret to all other players.`),r=L(),s=E("p"),a=I(`To help you, we will offer you to create an event on your calendar. But we also provide a mechanism to
      automatically perform that second action on your behalf assuming you trust us and our infrastructure, See `),c=E("a"),u=I("Agent Service"),f=L(),m=E("div"),U(p.$$.fragment),this.h()},l:function(y){e=$(y,"P",{class:!0});var P=k(e);t=R(P,`You are getting ready to send your first fleet. In the upcoming screen, You'll be able to choose how much
      spaceships you want to send and see the expected outcome once the spaceships reaches the destination.`),P.forEach(d),l=j(y),o=$(y,"P",{class:!0});var A=k(o);n=R(A,`Note though that once confirmed, this is only the first part of the action you need to perform in order for the
      fleet to perform its duties. You'll need to make sure the fleet action is resolved once it reaches the
      destination. This 2-step process is to ensure your action remains secret to all other players.`),A.forEach(d),r=j(y),s=$(y,"P",{class:!0});var T=k(s);a=R(T,`To help you, we will offer you to create an event on your calendar. But we also provide a mechanism to
      automatically perform that second action on your behalf assuming you trust us and our infrastructure, See `),c=$(T,"A",{class:!0,href:!0});var O=k(c);u=R(O,"Agent Service"),O.forEach(d),T.forEach(d),f=j(y),m=$(y,"DIV",{class:!0});var F=k(m);G(p.$$.fragment,F),F.forEach(d),this.h()},h:function(){h(e,"class","mb-3"),v(e,Bt,109,4,4713),h(o,"class","mb-3"),v(o,Bt,113,4,4963),h(c,"class","underline font-black"),h(c,"href",yn("agent-service/")),v(c,Bt,120,112,5559),h(s,"class","mb-3"),v(s,Bt,118,4,5321),h(m,"class","text-center"),v(m,Bt,125,4,5674)},m:function(y,P){S(y,e,P),_(e,t),S(y,l,P),S(y,o,P),_(o,n),S(y,r,P),S(y,s,P),_(s,a),_(s,c),_(c,u),S(y,f,P),S(y,m,P),K(p,m,null),g=!0},p:function(y,P){const A={};P&65536&&(A.$$scope={dirty:P,ctx:y}),p.$set(A)},i:function(y){g||(C(p.$$.fragment,y),g=!0)},o:function(y){D(p.$$.fragment,y),g=!1},d:function(y){y&&d(e),y&&d(l),y&&d(o),y&&d(r),y&&d(s),y&&d(f),y&&d(m),q(p)}};return B("SvelteRegisterBlock",{block:b,id:nd.name,type:"slot",source:"(109:2) <Modal>",ctx:i}),b}function od(i){let e;const t={c:function(){e=I("Cancel")},l:function(o){e=R(o,"Cancel")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:od.name,type:"slot",source:'(89:6) <PanelButton         label=\\"Cancel\\"         color=\\"text-red-500\\"         borderColor=\\"border-red-500\\"         class=\\"mt-4\\"         on:click={() => sendFlow.cancel()}>',ctx:i}),t}function ld(i){let e;const t={c:function(){e=I("Continue")},l:function(o){e=R(o,"Continue")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ld.name,type:"slot",source:'(96:6) <PanelButton label=\\"Continue\\" class=\\"mt-4\\" on:click={() => sendFlow.sendTo($sendFlow.data.to)}         >',ctx:i}),t}function id(i){let e,t,l,o,n,r,s,a,c,u,f,m,p;l=new $t({props:{class:"w-4 h-4 inline"},$$inline:!0}),u=new ye({props:{label:"Cancel",color:"text-red-500",borderColor:"border-red-500",class:"mt-4",$$slots:{default:[od]},$$scope:{ctx:i}},$$inline:!0}),u.$on("click",i[11]),m=new ye({props:{label:"Continue",class:"mt-4",$$slots:{default:[ld]},$$scope:{ctx:i}},$$inline:!0}),m.$on("click",i[12]);const g={c:function(){e=E("p"),t=I(`You are sending spaceships to an inactive planets. Note that once your fleet capture the planet, its population
      will decrease until you stake `),U(l.$$.fragment),o=I(" on it."),n=L(),r=E("p"),s=I(`While no other players can stake on it while you still have spaceships there, once the number of spaceships
      reaches zero, anyone can stake on it.`),a=L(),c=E("div"),U(u.$$.fragment),f=L(),U(m.$$.fragment),this.h()},l:function(w){e=$(w,"P",{class:!0});var y=k(e);t=R(y,`You are sending spaceships to an inactive planets. Note that once your fleet capture the planet, its population
      will decrease until you stake `),G(l.$$.fragment,y),o=R(y," on it."),y.forEach(d),n=j(w),r=$(w,"P",{});var P=k(r);s=R(P,`While no other players can stake on it while you still have spaceships there, once the number of spaceships
      reaches zero, anyone can stake on it.`),P.forEach(d),a=j(w),c=$(w,"DIV",{class:!0});var A=k(c);G(u.$$.fragment,A),f=j(A),G(m.$$.fragment,A),A.forEach(d),this.h()},h:function(){h(e,"class","mb-3"),v(e,Bt,77,4,3593),v(r,Bt,82,4,3821),h(c,"class","text-center"),v(c,Bt,87,4,3997)},m:function(w,y){S(w,e,y),_(e,t),K(l,e,null),_(e,o),S(w,n,y),S(w,r,y),_(r,s),S(w,a,y),S(w,c,y),K(u,c,null),_(c,f),K(m,c,null),p=!0},p:function(w,y){const P={};y&65536&&(P.$$scope={dirty:y,ctx:w}),u.$set(P);const A={};y&65536&&(A.$$scope={dirty:y,ctx:w}),m.$set(A)},i:function(w){p||(C(l.$$.fragment,w),C(u.$$.fragment,w),C(m.$$.fragment,w),p=!0)},o:function(w){D(l.$$.fragment,w),D(u.$$.fragment,w),D(m.$$.fragment,w),p=!1},d:function(w){w&&d(e),q(l),w&&d(n),w&&d(r),w&&d(a),w&&d(c),q(u),q(m)}};return B("SvelteRegisterBlock",{block:g,id:id.name,type:"slot",source:"(77:2) <Modal>",ctx:i}),g}function rd(i){var o;let e,t;e=new Ji({props:{coords:(o=i[0].data)==null?void 0:o.to,pickNeeded:i[2]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(r){G(e.$$.fragment,r)},m:function(r,s){K(e,r,s),t=!0},p:function(r,s){var c;const a={};s&1&&(a.coords=(c=r[0].data)==null?void 0:c.to),s&4&&(a.pickNeeded=r[2]),e.$set(a)},i:function(r){t||(C(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){q(e,r)}};return B("SvelteRegisterBlock",{block:l,id:rd.name,type:"if",source:"(73:45) ",ctx:i}),l}function sd(i){var o;let e,t;e=new Ji({props:{coords:(o=i[0].data)==null?void 0:o.from,pickNeeded:i[2]},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(r){G(e.$$.fragment,r)},m:function(r,s){K(e,r,s),t=!0},p:function(r,s){var c;const a={};s&1&&(a.coords=(c=r[0].data)==null?void 0:c.from),s&4&&(a.pickNeeded=r[2]),e.$set(a)},i:function(r){t||(C(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){q(e,r)}};return B("SvelteRegisterBlock",{block:l,id:sd.name,type:"if",source:"(71:2) {#if $sendFlow.step === 'PICK_DESTINATION'}",ctx:i}),l}function cd(i){let e;const t={c:function(){e=I("Recover")},l:function(o){e=R(o,"Recover")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:cd.name,type:"slot",source:'(60:8) <PanelButton           color=\\"text-orange-400\\"           class=\\"m-2\\"           label=\\"recover\\"           on:click={() => sendFlow.recoverFleetFromTxHash(transactionHashToRecover)}>',ctx:i}),t}function ad(i){let e;const t={c:function(){e=I("Skip")},l:function(o){e=R(o,"Skip")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ad.name,type:"slot",source:'(67:6) <PanelButton label=\\"nevermind\\" on:click={() => sendFlow.cancel()}>',ctx:i}),t}function ud(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W,X,V,Q;H=new ye({props:{color:"text-orange-400",class:"m-2",label:"recover",$$slots:{default:[cd]},$$scope:{ctx:i}},$$inline:!0}),H.$on("click",i[7]),W=new ye({props:{label:"nevermind",$$slots:{default:[ad]},$$scope:{ctx:i}},$$inline:!0}),W.$on("click",i[8]);const z={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),a=E("div"),c=E("p"),u=I("Maybe your wallet encountered an error and the tx got confirmed ? (it happens on Metamask, see "),f=E("a"),m=I("here"),p=I(`
          or `),g=E("a"),b=I("here"),w=I(" and upvote)"),y=L(),P=E("p"),A=I("If so please enter the transaction hash so we can recover the fleet."),T=L(),O=E("p"),F=I("Transacion Hash: "),N=E("input"),Y=L(),U(H.$$.fragment),M=L(),U(W.$$.fragment),this.h()},l:function(oe){e=$(oe,"DIV",{class:!0});var ce=k(e);t=$(ce,"P",{class:!0});var Z=k(t);l=R(Z,"Are you sure to cancel ?"),Z.forEach(d),o=j(ce),n=$(ce,"P",{class:!0});var se=k(n);r=R(se,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),se.forEach(d),s=j(ce),a=$(ce,"DIV",{class:!0});var ee=k(a);c=$(ee,"P",{class:!0});var fe=k(c);u=R(fe,"Maybe your wallet encountered an error and the tx got confirmed ? (it happens on Metamask, see "),f=$(fe,"A",{class:!0,href:!0});var de=k(f);m=R(de,"here"),de.forEach(d),p=R(fe,`
          or `),g=$(fe,"A",{class:!0,href:!0});var we=k(g);b=R(we,"here"),we.forEach(d),w=R(fe," and upvote)"),fe.forEach(d),y=j(ee),P=$(ee,"P",{class:!0});var Pe=k(P);A=R(Pe,"If so please enter the transaction hash so we can recover the fleet."),Pe.forEach(d),T=j(ee),O=$(ee,"P",{class:!0});var Ae=k(O);F=R(Ae,"Transacion Hash: "),N=$(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(d),Y=j(ee),G(H.$$.fragment,ee),ee.forEach(d),M=j(ce),G(W.$$.fragment,ce),ce.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,Bt,43,6,2044),h(n,"class","pb-4"),v(n,Bt,44,6,2095),h(f,"class","underline"),h(f,"href","https://github.com/MetaMask/metamask-extension/issues/13928"),v(f,Bt,48,105,2404),h(g,"class","underline"),h(g,"href","https://github.com/MetaMask/metamask-extension/issues/13929"),v(g,Bt,52,13,2549),h(c,"class","m-2 text-orange-400"),v(c,Bt,47,8,2267),h(P,"class","m-2"),v(P,Bt,54,8,2679),h(N,"type","text"),h(N,"class","bg-black text-white"),v(N,Bt,56,27,2818),h(O,"class","m-2"),v(O,Bt,55,8,2775),h(a,"class","border-amber-400 border-2 m-4"),v(a,Bt,46,6,2215),h(e,"class","text-center"),v(e,Bt,42,4,2012)},m:function(oe,ce){S(oe,e,ce),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),_(e,a),_(a,c),_(c,u),_(c,f),_(f,m),_(c,p),_(c,g),_(g,b),_(c,w),_(a,y),_(a,P),_(P,A),_(a,T),_(a,O),_(O,F),_(O,N),Ft(N,i[1]),_(a,Y),K(H,a,null),_(e,M),K(W,e,null),X=!0,V||(Q=Ze(N,"input",i[6]),V=!0)},p:function(oe,ce){ce&2&&N.value!==oe[1]&&Ft(N,oe[1]);const Z={};ce&65536&&(Z.$$scope={dirty:ce,ctx:oe}),H.$set(Z);const se={};ce&65536&&(se.$$scope={dirty:ce,ctx:oe}),W.$set(se)},i:function(oe){X||(C(H.$$.fragment,oe),C(W.$$.fragment,oe),X=!0)},o:function(oe){D(H.$$.fragment,oe),D(W.$$.fragment,oe),X=!1},d:function(oe){oe&&d(e),q(H),q(W),V=!1,Q()}};return B("SvelteRegisterBlock",{block:z,id:ud.name,type:"slot",source:"(37:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => sendFlow.cancelCancelation()}     on:confirm={() => sendFlow.cancel()}   >",ctx:i}),z}function fd(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[md]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[4]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{class:!0});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){h(t,"class","text-xl"),v(t,Bt,29,8,1550),h(n,"class","mt-2 text-red-500 text-xl"),v(n,Bt,30,8,1602),h(e,"class","text-center"),v(e,Bt,28,6,1516)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&65536&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:fd.name,type:"else",source:"(28:4) {:else}",ctx:i}),f}function dd(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u,f,m,p,g,b;g=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[pd]},$$scope:{ctx:i}},$$inline:!0}),g.$on("click",i[3]);const w={c:function(){e=E("div"),t=E("h2"),l=I("Failed to submit to agent-service"),o=L(),n=E("p"),s=I(r),a=L(),c=E("p"),u=I("You can always retry on the "),f=E("a"),m=I("agent-service page"),p=L(),U(g.$$.fragment),this.h()},l:function(P){e=$(P,"DIV",{class:!0});var A=k(e);t=$(A,"H2",{class:!0});var T=k(t);l=R(T,"Failed to submit to agent-service"),T.forEach(d),o=j(A),n=$(A,"P",{class:!0});var O=k(n);s=R(O,r),O.forEach(d),a=j(A),c=$(A,"P",{class:!0});var F=k(c);u=R(F,"You can always retry on the "),f=$(F,"A",{class:!0,href:!0});var N=k(f);m=R(N,"agent-service page"),N.forEach(d),F.forEach(d),p=j(A),G(g.$$.fragment,A),A.forEach(d),this.h()},h:function(){h(t,"class","text-red-500 text-xl"),v(t,Bt,20,8,1096),h(n,"class","mt-2 text-sm"),v(n,Bt,21,8,1176),h(f,"class","underline"),h(f,"href",yn("agent-service/")),v(f,Bt,23,38,1298),h(c,"class","mt-2"),v(c,Bt,22,8,1243),h(e,"class","text-center"),v(e,Bt,19,6,1062)},m:function(P,A){S(P,e,A),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),_(e,c),_(c,u),_(c,f),_(f,m),_(e,p),K(g,e,null),b=!0},p:function(P,A){(!b||A&1)&&r!==(r=Et(P[0].error)+"")&&he(s,r);const T={};A&65536&&(T.$$scope={dirty:A,ctx:P}),g.$set(T)},i:function(P){b||(C(g.$$.fragment,P),b=!0)},o:function(P){D(g.$$.fragment,P),b=!1},d:function(P){P&&d(e),q(g)}};return B("SvelteRegisterBlock",{block:w,id:dd.name,type:"if",source:"(19:4) {#if $sendFlow.error.type === 'AGENT_SERVICE_SUBMISSION_ERROR'}",ctx:i}),w}function md(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:md.name,type:"slot",source:'(32:8) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => sendFlow.acknownledgeError()}>',ctx:i}),t}function pd(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:pd.name,type:"slot",source:'(26:8) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => sendFlow.acknownledgeError()}>',ctx:i}),t}function hd(i){let e,t,l,o;const n=[dd,fd],r=[];function s(c,u){return c[0].error.type==="AGENT_SERVICE_SUBMISSION_ERROR"?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:hd.name,type:"slot",source:"(18:2) <Modal on:close={() => sendFlow.acknownledgeError()}>",ctx:i}),a}function Zi(i){let e,t,l,o;const n=[Qf,qf,Kf,Gf,Uf,Xf,Hf,zf,Yf,Wf,Mf,Vf],r=[];function s(c,u){return c[0].error?0:c[0].cancelingConfirmation?1:c[2]?2:c[0].step==="INACTIVE_PLANET"?3:c[0].step==="CHOOSE_FLEET_AMOUNT"?4:c[0].step==="SUCCESS"?5:c[0].step==="TUTORIAL_PRE_TRANSACTION"?6:c[0].step==="TUTORIAL_PRE_FLEET_AMOUNT"?7:c[0].step==="CONNECTING"?8:c[0].step==="CREATING_TX"?9:c[0].step==="WAITING_TX"?10:11}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Zi.name,type:"component",source:"",ctx:i}),a}function f1(i,e,t){let l,o;ve(Xe,"sendFlow"),ke(i,Xe,F=>t(0,o=F));let{$$slots:n={},$$scope:r}=e;He("SendFlow",n,[]);let s;const a=[];Object.keys(e).forEach(F=>{!~a.indexOf(F)&&F.slice(0,2)!=="$$"&&F!=="slot"&&console.warn(`<SendFlow> was created with unknown prop '${F}'`)});const c=()=>Xe.acknownledgeError(),u=()=>Xe.acknownledgeError(),f=()=>Xe.acknownledgeError();function m(){s=this.value,t(1,s)}const p=()=>Xe.recoverFleetFromTxHash(s),g=()=>Xe.cancel(),b=()=>Xe.cancelCancelation(),w=()=>Xe.cancel(),y=()=>Xe.cancel(),P=()=>Xe.sendTo(o.data.to),A=()=>Xe.acknowledgeWelcomingStep1(),T=()=>Xe.cancel(),O=()=>Xe.cancel(!0);return i.$capture_state=()=>({SendingSpaceships:pf,Button:ye,sendFlow:Xe,Modal:Le,SpaceshipsSent:yf,PanelButton:ye,SendPreTransactionMessage:Bf,url:yn,PlayCoin:$t,VirtualFleetInfoPanel:Ji,formatError:Et,transactionHashToRecover:s,pickNeeded:l,$sendFlow:o}),i.$inject_state=F=>{"transactionHashToRecover"in F&&t(1,s=F.transactionHashToRecover),"pickNeeded"in F&&t(2,l=F.pickNeeded)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&t(2,l=o.step==="PICK_DESTINATION"?"destination":o.step==="PICK_ORIGIN"?"origin":void 0)},[o,s,l,c,u,f,m,p,g,b,w,y,P,A,T,O]}class _d extends We{constructor(e){super(e);Ye(this,e,f1,Zi,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"SendFlow",options:e,id:Zi.name})}}const ct="src/lib/components/fleets/SimulateSpaceships.svelte";function xi(i){var r;let e,t,l=tt((r=i[2])==null?void 0:r.durationAndAmountAdded.duration)+"",o;const n={c:function(){e=E("p"),t=I("will have that amount in "),o=I(l),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"will have that amount in "),o=R(c,l),c.forEach(d),this.h()},h:function(){h(e,"class","m-1 text-sm text-red-500"),v(e,ct,96,6,3778)},m:function(a,c){S(a,e,c),_(e,t),_(e,o)},p:function(a,c){var u;c&4&&l!==(l=tt((u=a[2])==null?void 0:u.durationAndAmountAdded.duration)+"")&&he(o,l)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:xi.name,type:"if",source:"(96:4) {#if prediction?.durationAndAmountAdded && prediction?.durationAndAmountAdded.amount > 0}",ctx:i}),n}function er(i){var st,ft;let e,t,l,o=i[4].stats.name+"",n,r,s,a,c,u,f=i[3].stats.name+"",m,p,g,b,w,y,P,A,T,O,F=i[7].numSpaceships+"",N,Y,H=i[6].numSpaceships+"",M,W,X,V,Q,z,ie,oe,ce,Z,se=i[4].stats.attack+"",ee,fe,de=i[3].stats.defense+"",we,Pe,Ae,J,le,ge,Ce,Re,Te,Me,re=((st=i[2])==null?void 0:st.arrivalTime)+"",Ve,je,me=((ft=i[2])==null?void 0:ft.numSpaceshipsAtArrival.min)+"",x,ue,Ke,at,_e,Se,Oe,De,Ue;function it(lt,qe){var Ge;return((Ge=lt[2])==null?void 0:Ge.outcome.min.captured)?wd:lt[6].natives?bd:gd}let rt=it(i),Qe=rt(i);const ut={c:function(){e=E("div"),t=E("div"),l=E("span"),n=I(o),r=L(),s=Fe("svg"),a=Fe("path"),c=L(),u=E("span"),m=I(f),p=L(),g=E("div"),b=E("span"),w=I("Spaceships"),y=E("span"),P=I("Spaceships"),A=L(),T=E("div"),O=E("span"),N=I(F),Y=E("span"),M=I(H),W=L(),X=E("div"),V=E("span"),Q=I("Attack"),z=E("span"),ie=I("Defense"),oe=L(),ce=E("div"),Z=E("span"),ee=I(se),fe=E("span"),we=I(de),Pe=L(),Ae=E("div"),J=E("span"),le=I("Arrives in"),ge=E("span"),Ce=I("Spaceships Then"),Re=L(),Te=E("div"),Me=E("span"),Ve=I(re),je=E("span"),x=I(me),ue=L(),Ke=E("div"),at=E("span"),_e=I("Predicted outcome at time of arrival"),Se=L(),Oe=E("div"),Qe.c(),De=L(),Ue=E("div"),this.h()},l:function(qe){e=$(qe,"DIV",{class:!0});var Ge=k(e);t=$(Ge,"DIV",{class:!0});var gt=k(t);l=$(gt,"SPAN",{class:!0});var bt=k(l);n=R(bt,o),bt.forEach(d),r=j(gt),s=Ne(gt,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,stroke:!0});var nt=k(s);a=Ne(nt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(a).forEach(d),nt.forEach(d),c=j(gt),u=$(gt,"SPAN",{class:!0});var te=k(u);m=R(te,f),te.forEach(d),gt.forEach(d),p=j(Ge),g=$(Ge,"DIV",{class:!0});var Be=k(g);b=$(Be,"SPAN",{});var Tt=k(b);w=R(Tt,"Spaceships"),Tt.forEach(d),y=$(Be,"SPAN",{class:!0});var dt=k(y);P=R(dt,"Spaceships"),dt.forEach(d),Be.forEach(d),A=j(Ge),T=$(Ge,"DIV",{class:!0});var yt=k(T);O=$(yt,"SPAN",{});var At=k(O);N=R(At,F),At.forEach(d),Y=$(yt,"SPAN",{class:!0});var Dt=k(Y);M=R(Dt,H),Dt.forEach(d),yt.forEach(d),W=j(Ge),X=$(Ge,"DIV",{class:!0});var It=k(X);V=$(It,"SPAN",{});var Ut=k(V);Q=R(Ut,"Attack"),Ut.forEach(d),z=$(It,"SPAN",{class:!0});var Gt=k(z);ie=R(Gt,"Defense"),Gt.forEach(d),It.forEach(d),oe=j(Ge),ce=$(Ge,"DIV",{class:!0});var sn=k(ce);Z=$(sn,"SPAN",{});var xt=k(Z);ee=R(xt,se),xt.forEach(d),fe=$(sn,"SPAN",{class:!0});var Cn=k(fe);we=R(Cn,de),Cn.forEach(d),sn.forEach(d),Pe=j(Ge),Ae=$(Ge,"DIV",{class:!0});var En=k(Ae);J=$(En,"SPAN",{});var On=k(J);le=R(On,"Arrives in"),On.forEach(d),ge=$(En,"SPAN",{class:!0});var go=k(ge);Ce=R(go,"Spaceships Then"),go.forEach(d),En.forEach(d),Re=j(Ge),Te=$(Ge,"DIV",{class:!0});var io=k(Te);Me=$(io,"SPAN",{class:!0});var bo=k(Me);Ve=R(bo,re),bo.forEach(d),je=$(io,"SPAN",{class:!0});var wo=k(je);x=R(wo,me),wo.forEach(d),io.forEach(d),ue=j(Ge),Ke=$(Ge,"DIV",{class:!0});var vo=k(Ke);at=$(vo,"SPAN",{});var ko=k(at);_e=R(ko,"Predicted outcome at time of arrival"),ko.forEach(d),vo.forEach(d),Se=j(Ge),Oe=$(Ge,"DIV",{class:!0});var yo=k(Oe);Qe.l(yo),yo.forEach(d),Ge.forEach(d),De=j(qe),Ue=$(qe,"DIV",{class:!0}),k(Ue).forEach(d),this.h()},h:function(){h(l,"class","text-green-600"),v(l,ct,105,10,4133),h(a,"stroke-linecap","round"),h(a,"stroke-linejoin","round"),h(a,"stroke-width","2"),h(a,"d","M14 5l7 7m0 0l-7 7m7-7H3"),v(a,ct,107,12,4326),h(s,"class","w-4"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"fill","none"),h(s,"viewBox","0 0 24 24"),h(s,"stroke","currentColor"),v(s,ct,106,10,4207),h(u,"class","text-green-600 text-right"),v(u,ct,109,10,4455),h(t,"class","flex flex-row justify-between"),v(t,ct,104,8,4079),v(b,ct,113,10,4633),h(y,"class","text-right"),v(y,ct,113,33,4656),h(g,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(g,ct,112,8,4552),v(O,ct,116,10,4776),h(Y,"class","text-right"),v(Y,ct,116,55,4821),h(T,"class","flex flex-row justify-between"),v(T,ct,115,8,4722),v(V,ct,121,10,5060),h(z,"class","text-right"),v(z,ct,121,29,5079),h(X,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(X,ct,120,8,4979),v(Z,ct,124,10,5196),h(fe,"class","text-right"),v(fe,ct,124,52,5238),h(ce,"class","flex flex-row justify-between"),v(ce,ct,123,8,5142),v(J,ct,128,10,5404),h(ge,"class","text-right"),v(ge,ct,128,33,5427),h(Ae,"class","flex flex-row justify-between mt-2 text-xs text-gray-500"),v(Ae,ct,127,8,5323),h(Me,"class","text-yellow-400"),v(Me,ct,131,10,5552),h(je,"class","text-right"),v(je,ct,131,72,5614),h(Te,"class","flex flex-row justify-between"),v(Te,ct,130,8,5498),v(at,ct,137,10,5816),h(Ke,"class","flex flex-row justify-center mt-2 text-xs text-gray-500"),v(Ke,ct,136,8,5735),h(Oe,"class","flex flex-row justify-center"),v(Oe,ct,139,8,5889),h(e,"class","flex flex-col"),v(e,ct,103,6,4043),h(Ue,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(Ue,ct,157,6,6859)},m:function(qe,Ge){S(qe,e,Ge),_(e,t),_(t,l),_(l,n),_(t,r),_(t,s),_(s,a),_(t,c),_(t,u),_(u,m),_(e,p),_(e,g),_(g,b),_(b,w),_(g,y),_(y,P),_(e,A),_(e,T),_(T,O),_(O,N),_(T,Y),_(Y,M),_(e,W),_(e,X),_(X,V),_(V,Q),_(X,z),_(z,ie),_(e,oe),_(e,ce),_(ce,Z),_(Z,ee),_(ce,fe),_(fe,we),_(e,Pe),_(e,Ae),_(Ae,J),_(J,le),_(Ae,ge),_(ge,Ce),_(e,Re),_(e,Te),_(Te,Me),_(Me,Ve),_(Te,je),_(je,x),_(e,ue),_(e,Ke),_(Ke,at),_(at,_e),_(e,Se),_(e,Oe),Qe.m(Oe,null),S(qe,De,Ge),S(qe,Ue,Ge)},p:function(qe,Ge){var gt,bt;Ge&16&&o!==(o=qe[4].stats.name+"")&&he(n,o),Ge&8&&f!==(f=qe[3].stats.name+"")&&he(m,f),Ge&128&&F!==(F=qe[7].numSpaceships+"")&&he(N,F),Ge&64&&H!==(H=qe[6].numSpaceships+"")&&he(M,H),Ge&16&&se!==(se=qe[4].stats.attack+"")&&he(ee,se),Ge&8&&de!==(de=qe[3].stats.defense+"")&&he(we,de),Ge&4&&re!==(re=((gt=qe[2])==null?void 0:gt.arrivalTime)+"")&&he(Ve,re),Ge&4&&me!==(me=((bt=qe[2])==null?void 0:bt.numSpaceshipsAtArrival.min)+"")&&he(x,me),rt===(rt=it(qe))&&Qe?Qe.p(qe,Ge):(Qe.d(1),Qe=rt(qe),Qe&&(Qe.c(),Qe.m(Oe,null)))},d:function(qe){qe&&d(e),Qe.d(),qe&&d(De),qe&&d(Ue)}};return B("SvelteRegisterBlock",{block:ut,id:er.name,type:"if",source:"(103:4) {#if $fromPlanetState && $toPlanetState}",ctx:i}),ut}function gd(i){var r;let e,t=((r=i[2])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (attack failed)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (attack failed)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,ct,144,17,6263)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c&4&&t!==(t=((u=a[2])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:gd.name,type:"else",source:"(145:10) {:else}",ctx:i}),n}function bd(i){var r;let e,t=((r=i[2])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (native population resists)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (native population resists)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-red-400"),v(e,ct,143,12,6140)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c&4&&t!==(t=((u=a[2])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:bd.name,type:"if",source:"(143:43) ",ctx:i}),n}function wd(i){var r;let e,t=((r=i[2])==null?void 0:r.outcome.min.numSpaceshipsLeft)+"",l,o;const n={c:function(){e=E("span"),l=I(t),o=I(" (captured)"),this.h()},l:function(a){e=$(a,"SPAN",{class:!0});var c=k(e);l=R(c,t),o=R(c," (captured)"),c.forEach(d),this.h()},h:function(){h(e,"class","text-green-600"),v(e,ct,141,12,5993)},m:function(a,c){S(a,e,c),_(e,l),_(e,o)},p:function(a,c){var u;c&4&&t!==(t=((u=a[2])==null?void 0:u.outcome.min.numSpaceshipsLeft)+"")&&he(l,t)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:wd.name,type:"if",source:"(141:10) {#if prediction?.outcome.min.captured}",ctx:i}),n}function vd(i){var N,Y;let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T=((N=i[2])==null?void 0:N.durationAndAmountAdded)&&((Y=i[2])==null?void 0:Y.durationAndAmountAdded.amount)>0&&xi(i),O=i[7]&&i[6]&&er(i);const F={c:function(){e=E("div"),t=E("p"),l=I("How many spaceships?"),o=L(),n=E("div"),r=L(),s=E("div"),a=E("div"),c=E("input"),f=L(),m=E("input"),g=L(),T&&T.c(),b=L(),w=E("div"),y=L(),O&&O.c(),this.h()},l:function(M){e=$(M,"DIV",{class:!0});var W=k(e);t=$(W,"P",{class:!0});var X=k(t);l=R(X,"How many spaceships?"),X.forEach(d),W.forEach(d),o=j(M),n=$(M,"DIV",{class:!0}),k(n).forEach(d),r=j(M),s=$(M,"DIV",{});var V=k(s);a=$(V,"DIV",{class:!0});var Q=k(a);c=$(Q,"INPUT",{class:!0,type:!0,id:!0,name:!0,min:!0,max:!0}),f=j(Q),m=$(Q,"INPUT",{class:!0,type:!0,id:!0}),Q.forEach(d),g=j(V),T&&T.l(V),b=j(V),w=$(V,"DIV",{class:!0}),k(w).forEach(d),y=j(V),O&&O.l(V),V.forEach(d),this.h()},h:function(){h(t,"class","font-bold"),v(t,ct,70,4,2877),h(e,"class","text-center"),v(e,ct,69,2,2847),h(n,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(n,ct,72,2,2934),h(c,"class",u=`${i[5]?"accent-red-300":"accent-cyan-300"}`),h(c,"type","range"),h(c,"id","fleetAmount"),h(c,"name","fleetAmount"),h(c,"min","1"),h(c,"max",i[1]),v(c,ct,77,6,3161),h(m,"class",p=`bg-gray-700 border-cyan-800 border-2 ${i[5]?"text-red-300":""}`),h(m,"type","text"),h(m,"id","textInput"),v(m,ct,87,6,3478),h(a,"class","text-center"),v(a,ct,75,4,3007),h(w,"class","my-2 bg-cyan-300 border-cyan-300 w-full h-1"),v(w,ct,100,4,3931),v(s,ct,74,2,2997)},m:function(M,W){S(M,e,W),_(e,t),_(t,l),S(M,o,W),S(M,n,W),S(M,r,W),S(M,s,W),_(s,a),_(a,c),Ft(c,i[0]),_(a,f),_(a,m),Ft(m,i[0]),_(s,g),T&&T.m(s,null),_(s,b),_(s,w),_(s,y),O&&O.m(s,null),P||(A=[Ze(c,"change",i[16]),Ze(c,"input",i[16]),Ze(m,"input",i[17])],P=!0)},p:function(M,W){var X,V;W&32&&u!==(u=`${M[5]?"accent-red-300":"accent-cyan-300"}`)&&h(c,"class",u),W&2&&h(c,"max",M[1]),W&1&&Ft(c,M[0]),W&32&&p!==(p=`bg-gray-700 border-cyan-800 border-2 ${M[5]?"text-red-300":""}`)&&h(m,"class",p),W&1&&m.value!==M[0]&&Ft(m,M[0]),((X=M[2])==null?void 0:X.durationAndAmountAdded)&&((V=M[2])==null?void 0:V.durationAndAmountAdded.amount)>0?T?T.p(M,W):(T=xi(M),T.c(),T.m(s,b)):T&&(T.d(1),T=null),M[7]&&M[6]?O?O.p(M,W):(O=er(M),O.c(),O.m(s,null)):O&&(O.d(1),O=null)},d:function(M){M&&d(e),M&&d(o),M&&d(n),M&&d(r),M&&d(s),T&&T.d(),O&&O.d(),P=!1,_n(A)}};return B("SvelteRegisterBlock",{block:F,id:vd.name,type:"slot",source:"(67:0) <Modal on:close={() => simulateFlow.back()}>",ctx:i}),F}function tr(i){let e,t;e=new Le({props:{$$slots:{default:[vd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[18]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,[r]){const s={};r&2097407&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:tr.name,type:"component",source:"",ctx:i}),l}function d1(i,e,t){let l,o,n,r,s,a,c=ae,u=()=>(c(),c=tn(r,z=>t(6,a=z)),r),f,m=ae,p=()=>(m(),m=tn(o,z=>t(7,f=z)),o),g;ve(Ot,"simulateFlow"),ke(i,Ot,z=>t(15,g=z)),i.$$.on_destroy.push(()=>c()),i.$$.on_destroy.push(()=>m());let{$$slots:b={},$$scope:w}=e;He("SimulateSpaceships",b,[]);var y,P,A,T;let O=!1,F=1,N,Y=0,H,M=!1;qt(()=>{t(0,F=1),t(14,O=!1)});const W=[];Object.keys(e).forEach(z=>{!~W.indexOf(z)&&z.slice(0,2)!=="$$"&&z!=="slot"&&console.warn(`<SimulateSpaceships> was created with unknown prop '${z}'`)});function X(){F=Po(this.value),t(0,F),t(4,l),t(1,N),t(14,O),t(7,f),t(15,g),t(10,y),t(11,P)}function V(){F=this.value,t(0,F),t(4,l),t(1,N),t(14,O),t(7,f),t(15,g),t(10,y),t(11,P)}const Q=()=>Ot.back();return i.$capture_state=()=>({_a:y,_b:P,_c:A,_d:T,Modal:Le,simulateFlow:Ot,onMount:qt,timeToText:tt,spaceInfo:be,planets:vt,fleetAmountSet:O,fleetAmount:F,maxSpaceships:N,reachNumSpaceshipIn:Y,prediction:H,confirmDisabled:M,toPlanetInfo:n,fromPlanetInfo:l,aboveCurrentMax:s,toPlanetState:r,fromPlanetState:o,$toPlanetState:a,$fromPlanetState:f,$simulateFlow:g}),i.$inject_state=z=>{"_a"in z&&t(10,y=z._a),"_b"in z&&t(11,P=z._b),"_c"in z&&t(12,A=z._c),"_d"in z&&t(13,T=z._d),"fleetAmountSet"in z&&t(14,O=z.fleetAmountSet),"fleetAmount"in z&&t(0,F=z.fleetAmount),"maxSpaceships"in z&&t(1,N=z.maxSpaceships),"reachNumSpaceshipIn"in z&&(Y=z.reachNumSpaceshipIn),"prediction"in z&&t(2,H=z.prediction),"confirmDisabled"in z&&(M=z.confirmDisabled),"toPlanetInfo"in z&&t(3,n=z.toPlanetInfo),"fromPlanetInfo"in z&&t(4,l=z.fromPlanetInfo),"aboveCurrentMax"in z&&t(5,s=z.aboveCurrentMax),"toPlanetState"in z&&u(t(8,r=z.toPlanetState)),"fromPlanetState"in z&&p(t(9,o=z.fromPlanetState))},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty&35840&&t(4,l=be.getPlanetInfo(t(10,y=g.data)===null||y===void 0?void 0:y.from.x,t(11,P=g.data)===null||P===void 0?void 0:P.from.y)),i.$$.dirty&16&&p(t(9,o=vt.planetStateFor(l))),i.$$.dirty&45056&&t(3,n=be.getPlanetInfo(t(12,A=g.data)===null||A===void 0?void 0:A.to.x,t(13,T=g.data)===null||T===void 0?void 0:T.to.y)),i.$$.dirty&8&&u(t(8,r=vt.planetStateFor(n))),i.$$.dirty&16530&&(t(1,N=l.stats.cap),N>0&&!O&&(t(0,F=Math.floor(f?f.numSpaceships/2:1e4)),t(14,O=!0))),i.$$.dirty&129&&t(5,s=f?F>f.numSpaceships:!1),i.$$.dirty&160&&(Y=0,s&&(f==null?void 0:f.active)),i.$$.dirty&217&&n&&l){const z=be.timeToArrive(l,n);t(2,H={arrivalTime:tt(z),numSpaceshipsAtArrival:be.numSpaceshipsAtArrival(n,a,z),durationAndAmountAdded:be.durationToReachXSpaceships(l,f,F),outcome:be.outcome(l,n,a,F,z,void 0,void 0,void 0,!1,"0x0000000000000000000000000000000000000011")})}i.$$.dirty&68&&a&&(M=!!(a.natives&&!(H==null?void 0:H.outcome.min.captured)))},[F,N,H,n,l,s,a,f,r,o,y,P,A,T,O,g,X,V,Q]}class kd extends We{constructor(e){super(e);Ye(this,e,d1,tr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"SimulateSpaceships",options:e,id:tr.name})}}const _o="src/lib/flows/SimulateFlow.svelte";function yd(i){let e,t;e=new Le({props:{$$slots:{default:[Pd]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:yd.name,type:"else",source:"(23:0) {:else}",ctx:i}),l}function Sd(i){let e,t;e=new kd({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Sd.name,type:"if",source:"(21:44) ",ctx:i}),l}function Ed(i){let e,t;e=new mo({props:{$$slots:{default:[Bd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[3]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ed.name,type:"if",source:"(17:52) ",ctx:i}),l}function $d(i){let e,t;e=new Le({props:{$$slots:{default:[Rd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[2]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&17&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:$d.name,type:"if",source:"(9:0) {#if $simulateFlow.error}",ctx:i}),l}function Pd(i){let e;const t={c:function(){e=I("...")},l:function(o){e=R(o,"...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Pd.name,type:"slot",source:"(24:2) <Modal>",ctx:i}),t}function Bd(i){let e,t,l;const o={c:function(){e=E("p"),t=E("span"),l=I(" Pick the Destination"),this.h()},l:function(r){e=$(r,"P",{class:!0});var s=k(e);t=$(s,"SPAN",{class:!0}),k(t).forEach(d),l=R(s," Pick the Destination"),s.forEach(d),this.h()},h:function(){h(t,"class","inline"),v(t,_o,18,27,876),h(e,"class","font-medium"),v(e,_o,18,4,853)},m:function(r,s){S(r,e,s),_(e,t),_(e,l)},d:function(r){r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Bd.name,type:"slot",source:"(18:2) <Banner on:close={() => simulateFlow.cancel()}>",ctx:i}),o}function Id(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Id.name,type:"slot",source:'(14:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => simulateFlow.acknownledgeError()}>',ctx:i}),t}function Rd(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[Id]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[1]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,_o,11,6,510),h(n,"class","text-gray-300 mt-2 text-sm"),v(n,_o,12,6,544),h(e,"class","text-center"),v(e,_o,10,4,478)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&16&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:Rd.name,type:"slot",source:"(10:2) <Modal on:close={() => simulateFlow.acknownledgeError()}>",ctx:i}),f}function nr(i){let e,t,l,o;const n=[$d,Ed,Sd,yd],r=[];function s(c,u){return c[0].error?0:c[0].step==="PICK_DESTINATION"?1:c[0].step==="SIMULATE"?2:3}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:nr.name,type:"component",source:"",ctx:i}),a}function m1(i,e,t){let l;ve(Ot,"simulateFlow"),ke(i,Ot,u=>t(0,l=u));let{$$slots:o={},$$scope:n}=e;He("SimulateFlow",o,[]);const r=[];Object.keys(e).forEach(u=>{!~r.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<SimulateFlow> was created with unknown prop '${u}'`)});const s=()=>Ot.acknownledgeError(),a=()=>Ot.acknownledgeError(),c=()=>Ot.cancel();return i.$capture_state=()=>({Button:ye,Banner:mo,simulateFlow:Ot,Modal:Le,SimulateSpaceships:kd,formatError:Et,$simulateFlow:l}),[l,s,a,c]}class Td extends We{constructor(e){super(e);Ye(this,e,m1,nr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"SimulateFlow",options:e,id:nr.name})}}const bn="src/lib/flows/ExitFlow.svelte";function Ad(i){let e,t;e=new Le({props:{$$slots:{default:[Wd]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16385&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ad.name,type:"else",source:"(53:0) {:else}",ctx:i}),l}function Cd(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[Yd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[12]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Cd.name,type:"if",source:"(49:42) ",ctx:i}),l}function Od(i){let e,t;e=new Le({props:{$$slots:{default:[zd]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Od.name,type:"if",source:"(47:43) ",ctx:i}),l}function Dd(i){let e,t;e=new Le({props:{$$slots:{default:[Xd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[10]),e.$on("confirm",i[11]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16386&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Dd.name,type:"if",source:"(33:52) ",ctx:i}),l}function Fd(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[Gd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[7]),e.$on("confirm",i[8]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Fd.name,type:"if",source:"(20:42) ",ctx:i}),l}function Nd(i){let e,t;e=new Le({props:{$$slots:{default:[qd]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[5]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16385&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Nd.name,type:"if",source:"(12:0) {#if $exitFlow.error}",ctx:i}),l}function Ld(i){let e;const t={c:function(){e=I("...")},l:function(o){e=R(o,"...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ld.name,type:"else",source:"(66:4) {:else}",ctx:i}),t}function jd(i){let e;const t={c:function(){e=I("Connecting...")},l:function(o){e=R(o,"Connecting...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:jd.name,type:"if",source:"(64:46) ",ctx:i}),t}function Vd(i){let e,t,l,o=tt(be.exitDuration,{verbose:!0})+"",n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[Md]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[13]);const u={c:function(){e=E("div"),t=E("p"),l=I(`You'll be able to claim back the stake
          `),n=I(o),r=I(`
          after the tx is mined`),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,`You'll be able to claim back the stake
          `),n=R(g,o),r=R(g,`
          after the tx is mined`),g.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,bn,56,8,2736),h(e,"class","text-center"),v(e,bn,55,6,2702)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(t,n),_(t,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&16384&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:Vd.name,type:"if",source:"(55:4) {#if $exitFlow.step === 'SUCCESS'}",ctx:i}),u}function Md(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Md.name,type:"slot",source:'(62:8) <PanelButton label=\\"OK\\" on:click={() => exitFlow.acknownledgeSuccess()}>',ctx:i}),t}function Wd(i){let e,t,l,o;const n=[Vd,jd,Ld],r=[];function s(c,u){return c[0].step==="SUCCESS"?0:c[0].step==="CONNECTING"?1:2}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Wd.name,type:"slot",source:"(54:2) <Modal>",ctx:i}),a}function Yd(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Yd.name,type:"slot",source:"(50:2) <Modal closeButton={true} globalCloseButton={true} closeOnOutsideClick={false} on:close={() => exitFlow.cancel(true)}>",ctx:i}),t}function zd(i){let e;const t={c:function(){e=I("Preparing the Transaction...")},l:function(o){e=R(o,"Preparing the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:zd.name,type:"slot",source:"(48:2) <Modal>",ctx:i}),t}function Hd(i){let e;const t={c:function(){e=I("Confirm Exit")},l:function(o){e=R(o,"Confirm Exit")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Hd.name,type:"slot",source:'(44:6) <PanelButton class=\\"mt-5\\" label=\\"Exit\\" on:click={() => exitFlow.confirm()}>',ctx:i}),t}function Xd(i){let e,t,l=i[1].stats.stake/1e4+"",o,n,r,s,a=tt(be.exitDuration,{verbose:!0})+"",c,u,f,m,p,g;r=new $t({props:{class:"inline w-4"},$$inline:!0}),p=new ye({props:{class:"mt-5",label:"Exit",$$slots:{default:[Hd]},$$scope:{ctx:i}},$$inline:!0}),p.$on("click",i[9]);const b={c:function(){e=E("p"),t=I("Exiting a planet will allow you to claim the stake back ("),o=I(l),n=L(),U(r.$$.fragment),s=I(`
      for this planet). But be careful, while you are exiting (this takes
      `),c=I(a),u=I(`), you cannot operate with the spaceships and someone else
      might be able to capture the planet before exit complete. Note however that the planet will continue producting
      spaceships for its defense. Upon exit, the number of spaceships will then be zero.`),f=L(),m=E("p"),U(p.$$.fragment),this.h()},l:function(y){e=$(y,"P",{class:!0});var P=k(e);t=R(P,"Exiting a planet will allow you to claim the stake back ("),o=R(P,l),n=j(P),G(r.$$.fragment,P),s=R(P,`
      for this planet). But be careful, while you are exiting (this takes
      `),c=R(P,a),u=R(P,`), you cannot operate with the spaceships and someone else
      might be able to capture the planet before exit complete. Note however that the planet will continue producting
      spaceships for its defense. Upon exit, the number of spaceships will then be zero.`),P.forEach(d),f=j(y),m=$(y,"P",{class:!0});var A=k(m);G(p.$$.fragment,A),A.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,bn,34,4,1615),h(m,"class","text-center"),v(m,bn,42,4,2185)},m:function(y,P){S(y,e,P),_(e,t),_(e,o),_(e,n),K(r,e,null),_(e,s),_(e,c),_(e,u),S(y,f,P),S(y,m,P),K(p,m,null),g=!0},p:function(y,P){(!g||P&2)&&l!==(l=y[1].stats.stake/1e4+"")&&he(o,l);const A={};P&16384&&(A.$$scope={dirty:P,ctx:y}),p.$set(A)},i:function(y){g||(C(r.$$.fragment,y),C(p.$$.fragment,y),g=!0)},o:function(y){D(r.$$.fragment,y),D(p.$$.fragment,y),g=!1},d:function(y){y&&d(e),q(r),y&&d(f),y&&d(m),q(p)}};return B("SvelteRegisterBlock",{block:b,id:Xd.name,type:"slot",source:"(34:2) <Modal on:close={() => exitFlow.cancel()} on:confirm={() => exitFlow.confirm()}>",ctx:i}),b}function Ud(i){let e;const t={c:function(){e=I("Yes")},l:function(o){e=R(o,"Yes")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ud.name,type:"slot",source:'(30:6) <PanelButton label=\\"OK\\" on:click={() => exitFlow.cancel()}>',ctx:i}),t}function Gd(i){let e,t,l,o,n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[Ud]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[6]);const u={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,"Are you sure to cancel ?"),g.forEach(d),o=j(p),n=$(p,"P",{class:!0});var b=k(n);r=R(b,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),b.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,bn,27,6,1206),h(n,"class","pb-4"),v(n,bn,28,6,1257),h(e,"class","text-center"),v(e,bn,26,4,1174)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&16384&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:Gd.name,type:"slot",source:"(21:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => exitFlow.cancelCancelation()}     on:confirm={() => exitFlow.cancel()}   >",ctx:i}),u}function Kd(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Kd.name,type:"slot",source:'(17:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => exitFlow.acknownledgeError()}>',ctx:i}),t}function qd(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[Kd]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[4]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,bn,14,6,744),h(n,"class","text-red-300 mt-2 text-sm"),v(n,bn,15,6,778),h(e,"class","text-center"),v(e,bn,13,4,712)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&16384&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:qd.name,type:"slot",source:"(13:2) <Modal on:close={() => exitFlow.acknownledgeError()}>",ctx:i}),f}function or(i){let e,t,l,o;const n=[Nd,Fd,Dd,Od,Cd,Ad],r=[];function s(c,u){return c[0].error?0:c[0].cancelingConfirmation?1:c[0].step==="WAITING_CONFIRMATION"?2:c[0].step==="CREATING_TX"?3:c[0].step==="WAITING_TX"?4:5}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:or.name,type:"component",source:"",ctx:i}),a}function p1(i,e,t){let l,o;ve(jt,"exitFlow"),ke(i,jt,T=>t(0,o=T));let{$$slots:n={},$$scope:r}=e;He("ExitFlow",n,[]);var s,a;const c=[];Object.keys(e).forEach(T=>{!~c.indexOf(T)&&T.slice(0,2)!=="$$"&&T!=="slot"&&console.warn(`<ExitFlow> was created with unknown prop '${T}'`)});const u=()=>jt.acknownledgeError(),f=()=>jt.acknownledgeError(),m=()=>jt.cancel(),p=()=>jt.cancelCancelation(),g=()=>jt.cancel(),b=()=>jt.confirm(),w=()=>jt.cancel(),y=()=>jt.confirm(),P=()=>jt.cancel(!0),A=()=>jt.acknownledgeSuccess();return i.$capture_state=()=>({_a:s,_b:a,formatError:Et,timeToText:tt,Button:ye,PlayCoin:$t,Modal:Le,PanelButton:ye,exitFlow:jt,spaceInfo:be,planetInfo:l,$exitFlow:o}),i.$inject_state=T=>{"_a"in T&&t(2,s=T._a),"_b"in T&&t(3,a=T._b),"planetInfo"in T&&t(1,l=T.planetInfo)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&13&&t(1,l=be.getPlanetInfo(t(2,s=o.data)===null||s===void 0?void 0:s.location.x,t(3,a=o.data)===null||a===void 0?void 0:a.location.y))},[o,l,s,a,u,f,m,p,g,b,w,y,P,A]}class Qd extends We{constructor(e){super(e);Ye(this,e,p1,or,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"ExitFlow",options:e,id:or.name})}}const fn="src/lib/flows/PlanetTransferFlow.svelte";function Jd(i){let e,t;e=new Le({props:{$$slots:{default:[sm]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Jd.name,type:"else",source:"(61:0) {:else}",ctx:i}),l}function Zd(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[cm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[12]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Zd.name,type:"if",source:"(52:52) ",ctx:i}),l}function xd(i){let e,t;e=new Le({props:{$$slots:{default:[am]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:xd.name,type:"if",source:"(50:53) ",ctx:i}),l}function em(i){let e,t;e=new Le({props:{$$slots:{default:[dm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[11]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32770&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:em.name,type:"if",source:"(34:58) ",ctx:i}),l}function tm(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[pm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[7]),e.$on("confirm",i[8]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:tm.name,type:"if",source:"(21:52) ",ctx:i}),l}function nm(i){let e,t;e=new Le({props:{$$slots:{default:[_m]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[5]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:nm.name,type:"if",source:"(13:0) {#if $planetTransferFlow.error}",ctx:i}),l}function om(i){let e;const t={c:function(){e=I("...")},l:function(o){e=R(o,"...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:om.name,type:"else",source:"(70:4) {:else}",ctx:i}),t}function lm(i){let e;const t={c:function(){e=I("Connecting...")},l:function(o){e=R(o,"Connecting...")},m:function(o,n){S(o,e,n)},p:ae,i:ae,o:ae,d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:lm.name,type:"if",source:"(68:56) ",ctx:i}),t}function im(i){let e,t,l,o,n,r;n=new ye({props:{label:"OK",$$slots:{default:[rm]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[13]);const s={c:function(){e=E("div"),t=E("p"),l=I("Transfer on its way..."),o=L(),U(n.$$.fragment),this.h()},l:function(c){e=$(c,"DIV",{class:!0});var u=k(e);t=$(u,"P",{class:!0});var f=k(t);l=R(f,"Transfer on its way..."),f.forEach(d),o=j(u),G(n.$$.fragment,u),u.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,fn,64,8,2783),h(e,"class","text-center"),v(e,fn,63,6,2749)},m:function(c,u){S(c,e,u),_(e,t),_(t,l),_(e,o),K(n,e,null),r=!0},p:function(c,u){const f={};u&32768&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),q(n)}};return B("SvelteRegisterBlock",{block:s,id:im.name,type:"if",source:"(63:4) {#if $planetTransferFlow.step === 'SUCCESS'}",ctx:i}),s}function rm(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:rm.name,type:"slot",source:'(66:8) <PanelButton label=\\"OK\\" on:click={() => planetTransferFlow.acknownledgeSuccess()}>',ctx:i}),t}function sm(i){let e,t,l,o;const n=[im,lm,om],r=[];function s(c,u){return c[0].step==="SUCCESS"?0:c[0].step==="CONNECTING"?1:2}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:sm.name,type:"slot",source:"(62:2) <Modal>",ctx:i}),a}function cm(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:cm.name,type:"slot",source:"(53:2) <Modal     closeButton={true}     globalCloseButton={true}     closeOnOutsideClick={false}     on:close={() => planetTransferFlow.cancel(true)}   >",ctx:i}),t}function am(i){let e;const t={c:function(){e=I("Preparing the Transaction...")},l:function(o){e=R(o,"Preparing the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:am.name,type:"slot",source:"(51:2) <Modal>",ctx:i}),t}function um(i){let e;const t={c:function(){e=I(`The planet will be transfered and if you are not in an alliance with the new owner for at least 3 days, then a
        tax will be applied to the number of spaceship currently on the planet`)},l:function(o){e=R(o,`The planet will be transfered and if you are not in an alliance with the new owner for at least 3 days, then a
        tax will be applied to the number of spaceship currently on the planet`)},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:um.name,type:"slot",source:'(39:6) <Help class=\\"w-6 h-6\\"         >',ctx:i}),t}function fm(i){let e;const t={c:function(){e=I("Confirm")},l:function(o){e=R(o,"Confirm")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:fm.name,type:"slot",source:'(45:6) <PanelButton class=\\"mt-5\\" label=\\"Transfer\\" on:click={() => planetTransferFlow.confirm(newOwner)}         >',ctx:i}),t}function dm(i){let e,t,l,o,n,r,s,a,c,u,f,m,p;s=new Pt({props:{class:"w-6 h-6",$$slots:{default:[um]},$$scope:{ctx:i}},$$inline:!0}),u=new ye({props:{class:"mt-5",label:"Transfer",$$slots:{default:[fm]},$$scope:{ctx:i}},$$inline:!0}),u.$on("click",i[10]);const g={c:function(){e=E("p"),t=I("Who do you want to transfer to ?"),l=L(),o=E("p"),n=E("input"),r=L(),U(s.$$.fragment),a=L(),c=E("p"),U(u.$$.fragment),this.h()},l:function(w){e=$(w,"P",{class:!0});var y=k(e);t=R(y,"Who do you want to transfer to ?"),y.forEach(d),l=j(w),o=$(w,"P",{});var P=k(o);n=$(P,"INPUT",{class:!0,type:!0,id:!0,name:!0}),r=j(P),G(s.$$.fragment,P),P.forEach(d),a=j(w),c=$(w,"P",{class:!0});var A=k(c);G(u.$$.fragment,A),A.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,fn,35,4,1707),h(n,"class","text-cyan-300 bg-black"),h(n,"type","text"),h(n,"id","newOwner"),h(n,"name","newOwner"),v(n,fn,37,6,1781),v(o,fn,36,4,1771),h(c,"class","text-center"),v(c,fn,43,4,2140)},m:function(w,y){S(w,e,y),_(e,t),S(w,l,y),S(w,o,y),_(o,n),Ft(n,i[1]),_(o,r),K(s,o,null),S(w,a,y),S(w,c,y),K(u,c,null),f=!0,m||(p=Ze(n,"input",i[9]),m=!0)},p:function(w,y){y&2&&n.value!==w[1]&&Ft(n,w[1]);const P={};y&32768&&(P.$$scope={dirty:y,ctx:w}),s.$set(P);const A={};y&32768&&(A.$$scope={dirty:y,ctx:w}),u.$set(A)},i:function(w){f||(C(s.$$.fragment,w),C(u.$$.fragment,w),f=!0)},o:function(w){D(s.$$.fragment,w),D(u.$$.fragment,w),f=!1},d:function(w){w&&d(e),w&&d(l),w&&d(o),q(s),w&&d(a),w&&d(c),q(u),m=!1,p()}};return B("SvelteRegisterBlock",{block:g,id:dm.name,type:"slot",source:"(35:2) <Modal on:close={() => planetTransferFlow.cancel()}>",ctx:i}),g}function mm(i){let e;const t={c:function(){e=I("Yes")},l:function(o){e=R(o,"Yes")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:mm.name,type:"slot",source:'(31:6) <PanelButton label=\\"OK\\" on:click={() => planetTransferFlow.cancel()}>',ctx:i}),t}function pm(i){let e,t,l,o,n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[mm]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[6]);const u={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,"Are you sure to cancel ?"),g.forEach(d),o=j(p),n=$(p,"P",{class:!0});var b=k(n);r=R(b,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),b.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,fn,28,6,1310),h(n,"class","pb-4"),v(n,fn,29,6,1361),h(e,"class","text-center"),v(e,fn,27,4,1278)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&32768&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:pm.name,type:"slot",source:"(22:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => planetTransferFlow.cancelCancelation()}     on:confirm={() => planetTransferFlow.cancel()}   >",ctx:i}),u}function hm(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:hm.name,type:"slot",source:'(18:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => planetTransferFlow.acknownledgeError()}>',ctx:i}),t}function _m(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[hm]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[4]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,fn,15,6,798),h(n,"class","text-red-500 mt-2 text-sm"),v(n,fn,16,6,832),h(e,"class","text-center"),v(e,fn,14,4,766)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&32768&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:_m.name,type:"slot",source:"(14:2) <Modal on:close={() => planetTransferFlow.acknownledgeError()}>",ctx:i}),f}function lr(i){let e,t,l,o;const n=[nm,tm,em,xd,Zd,Jd],r=[];function s(c,u){return c[0].error?0:c[0].cancelingConfirmation?1:c[0].step==="CHOOSE_NEW_OWNER"?2:c[0].step==="CREATING_TX"?3:c[0].step==="WAITING_TX"?4:5}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:lr.name,type:"component",source:"",ctx:i}),a}function h1(i,e,t){let l,o;ve(Wt,"planetTransferFlow"),ke(i,Wt,O=>t(0,o=O));let{$$slots:n={},$$scope:r}=e;He("PlanetTransferFlow",n,[]);var s,a;let c;const u=[];Object.keys(e).forEach(O=>{!~u.indexOf(O)&&O.slice(0,2)!=="$$"&&O!=="slot"&&console.warn(`<PlanetTransferFlow> was created with unknown prop '${O}'`)});const f=()=>Wt.acknownledgeError(),m=()=>Wt.acknownledgeError(),p=()=>Wt.cancel(),g=()=>Wt.cancelCancelation(),b=()=>Wt.cancel();function w(){c=this.value,t(1,c)}const y=()=>Wt.confirm(c),P=()=>Wt.cancel(),A=()=>Wt.cancel(!0),T=()=>Wt.acknownledgeSuccess();return i.$capture_state=()=>({_a:s,_b:a,formatError:Et,Button:ye,Modal:Le,PanelButton:ye,planetTransferFlow:Wt,spaceInfo:be,Help:Pt,newOwner:c,planetInfo:l,$planetTransferFlow:o}),i.$inject_state=O=>{"_a"in O&&t(2,s=O._a),"_b"in O&&t(3,a=O._b),"newOwner"in O&&t(1,c=O.newOwner),"planetInfo"in O&&(l=O.planetInfo)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&13&&(l=be.getPlanetInfo(t(2,s=o.data)===null||s===void 0?void 0:s.location.x,t(3,a=o.data)===null||a===void 0?void 0:a.location.y))},[o,c,s,a,f,m,p,g,b,w,y,P,A,T]}class gm extends We{constructor(e){super(e);Ye(this,e,h1,lr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetTransferFlow",options:e,id:lr.name})}}function ir(i){let e=i[2][i[0]]+"",t;const l={c:function(){t=I(e)},l:function(n){t=R(n,e)},m:function(n,r){S(n,t,r)},p:function(n,[r]){r&5&&e!==(e=n[2][n[0]]+"")&&he(t,e)},i:ae,o:ae,d:function(n){n&&d(t)}};return B("SvelteRegisterBlock",{block:l,id:ir.name,type:"component",source:"",ctx:i}),l}function _1(i,e,t){let l,o,n=ae,r=()=>(n(),n=tn(l,m=>t(2,o=m)),l);i.$$.on_destroy.push(()=>n());let{$$slots:s={},$$scope:a}=e;He("PlanetStateVar",s,[]);let{planet:c}=e,{field:u}=e;const f=["planet","field"];return Object.keys(e).forEach(m=>{!~f.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<PlanetStateVar> was created with unknown prop '${m}'`)}),i.$$set=m=>{"planet"in m&&t(3,c=m.planet),"field"in m&&t(0,u=m.field)},i.$capture_state=()=>({planet:c,field:u,planets:vt,planetState:l,$planetState:o}),i.$inject_state=m=>{"planet"in m&&t(3,c=m.planet),"field"in m&&t(0,u=m.field),"planetState"in m&&r(t(1,l=m.planetState))},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&8&&r(t(1,l=vt.planetStateFor(c)))},[u,l,o,c]}class bm extends We{constructor(e){super(e);Ye(this,e,_1,ir,ze,{planet:3,field:0}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetStateVar",options:e,id:ir.name});const{ctx:t}=this.$$,l=e.props||{};t[3]===void 0&&!("planet"in l)&&console.warn("<PlanetStateVar> was created without expected prop 'planet'"),t[0]===void 0&&!("field"in l)&&console.warn("<PlanetStateVar> was created without expected prop 'field'")}get planet(){throw new Error("<PlanetStateVar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set planet(e){throw new Error("<PlanetStateVar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get field(){throw new Error("<PlanetStateVar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set field(e){throw new Error("<PlanetStateVar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const on="src/lib/components/fleets/FleetRow.svelte";function wm(i){let e=i[0].from.stats.attack+"",t,l,o=i[0].to.stats.defense+"",n;const r={c:function(){t=I(e),l=I(" VS "),n=I(o)},l:function(a){t=R(a,e),l=R(a," VS "),n=R(a,o)},m:function(a,c){S(a,t,c),S(a,l,c),S(a,n,c)},p:function(a,c){c&1&&e!==(e=a[0].from.stats.attack+"")&&he(t,e),c&1&&o!==(o=a[0].to.stats.defense+"")&&he(n,o)},d:function(a){a&&d(t),a&&d(l),a&&d(n)}};return B("SvelteRegisterBlock",{block:r,id:wm.name,type:"else",source:"(22:2) {:else}",ctx:i}),r}function vm(i){let e,t;const l={c:function(){e=E("p"),t=I("gift"),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"gift"),r.forEach(d),this.h()},h:function(){h(e,"class","text-green-500"),v(e,on,20,4,760)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:vm.name,type:"if",source:"(20:3) {#if outcome.gift}",ctx:i}),l}function km(i){let e,t,l,o,n,r="x,y",s,a,c;const u={c:function(){e=E("td"),t=E("button"),l=I("Force"),o=E("span"),n=I(", "),s=I(r),this.h()},l:function(m){e=$(m,"TD",{});var p=k(e);t=$(p,"BUTTON",{class:!0});var g=k(t);l=R(g,"Force"),o=$(g,"SPAN",{class:!0});var b=k(o);n=R(b,", "),s=R(b,r),b.forEach(d),g.forEach(d),p.forEach(d),this.h()},h:function(){h(o,"class","sr-only"),v(o,on,45,12,1850),h(t,"class","border-2 border-red-500 rounded-md p-2 text-orange-600 hover:text-orange-900 hover:border-orange-900"),v(t,on,42,5,1671),v(e,on,41,2,1662)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(t,o),_(o,n),_(o,s),a||(c=Ze(t,"click",i[4],!1,!1,!1),a=!0)},p:ae,d:function(m){m&&d(e),a=!1,c()}};return B("SvelteRegisterBlock",{block:u,id:km.name,type:"if",source:"(41:0) {#if options['forceResolve']}",ctx:i}),u}function rr(i){let e,t,l,o,n,r,s=i[0].quantity+"",a,c,u,f,m,p,g,b,w,y=i[1].min.numSpaceshipsLeft+"",P,A,T,O,F=tt(i[0].timeToResolve)+"",N,Y,H,M,W,X,V,Q="x,y",z,ie,oe,ce,Z,se;l=new gn({props:{location:i[0].from.location.id},$$inline:!0});function ee(Ae,J){return Ae[1].gift?vm:wm}let fe=ee(i),de=fe(i);p=new bm({props:{planet:i[0].to,field:"numSpaceships"},$$inline:!0});let we=dn.forceResolve&&km(i);const Pe={c:function(){e=E("td"),t=I("Origin "),U(l.$$.fragment),n=L(),r=E("td"),a=I(s),c=L(),u=E("td"),de.c(),f=L(),m=E("td"),U(p.$$.fragment),g=L(),b=E("td"),w=E("p"),P=I(y),T=L(),O=E("td"),N=I(F),Y=L(),H=E("td"),M=E("button"),W=I("Resolve"),X=E("span"),V=I(", "),z=I(Q),ie=L(),we&&we.c(),oe=pe(),this.h()},l:function(J){e=$(J,"TD",{class:!0});var le=k(e);t=R(le,"Origin "),G(l.$$.fragment,le),le.forEach(d),n=j(J),r=$(J,"TD",{class:!0});var ge=k(r);a=R(ge,s),ge.forEach(d),c=j(J),u=$(J,"TD",{class:!0});var Ce=k(u);de.l(Ce),Ce.forEach(d),f=j(J),m=$(J,"TD",{class:!0});var Re=k(m);G(p.$$.fragment,Re),Re.forEach(d),g=j(J),b=$(J,"TD",{class:!0});var Te=k(b);w=$(Te,"P",{class:!0});var Me=k(w);P=R(Me,y),Me.forEach(d),Te.forEach(d),T=j(J),O=$(J,"TD",{class:!0});var re=k(O);N=R(re,F),re.forEach(d),Y=j(J),H=$(J,"TD",{class:!0});var Ve=k(H);M=$(Ve,"BUTTON",{class:!0});var je=k(M);W=R(je,"Resolve"),X=$(je,"SPAN",{class:!0});var me=k(X);V=R(me,", "),z=R(me,Q),me.forEach(d),je.forEach(d),Ve.forEach(d),ie=j(J),we&&we.l(J),oe=pe(),this.h()},h:function(){h(e,"class",o=`whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium ${i[1].gift?"text-green-500":"text-red-500"} sm:pl-6`),v(e,on,12,0,394),h(r,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-100"),v(r,on,17,0,588),h(u,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-100"),v(u,on,18,0,672),h(m,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-100"),v(m,on,23,0,869),h(w,"class",A=`${i[1].gift||i[1].min.captured?"text-green-500":"text-red-500"}`),v(w,on,27,2,1064),h(b,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-100"),v(b,on,26,0,999),h(O,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-100"),v(O,on,31,0,1203),h(X,"class","sr-only"),v(X,on,36,12,1572),h(M,"class","border-2 border-orange-500 rounded-md p-2 text-orange-600 hover:text-orange-900 hover:border-orange-900"),v(M,on,33,2,1400),h(H,"class","relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"),v(H,on,32,0,1304)},m:function(J,le){S(J,e,le),_(e,t),K(l,e,null),S(J,n,le),S(J,r,le),_(r,a),S(J,c,le),S(J,u,le),de.m(u,null),S(J,f,le),S(J,m,le),K(p,m,null),S(J,g,le),S(J,b,le),_(b,w),_(w,P),S(J,T,le),S(J,O,le),_(O,N),S(J,Y,le),S(J,H,le),_(H,M),_(M,W),_(M,X),_(X,V),_(X,z),S(J,ie,le),we&&we.m(J,le),S(J,oe,le),ce=!0,Z||(se=Ze(M,"click",i[3],!1,!1,!1),Z=!0)},p:function(J,[le]){const ge={};le&1&&(ge.location=J[0].from.location.id),l.$set(ge),(!ce||le&2&&o!==(o=`whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium ${J[1].gift?"text-green-500":"text-red-500"} sm:pl-6`))&&h(e,"class",o),(!ce||le&1)&&s!==(s=J[0].quantity+"")&&he(a,s),fe===(fe=ee(J))&&de?de.p(J,le):(de.d(1),de=fe(J),de&&(de.c(),de.m(u,null)));const Ce={};le&1&&(Ce.planet=J[0].to),p.$set(Ce),(!ce||le&2)&&y!==(y=J[1].min.numSpaceshipsLeft+"")&&he(P,y),(!ce||le&2&&A!==(A=`${J[1].gift||J[1].min.captured?"text-green-500":"text-red-500"}`))&&h(w,"class",A),(!ce||le&1)&&F!==(F=tt(J[0].timeToResolve)+"")&&he(N,F),dn.forceResolve&&we.p(J,le)},i:function(J){ce||(C(l.$$.fragment,J),C(p.$$.fragment,J),ce=!0)},o:function(J){D(l.$$.fragment,J),D(p.$$.fragment,J),ce=!1},d:function(J){J&&d(e),q(l),J&&d(n),J&&d(r),J&&d(c),J&&d(u),de.d(),J&&d(f),J&&d(m),q(p),J&&d(g),J&&d(b),J&&d(T),J&&d(O),J&&d(Y),J&&d(H),J&&d(ie),we&&we.d(J),J&&d(oe),Z=!1,se()}};return B("SvelteRegisterBlock",{block:Pe,id:rr.name,type:"component",source:"",ctx:i}),Pe}function g1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("FleetRow",l,[]);let{fleet:n}=e,{outcome:r}=e;function s(f,m=!1){Nt.resolve(f,"SHOW_LIST",m)}const a=["fleet","outcome"];Object.keys(e).forEach(f=>{!~a.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<FleetRow> was created with unknown prop '${f}'`)});const c=()=>s(n),u=()=>s(n,!0);return i.$$set=f=>{"fleet"in f&&t(0,n=f.fleet),"outcome"in f&&t(1,r=f.outcome)},i.$capture_state=()=>({timeToText:tt,PlanetStateVar:bm,Coord:gn,resolveFlow:Nt,options:dn,fleet:n,outcome:r,resolve:s}),i.$inject_state=f=>{"fleet"in f&&t(0,n=f.fleet),"outcome"in f&&t(1,r=f.outcome)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,s,c,u]}class ym extends We{constructor(e){super(e);Ye(this,e,g1,rr,ze,{fleet:0,outcome:1}),B("SvelteRegisterComponent",{component:this,tagName:"FleetRow",options:e,id:rr.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("fleet"in l)&&console.warn("<FleetRow> was created without expected prop 'fleet'"),t[1]===void 0&&!("outcome"in l)&&console.warn("<FleetRow> was created without expected prop 'outcome'")}get fleet(){throw new Error("<FleetRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fleet(e){throw new Error("<FleetRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get outcome(){throw new Error("<FleetRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set outcome(e){throw new Error("<FleetRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const _t="src/lib/flows/PendingResolutions.svelte";function Sm(i,e,t){const l=i.slice();return l[5]=e[t],l}function Em(i,e,t){const l=i.slice();return l[8]=e[t],l}function sr(i){let e,t=new Date(i[5].arrivalTimeWanted*1e3).toLocaleString()+"",l,o;const n={c:function(){e=I("(Arrival: "),l=I(t),o=I(")")},l:function(s){e=R(s,"(Arrival: "),l=R(s,t),o=R(s,")")},m:function(s,a){S(s,e,a),S(s,l,a),S(s,o,a)},p:function(s,a){a&1&&t!==(t=new Date(s[5].arrivalTimeWanted*1e3).toLocaleString()+"")&&he(l,t)},d:function(s){s&&d(e),s&&d(l),s&&d(o)}};return B("SvelteRegisterBlock",{block:n,id:sr.name,type:"if",source:"(123:22) {#if group.arrivalTimeWanted > 0}",ctx:i}),n}function cr(i){let e,t,l,o;t=new ym({props:{fleet:i[8],outcome:i[2](i[8])},$$inline:!0});const n={c:function(){e=E("tr"),U(t.$$.fragment),l=L(),this.h()},l:function(s){e=$(s,"TR",{class:!0});var a=k(e);G(t.$$.fragment,a),l=j(a),a.forEach(d),this.h()},h:function(){h(e,"class","border-t border-gray-700"),v(e,_t,129,20,5984)},m:function(s,a){S(s,e,a),K(t,e,null),_(e,l),o=!0},p:function(s,a){const c={};a&1&&(c.fleet=s[8]),a&1&&(c.outcome=s[2](s[8])),t.$set(c)},i:function(s){o||(C(t.$$.fragment,s),o=!0)},o:function(s){D(t.$$.fragment,s),o=!1},d:function(s){s&&d(e),q(t)}};return B("SvelteRegisterBlock",{block:n,id:cr.name,type:"each",source:"(129:18) {#each group.fleets as fleet}",ctx:i}),n}function ar(i){let e,t,l,o,n,r,s,a;o=new gn({props:{location:i[5].destination.location.id},$$inline:!0});let c=i[5].arrivalTimeWanted>0&&sr(i),u=i[5].fleets;mt(u);let f=[];for(let g=0;g<u.length;g+=1)f[g]=cr(Em(i,u,g));const m=g=>D(f[g],1,1,()=>{f[g]=null}),p={c:function(){e=E("tr"),t=E("th"),l=I("Destination: "),U(o.$$.fragment),n=L(),c&&c.c(),r=L();for(let b=0;b<f.length;b+=1)f[b].c();s=pe(),this.h()},l:function(b){e=$(b,"TR",{class:!0});var w=k(e);t=$(w,"TH",{colspan:!0,scope:!0,class:!0});var y=k(t);l=R(y,"Destination: "),G(o.$$.fragment,y),n=j(y),c&&c.l(y),y.forEach(d),w.forEach(d),r=j(b);for(let P=0;P<f.length;P+=1)f[P].l(b);s=pe(),this.h()},h:function(){h(t,"colspan","7"),h(t,"scope","colgroup"),h(t,"class","bg-gray-950 px-4 py-2 text-left text-sm font-semibold text-gray-100 sm:px-6"),v(t,_t,117,20,5416),h(e,"class","border-t border-gray-200"),v(e,_t,116,18,5358)},m:function(b,w){S(b,e,w),_(e,t),_(t,l),K(o,t,null),_(t,n),c&&c.m(t,null),S(b,r,w);for(let y=0;y<f.length;y+=1)f[y].m(b,w);S(b,s,w),a=!0},p:function(b,w){const y={};if(w&1&&(y.location=b[5].destination.location.id),o.$set(y),b[5].arrivalTimeWanted>0?c?c.p(b,w):(c=sr(b),c.c(),c.m(t,null)):c&&(c.d(1),c=null),w&5){u=b[5].fleets,mt(u);let P;for(P=0;P<u.length;P+=1){const A=Em(b,u,P);f[P]?(f[P].p(A,w),C(f[P],1)):(f[P]=cr(A),f[P].c(),C(f[P],1),f[P].m(s.parentNode,s))}for(Ee(),P=u.length;P<f.length;P+=1)m(P);$e()}},i:function(b){if(!a){C(o.$$.fragment,b);for(let w=0;w<u.length;w+=1)C(f[w]);a=!0}},o:function(b){D(o.$$.fragment,b),f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)D(f[w]);a=!1},d:function(b){b&&d(e),q(o),c&&c.d(),b&&d(r),Kt(f,b),b&&d(s)}};return B("SvelteRegisterBlock",{block:p,id:ar.name,type:"each",source:"(116:16) {#each fleetsGroups as group}",ctx:i}),p}function ur(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W,X,V,Q,z,ie,oe,ce,Z,se,ee,fe,de,we,Pe,Ae,J,le,ge,Ce,Re,Te,Me,re,Ve,je,me,x=i[0];mt(x);let ue=[];for(let _e=0;_e<x.length;_e+=1)ue[_e]=ar(Sm(i,x,_e));const Ke=_e=>D(ue[_e],1,1,()=>{ue[_e]=null}),at={c:function(){e=E("div"),t=E("div"),l=L(),o=E("div"),n=E("div"),r=Fe("svg"),s=Fe("path"),a=L(),c=E("span"),u=I("(Esc)"),f=L(),m=E("div"),p=E("div"),g=E("div"),b=E("h1"),w=I("Pending Resolutions"),y=L(),P=E("p"),A=I("A list of Fleets that need to be resolved!"),T=L(),O=E("div"),F=E("div"),N=E("div"),Y=E("div"),H=E("table"),M=E("thead"),W=E("tr"),X=E("th"),V=I("Destination/Origin"),Q=L(),z=E("th"),ie=I("Quantity"),oe=L(),ce=E("th"),Z=I("Power"),se=L(),ee=E("th"),fe=I("On Planet"),de=L(),we=E("th"),Pe=I("Outcome"),Ae=L(),J=E("th"),le=I("Time Left"),ge=L(),Ce=E("th"),Re=E("span"),Te=I("Action"),Me=L(),re=E("tbody");for(let Se=0;Se<ue.length;Se+=1)ue[Se].c();this.h()},l:function(Se){e=$(Se,"DIV",{class:!0});var Oe=k(e);t=$(Oe,"DIV",{class:!0}),k(t).forEach(d),l=j(Oe),o=$(Oe,"DIV",{class:!0});var De=k(o);n=$(De,"DIV",{class:!0});var Ue=k(n);r=Ne(Ue,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var it=k(r);s=Ne(it,"path",{d:!0}),k(s).forEach(d),it.forEach(d),a=j(Ue),c=$(Ue,"SPAN",{class:!0});var rt=k(c);u=R(rt,"(Esc)"),rt.forEach(d),Ue.forEach(d),f=j(De),m=$(De,"DIV",{class:!0});var Qe=k(m);p=$(Qe,"DIV",{class:!0});var ut=k(p);g=$(ut,"DIV",{class:!0});var st=k(g);b=$(st,"H1",{class:!0});var ft=k(b);w=R(ft,"Pending Resolutions"),ft.forEach(d),y=j(st),P=$(st,"P",{class:!0});var lt=k(P);A=R(lt,"A list of Fleets that need to be resolved!"),lt.forEach(d),st.forEach(d),ut.forEach(d),Qe.forEach(d),T=j(De),O=$(De,"DIV",{class:!0});var qe=k(O);F=$(qe,"DIV",{class:!0});var Ge=k(F);N=$(Ge,"DIV",{class:!0});var gt=k(N);Y=$(gt,"DIV",{class:!0});var bt=k(Y);H=$(bt,"TABLE",{class:!0});var nt=k(H);M=$(nt,"THEAD",{class:!0});var te=k(M);W=$(te,"TR",{});var Be=k(W);X=$(Be,"TH",{scope:!0,class:!0});var Tt=k(X);V=R(Tt,"Destination/Origin"),Tt.forEach(d),Q=j(Be),z=$(Be,"TH",{scope:!0,class:!0});var dt=k(z);ie=R(dt,"Quantity"),dt.forEach(d),oe=j(Be),ce=$(Be,"TH",{scope:!0,class:!0});var yt=k(ce);Z=R(yt,"Power"),yt.forEach(d),se=j(Be),ee=$(Be,"TH",{scope:!0,class:!0});var At=k(ee);fe=R(At,"On Planet"),At.forEach(d),de=j(Be),we=$(Be,"TH",{scope:!0,class:!0});var Dt=k(we);Pe=R(Dt,"Outcome"),Dt.forEach(d),Ae=j(Be),J=$(Be,"TH",{scope:!0,class:!0});var It=k(J);le=R(It,"Time Left"),It.forEach(d),ge=j(Be),Ce=$(Be,"TH",{scope:!0,class:!0});var Ut=k(Ce);Re=$(Ut,"SPAN",{class:!0});var Gt=k(Re);Te=R(Gt,"Action"),Gt.forEach(d),Ut.forEach(d),Be.forEach(d),te.forEach(d),Me=j(nt),re=$(nt,"TBODY",{class:!0});var sn=k(re);for(let xt=0;xt<ue.length;xt+=1)ue[xt].l(sn);sn.forEach(d),nt.forEach(d),bt.forEach(d),gt.forEach(d),Ge.forEach(d),qe.forEach(d),De.forEach(d),Oe.forEach(d),this.h()},h:function(){h(t,"class","absolute w-full h-full bg-gray-900 opacity-80"),v(t,_t,56,2,2326),h(s,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),v(s,_t,71,8,2831),h(r,"class","fill-current text-white"),h(r,"xmlns","http://www.w3.org/2000/svg"),h(r,"width","18"),h(r,"height","18"),h(r,"viewBox","0 0 18 18"),v(r,_t,64,6,2660),h(c,"class","text-sm"),v(c,_t,75,6,2996),h(n,"class","modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-sm"),v(n,_t,60,4,2511),h(b,"class","text-xl font-semibold text-gray-100 py-2 underline"),v(b,_t,81,10,3171),h(P,"class","mt-2 text-sm text-gray-300"),v(P,_t,82,10,3269),h(g,"class","sm:flex-auto"),v(g,_t,80,8,3134),h(p,"class","sm:flex sm:items-center"),v(p,_t,79,6,3088),h(m,"class","px-4 sm:px-6 lg:px-8"),v(m,_t,78,4,3047),h(X,"scope","col"),h(X,"class","py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-100 sm:pl-6"),v(X,_t,100,18,4204),h(z,"scope","col"),h(z,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-100"),v(z,_t,103,18,4381),h(ce,"scope","col"),h(ce,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-100"),v(ce,_t,104,18,4495),h(ee,"scope","col"),h(ee,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-100"),v(ee,_t,105,18,4606),h(we,"scope","col"),h(we,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-100"),v(we,_t,106,18,4721),h(J,"scope","col"),h(J,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-100"),v(J,_t,107,18,4834),h(Re,"class","sr-only"),v(Re,_t,110,20,5150),h(Ce,"scope","col"),h(Ce,"class","relative py-3.5 pl-3 pr-4 sm:pr-6"),v(Ce,_t,109,18,5071),v(W,_t,99,16,4181),h(M,"class","bg-black"),v(M,_t,98,14,4140),h(re,"class","bg-black"),v(re,_t,114,14,5269),h(H,"class","min-w-full"),v(H,_t,97,12,4099),h(Y,"class","shadow ring-1 ring-white ring-opacity-5 md:rounded-lg"),v(Y,_t,96,10,4019),h(N,"class","inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"),v(N,_t,95,8,3937),h(F,"class","-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"),v(F,_t,94,6,3869),h(O,"class","mt-8 flex flex-col h-5/6 w-full pl-4 pr-12"),v(O,_t,93,4,3806),h(o,"class","absolute border-2 w-11/12 h-5/6 bg-gray-900 max-h-screen text-red-300 border-red-500"),v(o,_t,59,2,2406),h(e,"class","z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),v(e,_t,54,0,2205)},m:function(Se,Oe){S(Se,e,Oe),_(e,t),_(e,l),_(e,o),_(o,n),_(n,r),_(r,s),_(n,a),_(n,c),_(c,u),_(o,f),_(o,m),_(m,p),_(p,g),_(g,b),_(b,w),_(g,y),_(g,P),_(P,A),_(o,T),_(o,O),_(O,F),_(F,N),_(N,Y),_(Y,H),_(H,M),_(M,W),_(W,X),_(X,V),_(W,Q),_(W,z),_(z,ie),_(W,oe),_(W,ce),_(ce,Z),_(W,se),_(W,ee),_(ee,fe),_(W,de),_(W,we),_(we,Pe),_(W,Ae),_(W,J),_(J,le),_(W,ge),_(W,Ce),_(Ce,Re),_(Re,Te),_(H,Me),_(H,re);for(let De=0;De<ue.length;De+=1)ue[De].m(re,null);Ve=!0,je||(me=Ze(n,"click",i[1],!1,!1,!1),je=!0)},p:function(Se,[Oe]){if(Oe&5){x=Se[0],mt(x);let De;for(De=0;De<x.length;De+=1){const Ue=Sm(Se,x,De);ue[De]?(ue[De].p(Ue,Oe),C(ue[De],1)):(ue[De]=ar(Ue),ue[De].c(),C(ue[De],1),ue[De].m(re,null))}for(Ee(),De=x.length;De<ue.length;De+=1)Ke(De);$e()}},i:function(Se){if(!Ve){for(let Oe=0;Oe<x.length;Oe+=1)C(ue[Oe]);Ve=!0}},o:function(Se){ue=ue.filter(Boolean);for(let Oe=0;Oe<ue.length;Oe+=1)D(ue[Oe]);Ve=!1},d:function(Se){Se&&d(e),Kt(ue,Se),je=!1,me()}};return B("SvelteRegisterBlock",{block:at,id:ur.name,type:"component",source:"",ctx:i}),at}function b1(i,e,t){let l;ve(Yt,"fleetList"),ke(i,Yt,f=>t(3,l=f));let{$$slots:o={},$$scope:n}=e;He("PendingResolutions",o,[]);function r(){Nt.showList()}let s=[];function a(){Nt.cancel()}function c(f){const m=rs(vt.planetStateFor(f.to)),p=nn.getPlayer(f.fleetSender),g=nn.getPlayer(f.owner),b=nn.getPlayer(m.owner);return be.outcome(f.from,f.to,m,f.quantity,f.timeLeft,p,g,b,f.gift,f.specific)}const u=[];return Object.keys(e).forEach(f=>{!~u.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<PendingResolutions> was created with unknown prop '${f}'`)}),i.$capture_state=()=>({fleetList:Yt,resolveFlow:Nt,Coord:gn,planets:vt,get:rs,spaceInfo:be,playersQuery:nn,FleetRow:ym,options:dn,showResolutions:r,fleetsGroups:s,close:a,outcomeFor:c,$fleetList:l}),i.$inject_state=f=>{"fleetsGroups"in f&&t(0,s=f.fleetsGroups)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{if(i.$$.dirty&9){t(0,s=[]);const f={};for(const m of l.fleets.sort((p,g)=>p.timeToResolve-g.timeToResolve))if(m.state==="READY_TO_RESOLVE"||dn.showAllFleets){const p=`${m.to.location.x},${m.to.location.y}:${m.arrivalTimeWanted}`,g=f[p];if(g)g.fleets.push(m);else{const b={destination:m.to,arrivalTimeWanted:m.arrivalTimeWanted,fleets:[m]};f[p]=b,s.push(b)}}}},[s,a,c,l]}class $m extends We{constructor(e){super(e);Ye(this,e,b1,ur,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"PendingResolutions",options:e,id:ur.name})}}const Rn="src/lib/flows/ResolveFlow.svelte";function Pm(i){let e,t;e=new Le({props:{$$slots:{default:[Dm]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Pm.name,type:"else",source:"(50:0) {:else}",ctx:i}),l}function Bm(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,closeOnOutsideClick:!1,$$slots:{default:[Fm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[7]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Bm.name,type:"if",source:"(43:45) ",ctx:i}),l}function Im(i){let e,t;e=new $m({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Im.name,type:"if",source:"(41:44) ",ctx:i}),l}function Rm(i){let e,t;e=new Le({props:{$$slots:{default:[Nm]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Rm.name,type:"if",source:"(39:46) ",ctx:i}),l}function Tm(i){let e,t;e=new Le({props:{$$slots:{default:[Lm]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Tm.name,type:"if",source:"(37:45) ",ctx:i}),l}function Am(i){let e,t;e=new Le({props:{$$slots:{default:[Vm]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Am.name,type:"if",source:"(30:42) ",ctx:i}),l}function Cm(i){let e,t;e=new Le({props:{closeButton:!0,globalCloseButton:!0,$$slots:{default:[Wm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[4]),e.$on("confirm",i[5]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Cm.name,type:"if",source:"(17:45) ",ctx:i}),l}function Om(i){let e,t;e=new Le({props:{$$slots:{default:[zm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[2]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&257&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Om.name,type:"if",source:"(9:0) {#if $resolveFlow.error}",ctx:i}),l}function Dm(i){let e;const t={c:function(){e=I("...")},l:function(o){e=R(o,"...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Dm.name,type:"slot",source:"(50:7) <Modal>",ctx:i}),t}function Fm(i){let e;const t={c:function(){e=I("Please Accept the Transaction...")},l:function(o){e=R(o,"Please Accept the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Fm.name,type:"slot",source:"(44:2) <Modal     closeButton={true}     globalCloseButton={true}     closeOnOutsideClick={false}     on:close={() => resolveFlow.cancel(true)}>",ctx:i}),t}function Nm(i){let e;const t={c:function(){e=I("Preparing the Transaction...")},l:function(o){e=R(o,"Preparing the Transaction...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Nm.name,type:"slot",source:"(40:2) <Modal>",ctx:i}),t}function Lm(i){let e;const t={c:function(){e=I("Connecting...")},l:function(o){e=R(o,"Connecting...")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Lm.name,type:"slot",source:"(38:2) <Modal>",ctx:i}),t}function jm(i){let e;const t={c:function(){e=I("OK")},l:function(o){e=R(o,"OK")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:jm.name,type:"slot",source:'(34:6) <PanelButton label=\\"OK\\" on:click={() => resolveFlow.acknownledgeSuccess()}>',ctx:i}),t}function Vm(i){let e,t,l,o,n,r;n=new ye({props:{label:"OK",$$slots:{default:[jm]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[6]);const s={c:function(){e=E("div"),t=E("p"),l=I("The fleet will resolve if mined in time"),o=L(),U(n.$$.fragment),this.h()},l:function(c){e=$(c,"DIV",{class:!0});var u=k(e);t=$(u,"P",{class:!0});var f=k(t);l=R(f,"The fleet will resolve if mined in time"),f.forEach(d),o=j(u),G(n.$$.fragment,u),u.forEach(d),this.h()},h:function(){h(t,"class","mb-4"),v(t,Rn,32,6,1330),h(e,"class","text-center"),v(e,Rn,31,4,1298)},m:function(c,u){S(c,e,u),_(e,t),_(t,l),_(e,o),K(n,e,null),r=!0},p:function(c,u){const f={};u&256&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),q(n)}};return B("SvelteRegisterBlock",{block:s,id:Vm.name,type:"slot",source:"(31:2) <Modal>",ctx:i}),s}function Mm(i){let e;const t={c:function(){e=I("Yes")},l:function(o){e=R(o,"Yes")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Mm.name,type:"slot",source:'(27:6) <PanelButton label=\\"OK\\" on:click={() => resolveFlow.cancel()}>',ctx:i}),t}function Wm(i){let e,t,l,o,n,r,s,a,c;a=new ye({props:{label:"OK",$$slots:{default:[Mm]},$$scope:{ctx:i}},$$inline:!0}),a.$on("click",i[3]);const u={c:function(){e=E("div"),t=E("p"),l=I("Are you sure to cancel ?"),o=L(),n=E("p"),r=I("(This will prevent the game to record your transaction, if you were to execute it afterward)"),s=L(),U(a.$$.fragment),this.h()},l:function(m){e=$(m,"DIV",{class:!0});var p=k(e);t=$(p,"P",{class:!0});var g=k(t);l=R(g,"Are you sure to cancel ?"),g.forEach(d),o=j(p),n=$(p,"P",{class:!0});var b=k(n);r=R(b,"(This will prevent the game to record your transaction, if you were to execute it afterward)"),b.forEach(d),s=j(p),G(a.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(t,"class","pb-4"),v(t,Rn,24,6,969),h(n,"class","pb-4"),v(n,Rn,25,6,1020),h(e,"class","text-center"),v(e,Rn,23,4,937)},m:function(m,p){S(m,e,p),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(e,s),K(a,e,null),c=!0},p:function(m,p){const g={};p&256&&(g.$$scope={dirty:p,ctx:m}),a.$set(g)},i:function(m){c||(C(a.$$.fragment,m),c=!0)},o:function(m){D(a.$$.fragment,m),c=!1},d:function(m){m&&d(e),q(a)}};return B("SvelteRegisterBlock",{block:u,id:Wm.name,type:"slot",source:"(18:2) <Modal     closeButton={true}     globalCloseButton={true}     on:close={() => resolveFlow.cancelCancelation()}     on:confirm={() => resolveFlow.cancel()}   >",ctx:i}),u}function Ym(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Ym.name,type:"slot",source:'(14:6) <Button class=\\"mt-5\\" label=\\"Stake\\" on:click={() => resolveFlow.acknownledgeError()}>',ctx:i}),t}function zm(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[Ym]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[1]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,Rn,11,6,492),h(n,"class","text-red-500 mt-2 text-sm"),v(n,Rn,12,6,526),h(e,"class","text-center"),v(e,Rn,10,4,460)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&256&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:zm.name,type:"slot",source:"(10:2) <Modal on:close={() => resolveFlow.acknownledgeError()}>",ctx:i}),f}function fr(i){let e,t,l,o;const n=[Om,Cm,Am,Tm,Rm,Im,Bm,Pm],r=[];function s(c,u){return c[0].error?0:c[0].cancelingConfirmation?1:c[0].step==="SUCCESS"?2:c[0].step==="CONNECTING"?3:c[0].step==="CREATING_TX"?4:c[0].step==="SHOW_LIST"?5:c[0].step==="WAITING_TX"?6:7}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:fr.name,type:"component",source:"",ctx:i}),a}function w1(i,e,t){let l;ve(Nt,"resolveFlow"),ke(i,Nt,g=>t(0,l=g));let{$$slots:o={},$$scope:n}=e;He("ResolveFlow",o,[]);const r=[];Object.keys(e).forEach(g=>{!~r.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<ResolveFlow> was created with unknown prop '${g}'`)});const s=()=>Nt.acknownledgeError(),a=()=>Nt.acknownledgeError(),c=()=>Nt.cancel(),u=()=>Nt.cancelCancelation(),f=()=>Nt.cancel(),m=()=>Nt.acknownledgeSuccess(),p=()=>Nt.cancel(!0);return i.$capture_state=()=>({Modal:Le,Button:ye,PanelButton:ye,resolveFlow:Nt,formatError:Et,PendingResolutions:$m,$resolveFlow:l}),[l,s,a,c,u,f,m,p]}class Hm extends We{constructor(e){super(e);Ye(this,e,w1,fr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"ResolveFlow",options:e,id:fr.name})}}const lo="src/lib/components/fleets/FleetsToResolve.svelte";function dr(i){let e,t,l,o,n,r,s,a,c=tt(i[2])+"",u,f,m,p,g,b,w;p=new ye({props:{class:"m-1",label:"Resolve Fleet",$$slots:{default:[Xm]},$$scope:{ctx:i}},$$inline:!0}),p.$on("click",i[4]);const y={c:function(){e=E("div"),t=E("h2"),l=I("Fleets to Resolve"),o=L(),n=E("div"),r=L(),s=E("div"),a=E("p"),u=I(c),f=I(`
        left`),m=L(),U(p.$$.fragment),g=L(),b=E("div"),this.h()},l:function(A){e=$(A,"DIV",{class:!0});var T=k(e);t=$(T,"H2",{class:!0});var O=k(t);l=R(O,"Fleets to Resolve"),O.forEach(d),o=j(T),n=$(T,"DIV",{class:!0}),k(n).forEach(d),r=j(T),s=$(T,"DIV",{class:!0});var F=k(s);a=$(F,"P",{class:!0});var N=k(a);u=R(N,c),f=R(N,`
        left`),N.forEach(d),m=j(F),G(p.$$.fragment,F),F.forEach(d),g=j(T),b=$(T,"DIV",{class:!0}),k(b).forEach(d),T.forEach(d),this.h()},h:function(){h(t,"class","p-1"),v(t,lo,17,4,758),h(n,"class","w-full h-1 bg-red-600 mt-1 mb-2 "),v(n,lo,18,4,801),h(a,"class","m-2"),v(a,lo,24,6,1156),h(s,"class","overflow-auto max-h-48 flex flex-col text-center"),v(s,lo,19,4,854),h(b,"class","w-full mt-1"),v(b,lo,32,4,1393),h(e,"class","border-2 border-red-600 mt-3 mr-1 text-center text-cyan-300 "),v(e,lo,16,2,679)},m:function(A,T){S(A,e,T),_(e,t),_(t,l),_(e,o),_(e,n),_(e,r),_(e,s),_(s,a),_(a,u),_(a,f),_(s,m),K(p,s,null),_(e,g),_(e,b),w=!0},p:function(A,T){(!w||T&4)&&c!==(c=tt(A[2])+"")&&he(u,c);const O={};T&32&&(O.$$scope={dirty:T,ctx:A}),p.$set(O)},i:function(A){w||(C(p.$$.fragment,A),w=!0)},o:function(A){D(p.$$.fragment,A),w=!1},d:function(A){A&&d(e),q(p)}};return B("SvelteRegisterBlock",{block:y,id:dr.name,type:"if",source:"(16:0) {#if (options['showAllFleets'] && $fleetList.fleets.length > 0) || fleetsToResolve.length > 0}",ctx:i}),y}function Xm(i){let e;const t={c:function(){e=I("SHOW LIST")},l:function(o){e=R(o,"SHOW LIST")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Xm.name,type:"slot",source:'(29:6) <PanelButton class=\\"m-1\\" label=\\"Resolve Fleet\\" on:click={() => showResolutions()}>',ctx:i}),t}function mr(i){let e,t,l=(dn.showAllFleets&&i[1].fleets.length>0||i[0].length>0)&&dr(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,[s]){dn.showAllFleets&&r[1].fleets.length>0||r[0].length>0?l?(l.p(r,s),s&3&&C(l,1)):(l=dr(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:mr.name,type:"component",source:"",ctx:i}),o}function v1(i,e,t){let l,o,n;ve(Yt,"fleetList"),ke(i,Yt,f=>t(1,n=f));let{$$slots:r={},$$scope:s}=e;He("FleetsToResolve",r,[]);function a(){Nt.showList()}const c=[];Object.keys(e).forEach(f=>{!~c.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<FleetsToResolve> was created with unknown prop '${f}'`)});const u=()=>a();return i.$capture_state=()=>({fleetList:Yt,resolveFlow:Nt,PanelButton:ye,timeToText:tt,options:dn,showResolutions:a,fleetsToResolve:l,min:o,$fleetList:n}),i.$inject_state=f=>{"fleetsToResolve"in f&&t(0,l=f.fleetsToResolve),"min"in f&&t(2,o=f.min)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&2&&t(0,l=n.fleets.filter(f=>f.state==="READY_TO_RESOLVE")),i.$$.dirty&1&&t(2,o=l.reduce((f,m)=>Math.min(f,m.timeToResolve),2**32))},[l,n,o,a,u]}class Um extends We{constructor(e){super(e);Ye(this,e,v1,mr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"FleetsToResolve",options:e,id:mr.name})}}const Tn="src/lib/flows/ShowPlanetDeparturesFlow.svelte";function Gm(i,e,t){const l=i.slice();return l[7]=e[t],l}function Km(i){let e,t;e=new Le({props:{$$slots:{default:[xm]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[5]),e.$on("confirm",i[6]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&1025&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Km.name,type:"if",source:"(22:49) ",ctx:i}),l}function qm(i){let e,t;e=new Le({props:{$$slots:{default:[ep]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[3]),e.$on("confirm",i[4]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:qm.name,type:"if",source:"(18:51) ",ctx:i}),l}function Qm(i){let e,t;e=new Le({props:{$$slots:{default:[np]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[2]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&1025&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Qm.name,type:"if",source:"(10:0) {#if $showPlanetDepartures.error}",ctx:i}),l}function Jm(i){let e,t,l=i[0].departures;mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=pr(Gm(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,c){if(c&1){l=a[0].departures,mt(l);let u;for(u=0;u<l.length;u+=1){const f=Gm(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=pr(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Jm.name,type:"else",source:"(28:4) {:else}",ctx:i}),r}function Zm(i){let e,t,l,o,n;const r={c:function(){e=E("p"),t=I("No fleets currently in transit from this planet."),l=L(),o=E("p"),n=I("(not counting yours)"),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"No fleets currently in transit from this planet."),c.forEach(d),l=j(a),o=$(a,"P",{class:!0});var u=k(o);n=R(u,"(not counting yours)"),u.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,Tn,24,6,1291),h(o,"class","text-center"),v(o,Tn,25,6,1373)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),S(a,o,c),_(o,n)},p:ae,i:ae,o:ae,d:function(a){a&&d(e),a&&d(l),a&&d(o)}};return B("SvelteRegisterBlock",{block:r,id:Zm.name,type:"if",source:"(24:4) {#if !$showPlanetDepartures.departures || $showPlanetDepartures.departures.length === 0}",ctx:i}),r}function pr(i){let e,t,l,o,n=i[7].amount+"",r,s,a=tt(Zt()-i[7].timestamp)+"",c,u,f,m;l=new mn({props:{class:"w-6 h-6 inline my-1/2 mr-2",address:i[7].owner},$$inline:!0});const p={c:function(){e=E("ul"),t=E("li"),U(l.$$.fragment),o=I(`
            sent
            `),r=I(n),s=I(`
            spaceships
            `),c=I(a),u=I(`
            ago`),f=L(),this.h()},l:function(b){e=$(b,"UL",{});var w=k(e);t=$(w,"LI",{});var y=k(t);G(l.$$.fragment,y),o=R(y,`
            sent
            `),r=R(y,n),s=R(y,`
            spaceships
            `),c=R(y,a),u=R(y,`
            ago`),y.forEach(d),f=j(w),w.forEach(d),this.h()},h:function(){v(t,Tn,30,10,1570),v(e,Tn,29,8,1555)},m:function(b,w){S(b,e,w),_(e,t),K(l,t,null),_(t,o),_(t,r),_(t,s),_(t,c),_(t,u),_(e,f),m=!0},p:function(b,w){const y={};w&1&&(y.address=b[7].owner),l.$set(y),(!m||w&1)&&n!==(n=b[7].amount+"")&&he(r,n),(!m||w&1)&&a!==(a=tt(Zt()-b[7].timestamp)+"")&&he(c,a)},i:function(b){m||(C(l.$$.fragment,b),m=!0)},o:function(b){D(l.$$.fragment,b),m=!1},d:function(b){b&&d(e),q(l)}};return B("SvelteRegisterBlock",{block:p,id:pr.name,type:"each",source:"(29:6) {#each $showPlanetDepartures.departures as departure}",ctx:i}),p}function xm(i){let e,t,l,o;const n=[Zm,Jm],r=[];function s(c,u){return!c[0].departures||c[0].departures.length===0?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:xm.name,type:"slot",source:"(23:2) <Modal on:close={() => showPlanetDepartures.cancel()} on:confirm={() => showPlanetDepartures.cancel()}>",ctx:i}),a}function ep(i){let e,t;const l={c:function(){e=E("p"),t=I("Please wait while we load the events..."),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"Please wait while we load the events..."),r.forEach(d),this.h()},h:function(){h(e,"class","text-center"),v(e,Tn,19,4,958)},m:function(n,r){S(n,e,r),_(e,t)},d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:ep.name,type:"slot",source:"(19:2) <Modal on:close={() => showPlanetDepartures.cancel()} on:confirm={() => showPlanetDepartures.cancel()}>",ctx:i}),l}function tp(i){let e;const t={c:function(){e=I("Ok")},l:function(o){e=R(o,"Ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:tp.name,type:"slot",source:'(15:6) <PanelButton class=\\"mt-5\\" label=\\"Stake\\" on:click={() => showPlanetDepartures.acknownledgeError()}>',ctx:i}),t}function np(i){let e,t,l,o,n,r=Et(i[0].error)+"",s,a,c,u;c=new ye({props:{class:"mt-5",label:"Stake",$$slots:{default:[tp]},$$scope:{ctx:i}},$$inline:!0}),c.$on("click",i[1]);const f={c:function(){e=E("div"),t=E("h2"),l=I("An error happenned"),o=L(),n=E("p"),s=I(r),a=L(),U(c.$$.fragment),this.h()},l:function(p){e=$(p,"DIV",{class:!0});var g=k(e);t=$(g,"H2",{});var b=k(t);l=R(b,"An error happenned"),b.forEach(d),o=j(g),n=$(g,"P",{class:!0});var w=k(n);s=R(w,r),w.forEach(d),a=j(g),G(c.$$.fragment,g),g.forEach(d),this.h()},h:function(){v(t,Tn,12,6,534),h(n,"class","text-gray-300 mt-2 text-sm"),v(n,Tn,13,6,568),h(e,"class","text-center"),v(e,Tn,11,4,502)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(e,o),_(e,n),_(n,s),_(e,a),K(c,e,null),u=!0},p:function(p,g){(!u||g&1)&&r!==(r=Et(p[0].error)+"")&&he(s,r);const b={};g&1024&&(b.$$scope={dirty:g,ctx:p}),c.$set(b)},i:function(p){u||(C(c.$$.fragment,p),u=!0)},o:function(p){D(c.$$.fragment,p),u=!1},d:function(p){p&&d(e),q(c)}};return B("SvelteRegisterBlock",{block:f,id:np.name,type:"slot",source:"(11:2) <Modal on:close={() => showPlanetDepartures.acknownledgeError()}>",ctx:i}),f}function hr(i){let e,t,l,o;const n=[Qm,qm,Km],r=[];function s(c,u){return c[0].error?0:c[0].step==="LOADING"?1:c[0].step==="READY"?2:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:hr.name,type:"component",source:"",ctx:i}),a}function k1(i,e,t){let l;ve(Xt,"showPlanetDepartures"),ke(i,Xt,p=>t(0,l=p));let{$$slots:o={},$$scope:n}=e;He("ShowPlanetDeparturesFlow",o,[]);const r=[];Object.keys(e).forEach(p=>{!~r.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<ShowPlanetDeparturesFlow> was created with unknown prop '${p}'`)});const s=()=>Xt.acknownledgeError(),a=()=>Xt.acknownledgeError(),c=()=>Xt.cancel(),u=()=>Xt.cancel(),f=()=>Xt.cancel(),m=()=>Xt.cancel();return i.$capture_state=()=>({Modal:Le,PanelButton:ye,showPlanetDepartures:Xt,now:Zt,formatError:Et,timeToText:tt,Blockie:mn,$showPlanetDepartures:l}),[l,s,a,c,u,f,m]}class op extends We{constructor(e){super(e);Ye(this,e,k1,hr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"ShowPlanetDeparturesFlow",options:e,id:hr.name})}}const An="src/lib/flows/FirstTimeProfile.svelte";function lp(i){let e;const t={c:function(){e=I("SETUP")},l:function(o){e=R(o,"SETUP")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:lp.name,type:"slot",source:'(30:4) <PanelButton label=\\"OK\\" class=\\"mt-4\\" on:click={setProfile}>',ctx:i}),t}function ip(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O;P=new ye({props:{label:"OK",class:"mt-4",$$slots:{default:[lp]},$$scope:{ctx:i}},$$inline:!0}),P.$on("click",i[1]);const F={c:function(){e=E("p"),t=I("Before you proceed:"),l=L(),o=E("p"),n=I(`Setup a profile so that other player can reach out to you. You can put anything like a discord username or telegram
    handle.`),r=L(),s=E("div"),a=E("label"),c=I("Contact"),u=L(),f=E("div"),m=E("textarea"),p=L(),g=E("p"),b=I("Describe how other players can contact you."),w=L(),y=E("div"),U(P.$$.fragment),this.h()},l:function(Y){e=$(Y,"P",{class:!0});var H=k(e);t=R(H,"Before you proceed:"),H.forEach(d),l=j(Y),o=$(Y,"P",{class:!0});var M=k(o);n=R(M,`Setup a profile so that other player can reach out to you. You can put anything like a discord username or telegram
    handle.`),M.forEach(d),r=j(Y),s=$(Y,"DIV",{class:!0});var W=k(s);a=$(W,"LABEL",{for:!0,class:!0});var X=k(a);c=R(X,"Contact"),X.forEach(d),u=j(W),f=$(W,"DIV",{class:!0});var V=k(f);m=$(V,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),k(m).forEach(d),p=j(V),g=$(V,"P",{class:!0});var Q=k(g);b=R(Q,"Describe how other players can contact you."),Q.forEach(d),V.forEach(d),W.forEach(d),w=j(Y),y=$(Y,"DIV",{class:!0});var z=k(y);G(P.$$.fragment,z),z.forEach(d),this.h()},h:function(){h(e,"class","mb-3"),v(e,An,10,2,295),h(o,"class","mb-3"),v(o,An,11,2,337),h(a,"for","Contact"),h(a,"class","block text-sm font-medium sm:mt-px sm:pt-2"),v(a,An,16,4,599),h(m,"id","contact"),h(m,"name","contact"),h(m,"rows","3"),h(m,"class","max-w-lg shadow-sm block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 rounded-md bg-gray-700"),v(m,An,18,6,740),h(g,"class","mt-2 text-sm"),v(g,An,25,6,1004),h(f,"class","mt-1 sm:mt-0 sm:col-span-2"),v(f,An,17,4,693),h(s,"class","sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"),v(s,An,15,2,495),h(y,"class","text-center"),v(y,An,28,2,1098)},m:function(Y,H){S(Y,e,H),_(e,t),S(Y,l,H),S(Y,o,H),_(o,n),S(Y,r,H),S(Y,s,H),_(s,a),_(a,c),_(s,u),_(s,f),_(f,m),Ft(m,i[0]),_(f,p),_(f,g),_(g,b),S(Y,w,H),S(Y,y,H),K(P,y,null),A=!0,T||(O=Ze(m,"input",i[2]),T=!0)},p:function(Y,H){H&1&&Ft(m,Y[0]);const M={};H&8&&(M.$$scope={dirty:H,ctx:Y}),P.$set(M)},i:function(Y){A||(C(P.$$.fragment,Y),A=!0)},o:function(Y){D(P.$$.fragment,Y),A=!1},d:function(Y){Y&&d(e),Y&&d(l),Y&&d(o),Y&&d(r),Y&&d(s),Y&&d(w),Y&&d(y),q(P),T=!1,O()}};return B("SvelteRegisterBlock",{block:F,id:ip.name,type:"slot",source:"(10:0) <Modal>",ctx:i}),F}function _r(i){let e,t;e=new Le({props:{$$slots:{default:[ip]},$$scope:{ctx:i}},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,[r]){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:_r.name,type:"component",source:"",ctx:i}),l}function y1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("FirstTimeProfile",l,[]);let n="";function r(){co.setProfile({description:n})}const s=[];Object.keys(e).forEach(c=>{!~s.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<FirstTimeProfile> was created with unknown prop '${c}'`)});function a(){n=this.value,t(0,n)}return i.$capture_state=()=>({Modal:Le,PanelButton:ye,myprofile:co,description:n,setProfile:r}),i.$inject_state=c=>{"description"in c&&t(0,n=c.description)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,a]}class rp extends We{constructor(e){super(e);Ye(this,e,y1,_r,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"FirstTimeProfile",options:e,id:_r.name})}}const wn="src/lib/components/utils/Search.svelte";function gr(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T;const O={c:function(){e=E("div"),t=E("div"),l=E("h2"),o=I("Enter coords"),n=L(),r=E("div"),s=L(),a=E("form"),c=E("input"),u=L(),f=E("input"),m=L(),p=E("div"),g=L(),b=E("a"),w=I("LOGS"),y=L(),P=E("div"),this.h()},l:function(N){e=$(N,"DIV",{class:!0});var Y=k(e);t=$(Y,"DIV",{class:!0});var H=k(t);l=$(H,"H2",{class:!0});var M=k(l);o=R(M,"Enter coords"),M.forEach(d),H.forEach(d),n=j(Y),r=$(Y,"DIV",{class:!0}),k(r).forEach(d),s=j(Y),a=$(Y,"FORM",{});var W=k(a);c=$(W,"INPUT",{class:!0,type:!0}),u=j(W),f=$(W,"INPUT",{type:!0,class:!0}),W.forEach(d),m=j(Y),p=$(Y,"DIV",{class:!0}),k(p).forEach(d),g=j(Y),b=$(Y,"A",{class:!0,href:!0});var X=k(b);w=R(X,"LOGS"),X.forEach(d),y=j(Y),P=$(Y,"DIV",{class:!0}),k(P).forEach(d),Y.forEach(d),this.h()},h:function(){h(l,"class","flex-auto text-center pt-1 font-bold text-white"),v(l,wn,23,4,790),h(t,"class","flex m-1"),v(t,wn,22,2,763),h(r,"class","w-full h-1 bg-cyan-300 my-2"),v(r,wn,25,2,881),h(c,"class","relative inline-block ml-1 max-w-lg shadow-sm w-14 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 rounded-md bg-gray-700"),h(c,"type","text"),v(c,wn,27,4,953),h(f,"type","submit"),f.value="GO",h(f,"class","relative inline-block bg-black border border-cyan-500 my-1 px-1 text-center"),v(f,wn,32,4,1176),v(a,wn,26,2,927),h(p,"class","w-full h-1 bg-cyan-300 mt-2"),v(p,wn,38,2,1329),h(b,"class","relative inline-block border border-cyan-500 ml-8 my-2 px-1 text-center"),h(b,"href",`${Jt}/logs/`),v(b,wn,39,2,1375),h(P,"class","w-full h-1 bg-cyan-300"),v(P,wn,40,2,1492),h(e,"class","absolute inline-block w-28 bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 m-4 text-sm"),v(e,wn,21,0,643)},m:function(N,Y){S(N,e,Y),_(e,t),_(t,l),_(l,o),_(e,n),_(e,r),_(e,s),_(e,a),_(a,c),Ft(c,i[0]),_(a,u),_(a,f),_(e,m),_(e,p),_(e,g),_(e,b),_(b,w),_(e,y),_(e,P),A||(T=[Ze(c,"input",i[2]),Ze(a,"submit",i[1],!1,!1,!1)],A=!0)},p:function(N,[Y]){Y&1&&c.value!==N[0]&&Ft(c,N[0])},i:ae,o:ae,d:function(N){N&&d(e),A=!1,_n(T)}};return B("SvelteRegisterBlock",{block:O,id:gr.name,type:"component",source:"",ctx:i}),O}function S1(){}function E1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("Search",l,[]);let n;function r(c){c.stopPropagation(),c.preventDefault();const{x:u,y:f}=bs(n),m=be.getPlanetInfo(u,f);m&&(xe.navigate(m.location.globalX,m.location.globalY,10),m&&pt.select(m.location.x,m.location.y))}const s=[];Object.keys(e).forEach(c=>{!~s.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Search> was created with unknown prop '${c}'`)});function a(){n=this.value,t(0,n)}return i.$capture_state=()=>({base:Jt,spaceInfo:be,selection:pt,camera:xe,decodeCoords:bs,coords:n,go:r,showLogs:S1}),i.$inject_state=c=>{"coords"in c&&t(0,n=c.coords)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,a]}class sp extends We{constructor(e){super(e);Ye(this,e,E1,gr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"Search",options:e,id:gr.name})}}const et="src/lib/components/events/ErrorDetails.svelte";function cp(i,e,t){const l=i.slice();return l[9]=e[t],l}function br(i){let e,t;e=new Le({props:{maxWidth:"max-w-screen-xl",globalCloseButton:i[2],cancelable:i[2],border_color:"border-red-400",$$slots:{default:[wp]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[8]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4&&(s.globalCloseButton=n[2]),r&4&&(s.cancelable=n[2]),r&4219&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:br.name,type:"if",source:"(60:0) {#if error}",ctx:i}),l}function ap(i){let e,t,l,o,n,r,s,a;r=new gn({props:{location:Vt(i[0].action.planetCoords.x,i[0].action.planetCoords.y)},$$inline:!0});const c={c:function(){e=E("div"),t=E("dt"),l=I("Planet"),o=L(),n=E("dd"),U(r.$$.fragment),s=L(),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=$(m,"DT",{class:!0});var p=k(t);l=R(p,"Planet"),p.forEach(d),o=j(m),n=$(m,"DD",{class:!0});var g=k(n);G(r.$$.fragment,g),g.forEach(d),s=j(m),m.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,151,14,6335),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,152,14,6407),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,150,12,6254)},m:function(f,m){S(f,e,m),_(e,t),_(t,l),_(e,o),_(e,n),K(r,n,null),_(e,s),a=!0},p:function(f,m){const p={};m&1&&(p.location=Vt(f[0].action.planetCoords.x,f[0].action.planetCoords.y)),r.$set(p)},i:function(f){a||(C(r.$$.fragment,f),a=!0)},o:function(f){D(r.$$.fragment,f),a=!1},d:function(f){f&&d(e),q(r)}};return B("SvelteRegisterBlock",{block:c,id:ap.name,type:"if",source:"(150:49) ",ctx:i}),c}function up(i){let e,t,l,o;const n=[hp,pp],r=[];function s(c,u){return c[5]?0:1}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,f){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:up.name,type:"if",source:"(119:55) ",ctx:i}),a}function fp(i){let e,t,l,o,n,r,s,a=i[0].action.planets;mt(a);let c=[];for(let p=0;p<a.length;p+=1)c[p]=vr(cp(i,a,p));const u=p=>D(c[p],1,1,()=>{c[p]=null});let f=null;a.length||(f=wr(i));const m={c:function(){e=E("div"),t=E("dt"),l=I("Planet List"),o=L(),n=E("dd");for(let g=0;g<c.length;g+=1)c[g].c();f&&f.c(),r=L(),this.h()},l:function(g){e=$(g,"DIV",{class:!0});var b=k(e);t=$(b,"DT",{class:!0});var w=k(t);l=R(w,"Planet List"),w.forEach(d),o=j(b),n=$(b,"DD",{class:!0});var y=k(n);for(let P=0;P<c.length;P+=1)c[P].l(y);f&&f.l(y),y.forEach(d),r=j(b),b.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,109,14,4274),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,110,14,4351),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,108,12,4193)},m:function(g,b){S(g,e,b),_(e,t),_(t,l),_(e,o),_(e,n);for(let w=0;w<c.length;w+=1)c[w].m(n,null);f&&f.m(n,null),_(e,r),s=!0},p:function(g,b){if(b&1){a=g[0].action.planets,mt(a);let w;for(w=0;w<a.length;w+=1){const y=cp(g,a,w);c[w]?(c[w].p(y,b),C(c[w],1)):(c[w]=vr(y),c[w].c(),C(c[w],1),c[w].m(n,null))}for(Ee(),w=a.length;w<c.length;w+=1)u(w);$e(),a.length?f&&(f.d(1),f=null):f||(f=wr(g),f.c(),f.m(n,null))}},i:function(g){if(!s){for(let b=0;b<a.length;b+=1)C(c[b]);s=!0}},o:function(g){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)D(c[b]);s=!1},d:function(g){g&&d(e),Kt(c,g),f&&f.d()}};return B("SvelteRegisterBlock",{block:m,id:fp.name,type:"if",source:"(108:55) ",ctx:i}),m}function dp(i){let e,t,l,o,n,r,s,a;r=new gn({props:{location:Vt(i[0].action.planetCoords.x,i[0].action.planetCoords.y)},$$inline:!0});const c={c:function(){e=E("div"),t=E("dt"),l=I("Planet"),o=L(),n=E("dd"),U(r.$$.fragment),s=L(),this.h()},l:function(f){e=$(f,"DIV",{class:!0});var m=k(e);t=$(m,"DT",{class:!0});var p=k(t);l=R(p,"Planet"),p.forEach(d),o=j(m),n=$(m,"DD",{class:!0});var g=k(n);G(r.$$.fragment,g),g.forEach(d),s=j(m),m.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,102,14,3844),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,103,14,3916),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,101,12,3763)},m:function(f,m){S(f,e,m),_(e,t),_(t,l),_(e,o),_(e,n),K(r,n,null),_(e,s),a=!0},p:function(f,m){const p={};m&1&&(p.location=Vt(f[0].action.planetCoords.x,f[0].action.planetCoords.y)),r.$set(p)},i:function(f){a||(C(r.$$.fragment,f),a=!0)},o:function(f){D(r.$$.fragment,f),a=!1},d:function(f){f&&d(e),q(r)}};return B("SvelteRegisterBlock",{block:c,id:dp.name,type:"if",source:"(101:52) ",ctx:i}),c}function mp(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T=i[0].action.quantity+"",O,F,N;r=new mn({props:{address:i[0].action.fleetOwner},$$inline:!0}),p=new gn({props:{location:Vt(i[0].action.from.x,i[0].action.from.y)},$$inline:!0});const Y={c:function(){e=E("div"),t=E("dt"),l=I("Owner"),o=L(),n=E("dd"),U(r.$$.fragment),s=L(),a=E("div"),c=E("dt"),u=I("Destination"),f=L(),m=E("dd"),U(p.$$.fragment),g=L(),b=E("div"),w=E("dt"),y=I("Quantity"),P=L(),A=E("dd"),O=I(T),F=L(),this.h()},l:function(M){e=$(M,"DIV",{class:!0});var W=k(e);t=$(W,"DT",{class:!0});var X=k(t);l=R(X,"Owner"),X.forEach(d),o=j(W),n=$(W,"DD",{class:!0});var V=k(n);G(r.$$.fragment,V),V.forEach(d),s=j(W),W.forEach(d),a=$(M,"DIV",{class:!0});var Q=k(a);c=$(Q,"DT",{class:!0});var z=k(c);u=R(z,"Destination"),z.forEach(d),f=j(Q),m=$(Q,"DD",{class:!0});var ie=k(m);G(p.$$.fragment,ie),ie.forEach(d),g=j(Q),Q.forEach(d),b=$(M,"DIV",{class:!0});var oe=k(b);w=$(oe,"DT",{class:!0});var ce=k(w);y=R(ce,"Quantity"),ce.forEach(d),P=j(oe),A=$(oe,"DD",{class:!0});var Z=k(A);O=R(Z,T),Z.forEach(d),F=j(oe),oe.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,81,14,2791),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,82,14,2862),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,80,12,2710),h(c,"class","text-sm font-medium text-gray-500"),v(c,et,88,14,3119),h(m,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(m,et,89,14,3196),h(a,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(a,et,87,12,3038),h(w,"class","text-sm font-medium text-gray-500"),v(w,et,95,14,3483),h(A,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(A,et,96,14,3557),h(b,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(b,et,94,12,3402)},m:function(M,W){S(M,e,W),_(e,t),_(t,l),_(e,o),_(e,n),K(r,n,null),_(e,s),S(M,a,W),_(a,c),_(c,u),_(a,f),_(a,m),K(p,m,null),_(a,g),S(M,b,W),_(b,w),_(w,y),_(b,P),_(b,A),_(A,O),_(b,F),N=!0},p:function(M,W){const X={};W&1&&(X.address=M[0].action.fleetOwner),r.$set(X);const V={};W&1&&(V.location=Vt(M[0].action.from.x,M[0].action.from.y)),p.$set(V),(!N||W&1)&&T!==(T=M[0].action.quantity+"")&&he(O,T)},i:function(M){N||(C(r.$$.fragment,M),C(p.$$.fragment,M),N=!0)},o:function(M){D(r.$$.fragment,M),D(p.$$.fragment,M),N=!1},d:function(M){M&&d(e),q(r),M&&d(a),q(p),M&&d(b)}};return B("SvelteRegisterBlock",{block:Y,id:mp.name,type:"if",source:"(80:10) {#if error.action.type === 'SEND'}",ctx:i}),Y}function pp(i){let e,t,l,o,n,r,s=i[0].action.fleetId+"",a,c,u,f,m;const p={c:function(){e=E("div"),t=E("dt"),l=I("FleetID"),o=L(),n=E("dd"),r=E("p"),a=I(s),c=L(),u=E("p"),f=I("Could not get more info..."),m=L(),this.h()},l:function(b){e=$(b,"DIV",{class:!0});var w=k(e);t=$(w,"DT",{class:!0});var y=k(t);l=R(y,"FleetID"),y.forEach(d),o=j(w),n=$(w,"DD",{class:!0});var P=k(n);r=$(P,"P",{});var A=k(r);a=R(A,s),A.forEach(d),c=j(P),u=$(P,"P",{});var T=k(u);f=R(T,"Could not get more info..."),T.forEach(d),P.forEach(d),m=j(w),w.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,142,16,5894),v(r,et,144,18,6049),v(u,et,145,18,6097),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,143,16,5969),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,141,14,5811)},m:function(b,w){S(b,e,w),_(e,t),_(t,l),_(e,o),_(e,n),_(n,r),_(r,a),_(n,c),_(n,u),_(u,f),_(e,m)},p:function(b,w){w&1&&s!==(s=b[0].action.fleetId+"")&&he(a,s)},i:ae,o:ae,d:function(b){b&&d(e)}};return B("SvelteRegisterBlock",{block:p,id:pp.name,type:"else",source:"(141:12) {:else}",ctx:i}),p}function hp(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T=i[5].quantity+"",O,F,N;r=new mn({props:{address:i[5].fleetOwner},$$inline:!0}),p=new gn({props:{location:Vt(i[5].from.x,i[5].from.y)},$$inline:!0});const Y={c:function(){e=E("div"),t=E("dt"),l=I("Owner"),o=L(),n=E("dd"),U(r.$$.fragment),s=L(),a=E("div"),c=E("dt"),u=I("Destination"),f=L(),m=E("dd"),U(p.$$.fragment),g=L(),b=E("div"),w=E("dt"),y=I("Quantity"),P=L(),A=E("dd"),O=I(T),F=L(),this.h()},l:function(M){e=$(M,"DIV",{class:!0});var W=k(e);t=$(W,"DT",{class:!0});var X=k(t);l=R(X,"Owner"),X.forEach(d),o=j(W),n=$(W,"DD",{class:!0});var V=k(n);G(r.$$.fragment,V),V.forEach(d),s=j(W),W.forEach(d),a=$(M,"DIV",{class:!0});var Q=k(a);c=$(Q,"DT",{class:!0});var z=k(c);u=R(z,"Destination"),z.forEach(d),f=j(Q),m=$(Q,"DD",{class:!0});var ie=k(m);G(p.$$.fragment,ie),ie.forEach(d),g=j(Q),Q.forEach(d),b=$(M,"DIV",{class:!0});var oe=k(b);w=$(oe,"DT",{class:!0});var ce=k(w);y=R(ce,"Quantity"),ce.forEach(d),P=j(oe),A=$(oe,"DD",{class:!0});var Z=k(A);O=R(Z,T),Z.forEach(d),F=j(oe),oe.forEach(d),this.h()},h:function(){h(t,"class","text-sm font-medium text-gray-500"),v(t,et,121,16,4846),h(n,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(n,et,122,16,4919),h(e,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(e,et,120,14,4763),h(c,"class","text-sm font-medium text-gray-500"),v(c,et,128,16,5184),h(m,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(m,et,129,16,5263),h(a,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(a,et,127,14,5101),h(w,"class","text-sm font-medium text-gray-500"),v(w,et,135,16,5556),h(A,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(A,et,136,16,5632),h(b,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(b,et,134,14,5473)},m:function(M,W){S(M,e,W),_(e,t),_(t,l),_(e,o),_(e,n),K(r,n,null),_(e,s),S(M,a,W),_(a,c),_(c,u),_(a,f),_(a,m),K(p,m,null),_(a,g),S(M,b,W),_(b,w),_(w,y),_(b,P),_(b,A),_(A,O),_(b,F),N=!0},p:function(M,W){const X={};W&32&&(X.address=M[5].fleetOwner),r.$set(X);const V={};W&32&&(V.location=Vt(M[5].from.x,M[5].from.y)),p.$set(V),(!N||W&32)&&T!==(T=M[5].quantity+"")&&he(O,T)},i:function(M){N||(C(r.$$.fragment,M),C(p.$$.fragment,M),N=!0)},o:function(M){D(r.$$.fragment,M),D(p.$$.fragment,M),N=!1},d:function(M){M&&d(e),q(r),M&&d(a),q(p),M&&d(b)}};return B("SvelteRegisterBlock",{block:Y,id:hp.name,type:"if",source:"(120:12) {#if sendAction}",ctx:i}),Y}function wr(i){let e;const t={c:function(){e=I("Simple Withdrawal")},l:function(o){e=R(o,"Simple Withdrawal")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:wr.name,type:"else",source:"(114:16) {:else}",ctx:i}),t}function vr(i){let e,t,l;e=new gn({props:{location:Vt(i[9].x,i[9].y)},$$inline:!0});const o={c:function(){U(e.$$.fragment),t=I(",")},l:function(r){G(e.$$.fragment,r),t=R(r,",")},m:function(r,s){K(e,r,s),S(r,t,s),l=!0},p:function(r,s){const a={};s&1&&(a.location=Vt(r[9].x,r[9].y)),e.$set(a)},i:function(r){l||(C(e.$$.fragment,r),l=!0)},o:function(r){D(e.$$.fragment,r),l=!1},d:function(r){q(e,r),r&&d(t)}};return B("SvelteRegisterBlock",{block:o,id:vr.name,type:"each",source:"(112:16) {#each error.action.planets as planet}",ctx:i}),o}function _p(i){let e,t=i[0].txHash+"",l,o;const n={c:function(){e=E("a"),l=I(t),this.h()},l:function(s){e=$(s,"A",{href:!0,target:!0,class:!0});var a=k(e);l=R(a,t),a.forEach(d),this.h()},h:function(){h(e,"href",o=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${i[0].txHash}`),h(e,"target","_blank"),h(e,"class","text-indigo-600 hover:text-indigo-100"),v(e,et,163,16,7052)},m:function(s,a){S(s,e,a),_(e,l)},p:function(s,a){a&1&&t!==(t=s[0].txHash+"")&&he(l,t),a&1&&o!==(o=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${s[0].txHash}`)&&h(e,"href",o)},d:function(s){s&&d(e)}};return B("SvelteRegisterBlock",{block:n,id:_p.name,type:"else",source:"(163:14) {:else}",ctx:i}),n}function gp(i){let e,t;const l={c:function(){e=E("p"),t=I("Hmm, no transaction found for this error"),this.h()},l:function(n){e=$(n,"P",{class:!0});var r=k(e);t=R(r,"Hmm, no transaction found for this error"),r.forEach(d),this.h()},h:function(){h(e,"class","text-orange-700"),v(e,et,161,16,6942)},m:function(n,r){S(n,e,r),_(e,t)},p:ae,d:function(n){n&&d(e)}};return B("SvelteRegisterBlock",{block:l,id:gp.name,type:"if",source:"(161:14) {#if !error.txHash || error.txHash === 'undefined'}",ctx:i}),l}function bp(i){let e;const t={c:function(){e=I(i[1])},l:function(o){e=R(o,i[1])},m:function(o,n){S(o,e,n)},p:function(o,n){n&2&&he(e,o[1])},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:bp.name,type:"slot",source:'(177:6) <Button class=\\"mt-4 text-center\\" label=\\"Retry\\" on:click={acknowledge}>',ctx:i}),t}function wp(i){let e,t,l,o,n,r,s=tt(i[6]-i[0].action.timestamp,{compact:!0})+"",a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N;const Y=[mp,dp,fp,up,ap],H=[];function M(z,ie){return z[0].action.type==="SEND"?0:z[0].action.type==="CAPTURE"?1:z[0].action.type==="WITHDRAWAL"?2:z[0].action.type==="RESOLUTION"?3:z[0].action.type==="EXIT"?4:-1}~(p=M(i))&&(g=H[p]=Y[p](i));function W(z,ie){return!z[0].txHash||z[0].txHash==="undefined"?gp:_p}let X=W(i),V=X(i);F=new ye({props:{class:"mt-4 text-center",label:"Retry",$$slots:{default:[bp]},$$scope:{ctx:i}},$$inline:!0}),F.$on("click",i[7]);const Q={c:function(){e=E("div"),t=E("div"),l=E("h3"),o=I(i[4]),n=L(),r=E("p"),a=I(s),c=I(" ago"),u=L(),f=E("div"),m=E("dl"),g&&g.c(),b=E("div"),w=E("dt"),y=I(i[3]),P=L(),A=E("dd"),V.c(),T=L(),O=E("div"),U(F.$$.fragment),this.h()},l:function(ie){e=$(ie,"DIV",{class:!0});var oe=k(e);t=$(oe,"DIV",{class:!0});var ce=k(t);l=$(ce,"H3",{class:!0});var Z=k(l);o=R(Z,i[4]),Z.forEach(d),n=j(ce),r=$(ce,"P",{class:!0});var se=k(r);a=R(se,s),c=R(se," ago"),se.forEach(d),ce.forEach(d),u=j(oe),f=$(oe,"DIV",{class:!0});var ee=k(f);m=$(ee,"DL",{class:!0});var fe=k(m);g&&g.l(fe),b=$(fe,"DIV",{class:!0});var de=k(b);w=$(de,"DT",{class:!0});var we=k(w);y=R(we,i[3]),we.forEach(d),P=j(de),A=$(de,"DD",{class:!0});var Pe=k(A);V.l(Pe),Pe.forEach(d),de.forEach(d),fe.forEach(d),ee.forEach(d),oe.forEach(d),T=j(ie),O=$(ie,"DIV",{class:!0});var Ae=k(O);G(F.$$.fragment,Ae),Ae.forEach(d),this.h()},h:function(){h(l,"class","text-lg leading-6 font-medium text-red-400"),v(l,et,69,8,2285),h(r,"class","mt-1 max-w-2xl text-sm text-gray-500"),v(r,et,73,8,2388),h(t,"class","px-4 py-5 sm:px-6"),v(t,et,68,6,2245),h(w,"class","text-sm font-medium text-red-500"),v(w,et,158,12,6721),h(A,"class","mt-1 text-sm text-gray-100 sm:mt-0 sm:col-span-2"),v(A,et,159,12,6798),h(b,"class","py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"),v(b,et,157,10,6642),h(m,"class","sm:divide-y sm:divide-gray-800"),v(m,et,78,8,2609),h(f,"class","border-t border-gray-800 px-4 py-5 sm:p-0"),v(f,et,77,6,2545),h(e,"class","bg-black shadow sm:rounded-lg"),v(e,et,67,4,2195),h(O,"class","text-center"),v(O,et,175,4,7380)},m:function(ie,oe){S(ie,e,oe),_(e,t),_(t,l),_(l,o),_(t,n),_(t,r),_(r,a),_(r,c),_(e,u),_(e,f),_(f,m),~p&&H[p].m(m,null),_(m,b),_(b,w),_(w,y),_(b,P),_(b,A),V.m(A,null),S(ie,T,oe),S(ie,O,oe),K(F,O,null),N=!0},p:function(ie,oe){(!N||oe&16)&&he(o,ie[4]),(!N||oe&65)&&s!==(s=tt(ie[6]-ie[0].action.timestamp,{compact:!0})+"")&&he(a,s);let ce=p;p=M(ie),p===ce?~p&&H[p].p(ie,oe):(g&&(Ee(),D(H[ce],1,1,()=>{H[ce]=null}),$e()),~p?(g=H[p],g?g.p(ie,oe):(g=H[p]=Y[p](ie),g.c()),C(g,1),g.m(m,b)):g=null),(!N||oe&8)&&he(y,ie[3]),X===(X=W(ie))&&V?V.p(ie,oe):(V.d(1),V=X(ie),V&&(V.c(),V.m(A,null)));const Z={};oe&4098&&(Z.$$scope={dirty:oe,ctx:ie}),F.$set(Z)},i:function(ie){N||(C(g),C(F.$$.fragment,ie),N=!0)},o:function(ie){D(g),D(F.$$.fragment,ie),N=!1},d:function(ie){ie&&d(e),~p&&H[p].d(),V.d(),ie&&d(T),ie&&d(O),q(F)}};return B("SvelteRegisterBlock",{block:Q,id:wp.name,type:"slot",source:'(61:2) <Modal     maxWidth=\\"max-w-screen-xl\\"     globalCloseButton={closeButton}     cancelable={closeButton}     on:close     border_color=\\"border-red-400\\"   >',ctx:i}),Q}function kr(i){let e,t,l=i[0]&&br(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,[s]){r[0]?l?(l.p(r,s),s&1&&C(l,1)):(l=br(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:kr.name,type:"component",source:"",ctx:i}),o}function $1(i,e,t){let l;ve(cn,"time"),ke(i,cn,b=>t(6,l=b));let{$$slots:o={},$$scope:n}=e;He("ErrorDetails",o,[]);let{error:r}=e,{okLabel:s="OK"}=e,{closeButton:a}=e,c,u,f;async function m(){await zt.acknowledgeError(r.txHash,null,r.late?Zt():void 0)}const p=["error","okLabel","closeButton"];Object.keys(e).forEach(b=>{!~p.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<ErrorDetails> was created with unknown prop '${b}'`)});function g(b){$n.call(this,i,b)}return i.$$set=b=>{"error"in b&&t(0,r=b.error),"okLabel"in b&&t(1,s=b.okLabel),"closeButton"in b&&t(2,a=b.closeButton)},i.$capture_state=()=>({time:cn,timeToText:tt,Modal:Le,account:zt,Button:ye,now:Zt,Blockie:mn,Coord:gn,xyToLocation:Vt,error:r,okLabel:s,closeButton:a,genericTitle:c,actionTitle:u,sendAction:f,acknowledge:m,$time:l}),i.$inject_state=b=>{"error"in b&&t(0,r=b.error),"okLabel"in b&&t(1,s=b.okLabel),"closeButton"in b&&t(2,a=b.closeButton),"genericTitle"in b&&t(3,c=b.genericTitle),"actionTitle"in b&&t(4,u=b.actionTitle),"sendAction"in b&&t(5,f=b.sendAction)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&1&&((r==null?void 0:r.status)==="FAILURE"?t(3,c="Transaction Failed"):(r==null?void 0:r.status)==="CANCELED"?t(3,c="Transaction Cancelled"):(r==null?void 0:r.status)==="TIMEOUT"?(r==null?void 0:r.action.type)==="SEND"&&(r==null?void 0:r.action.actualLaunchTime)?t(3,c="Resolution Timeout"):t(3,c="Transaction Timeout"):t(3,c="Loading...")),i.$$.dirty&1&&(r.action.type==="SEND"?t(4,u="Could not send your fleet"):r.action.type==="EXIT"?t(4,u="Could not exit planet"):r.action.type==="CAPTURE"?t(4,u="Could not capture planet"):r.action.type==="RESOLUTION"?t(4,u="Could not resolve your fleet"):r.action.type==="WITHDRAWAL"&&t(4,u="Could not withdraw")),i.$$.dirty&1&&r.action.type==="RESOLUTION"&&t(5,f=zt.getSendActionFromFleetId(r.action.fleetId))},[r,s,a,c,u,f,l,m,g]}class vp extends We{constructor(e){super(e);Ye(this,e,$1,kr,ze,{error:0,okLabel:1,closeButton:2}),B("SvelteRegisterComponent",{component:this,tagName:"ErrorDetails",options:e,id:kr.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("error"in l)&&console.warn("<ErrorDetails> was created without expected prop 'error'"),t[2]===void 0&&!("closeButton"in l)&&console.warn("<ErrorDetails> was created without expected prop 'closeButton'")}get error(){throw new Error("<ErrorDetails>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set error(e){throw new Error("<ErrorDetails>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get okLabel(){throw new Error("<ErrorDetails>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set okLabel(e){throw new Error("<ErrorDetails>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeButton(){throw new Error("<ErrorDetails>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeButton(e){throw new Error("<ErrorDetails>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const P1="src/lib/components/events/EventInfoDetailsWrapper.svelte";function yr(i){let e,t;e=new Le({props:{maxWidth:"max-w-screen-xl",globalCloseButton:i[2],cancelable:i[2],$$slots:{default:[yp]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[4]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4&&(s.globalCloseButton=n[2]),r&4&&(s.cancelable=n[2]),r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:yr.name,type:"if",source:"(14:0) {#if event}",ctx:i}),l}function kp(i){let e;const t={c:function(){e=I(i[1])},l:function(o){e=R(o,i[1])},m:function(o,n){S(o,e,n)},p:function(o,n){n&2&&he(e,o[1])},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:kp.name,type:"slot",source:'(18:6) <Button class=\\"mt-4 text-center\\" label=\\"Retry\\" on:click={acknowledge}>',ctx:i}),t}function yp(i){let e,t,l,o,n;e=new Ro({props:{event:i[0].event},$$inline:!0}),o=new ye({props:{class:"mt-4 text-center",label:"Retry",$$slots:{default:[kp]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[3]);const r={c:function(){U(e.$$.fragment),t=L(),l=E("div"),U(o.$$.fragment),this.h()},l:function(a){G(e.$$.fragment,a),t=j(a),l=$(a,"DIV",{class:!0});var c=k(l);G(o.$$.fragment,c),c.forEach(d),this.h()},h:function(){h(l,"class","text-center"),v(l,P1,16,4,579)},m:function(a,c){K(e,a,c),S(a,t,c),S(a,l,c),K(o,l,null),n=!0},p:function(a,c){const u={};c&1&&(u.event=a[0].event),e.$set(u);const f={};c&34&&(f.$$scope={dirty:c,ctx:a}),o.$set(f)},i:function(a){n||(C(e.$$.fragment,a),C(o.$$.fragment,a),n=!0)},o:function(a){D(e.$$.fragment,a),D(o.$$.fragment,a),n=!1},d:function(a){q(e,a),a&&d(t),a&&d(l),q(o)}};return B("SvelteRegisterBlock",{block:r,id:yp.name,type:"slot",source:'(15:2) <Modal maxWidth=\\"max-w-screen-xl\\" globalCloseButton={closeButton} cancelable={closeButton} on:close>',ctx:i}),r}function Sr(i){let e,t,l=i[0]&&yr(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,[s]){r[0]?l?(l.p(r,s),s&1&&C(l,1)):(l=yr(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Sr.name,type:"component",source:"",ctx:i}),o}function B1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("EventInfoDetailsWrapper",l,[]);let{event:n}=e,{okLabel:r="OK"}=e,{closeButton:s}=e;async function a(){await zt.acknowledgeEvent(n)}const c=["event","okLabel","closeButton"];Object.keys(e).forEach(f=>{!~c.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<EventInfoDetailsWrapper> was created with unknown prop '${f}'`)});function u(f){$n.call(this,i,f)}return i.$$set=f=>{"event"in f&&t(0,n=f.event),"okLabel"in f&&t(1,r=f.okLabel),"closeButton"in f&&t(2,s=f.closeButton)},i.$capture_state=()=>({account:zt,Modal:Le,Button:ye,EventDetails:Ro,event:n,okLabel:r,closeButton:s,acknowledge:a}),i.$inject_state=f=>{"event"in f&&t(0,n=f.event),"okLabel"in f&&t(1,r=f.okLabel),"closeButton"in f&&t(2,s=f.closeButton)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,s,a,u]}class Er extends We{constructor(e){super(e);Ye(this,e,B1,Sr,ze,{event:0,okLabel:1,closeButton:2}),B("SvelteRegisterComponent",{component:this,tagName:"EventInfoDetailsWrapper",options:e,id:Sr.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("event"in l)&&console.warn("<EventInfoDetailsWrapper> was created without expected prop 'event'"),t[2]===void 0&&!("closeButton"in l)&&console.warn("<EventInfoDetailsWrapper> was created without expected prop 'closeButton'")}get event(){throw new Error("<EventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<EventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get okLabel(){throw new Error("<EventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set okLabel(e){throw new Error("<EventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeButton(){throw new Error("<EventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeButton(e){throw new Error("<EventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const I1="src/lib/components/events/ExitEventInfoDetailsWrapper.svelte";function $r(i){let e,t;e=new Le({props:{maxWidth:"max-w-screen-xl",globalCloseButton:i[2],cancelable:i[2],$$slots:{default:[Ep]},$$scope:{ctx:i}},$$inline:!0}),e.$on("close",i[4]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4&&(s.globalCloseButton=n[2]),r&4&&(s.cancelable=n[2]),r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:$r.name,type:"if",source:"(13:0) {#if event}",ctx:i}),l}function Sp(i){let e;const t={c:function(){e=I(i[1])},l:function(o){e=R(o,i[1])},m:function(o,n){S(o,e,n)},p:function(o,n){n&2&&he(e,o[1])},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Sp.name,type:"slot",source:'(17:6) <Button class=\\"mt-4 text-center\\" label=\\"Retry\\" on:click={acknowledge}>',ctx:i}),t}function Ep(i){let e,t,l,o,n;e=new Ro({props:{event:i[0].event},$$inline:!0}),o=new ye({props:{class:"mt-4 text-center",label:"Retry",$$slots:{default:[Sp]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[3]);const r={c:function(){U(e.$$.fragment),t=L(),l=E("div"),U(o.$$.fragment),this.h()},l:function(a){G(e.$$.fragment,a),t=j(a),l=$(a,"DIV",{class:!0});var c=k(l);G(o.$$.fragment,c),c.forEach(d),this.h()},h:function(){h(l,"class","text-center"),v(l,I1,15,4,555)},m:function(a,c){K(e,a,c),S(a,t,c),S(a,l,c),K(o,l,null),n=!0},p:function(a,c){const u={};c&1&&(u.event=a[0].event),e.$set(u);const f={};c&34&&(f.$$scope={dirty:c,ctx:a}),o.$set(f)},i:function(a){n||(C(e.$$.fragment,a),C(o.$$.fragment,a),n=!0)},o:function(a){D(e.$$.fragment,a),D(o.$$.fragment,a),n=!1},d:function(a){q(e,a),a&&d(t),a&&d(l),q(o)}};return B("SvelteRegisterBlock",{block:r,id:Ep.name,type:"slot",source:'(14:2) <Modal maxWidth=\\"max-w-screen-xl\\" globalCloseButton={closeButton} cancelable={closeButton} on:close>',ctx:i}),r}function Pr(i){let e,t,l=i[0]&&$r(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,[s]){r[0]?l?(l.p(r,s),s&1&&C(l,1)):(l=$r(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Pr.name,type:"component",source:"",ctx:i}),o}function R1(i,e,t){let{$$slots:l={},$$scope:o}=e;He("ExitEventInfoDetailsWrapper",l,[]);let{event:n}=e,{okLabel:r="OK"}=e,{closeButton:s}=e;async function a(){await zt.acknowledgeEvent(n)}const c=["event","okLabel","closeButton"];Object.keys(e).forEach(f=>{!~c.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<ExitEventInfoDetailsWrapper> was created with unknown prop '${f}'`)});function u(f){$n.call(this,i,f)}return i.$$set=f=>{"event"in f&&t(0,n=f.event),"okLabel"in f&&t(1,r=f.okLabel),"closeButton"in f&&t(2,s=f.closeButton)},i.$capture_state=()=>({account:zt,Modal:Le,Button:ye,EventDetails:Ro,event:n,okLabel:r,closeButton:s,acknowledge:a}),i.$inject_state=f=>{"event"in f&&t(0,n=f.event),"okLabel"in f&&t(1,r=f.okLabel),"closeButton"in f&&t(2,s=f.closeButton)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[n,r,s,a,u]}class $p extends We{constructor(e){super(e);Ye(this,e,R1,Pr,ze,{event:0,okLabel:1,closeButton:2}),B("SvelteRegisterComponent",{component:this,tagName:"ExitEventInfoDetailsWrapper",options:e,id:Pr.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("event"in l)&&console.warn("<ExitEventInfoDetailsWrapper> was created without expected prop 'event'"),t[2]===void 0&&!("closeButton"in l)&&console.warn("<ExitEventInfoDetailsWrapper> was created without expected prop 'closeButton'")}get event(){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get okLabel(){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set okLabel(e){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeButton(){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeButton(e){throw new Error("<ExitEventInfoDetailsWrapper>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Pp(i){let e,t;e=new $p({props:{event:i[2],okLabel:i[0],closeButton:i[1]},$$inline:!0}),e.$on("close",i[8]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&4&&(s.event=n[2]),r&1&&(s.okLabel=n[0]),r&2&&(s.closeButton=n[1]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Pp.name,type:"else",source:"(20:0) {:else}",ctx:i}),l}function Bp(i){let e,t;e=new Er({props:{event:i[3],okLabel:i[0],closeButton:i[1]},$$inline:!0}),e.$on("close",i[7]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&8&&(s.event=n[3]),r&1&&(s.okLabel=n[0]),r&2&&(s.closeButton=n[1]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Bp.name,type:"if",source:"(18:25) ",ctx:i}),l}function Ip(i){let e,t;e=new Er({props:{event:i[4],okLabel:i[0],closeButton:i[1]},$$inline:!0}),e.$on("close",i[6]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&16&&(s.event=n[4]),r&1&&(s.okLabel=n[0]),r&2&&(s.closeButton=n[1]),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ip.name,type:"if",source:"(15:0) {#if fleetEvent}",ctx:i}),l}function Br(i){let e,t,l,o;const n=[Ip,Bp,Pp],r=[];function s(c,u){return c[4]?0:c[3]?1:2}e=s(i),t=r[e]=n[e](i);const a={c:function(){t.c(),l=pe()},l:function(u){t.l(u),l=pe()},m:function(u,f){r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?r[e].p(u,f):(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e(),t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Br.name,type:"component",source:"",ctx:i}),a}function T1(i,e,t){let l,o,n,{$$slots:r={},$$scope:s}=e;He("EventInfo",r,[]);let{event:a}=e,{okLabel:c="OK"}=e,{closeButton:u}=e;const f=["event","okLabel","closeButton"];Object.keys(e).forEach(b=>{!~f.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<EventInfo> was created with unknown prop '${b}'`)});function m(b){$n.call(this,i,b)}function p(b){$n.call(this,i,b)}function g(b){$n.call(this,i,b)}return i.$$set=b=>{"event"in b&&t(5,a=b.event),"okLabel"in b&&t(0,c=b.okLabel),"closeButton"in b&&t(1,u=b.closeButton)},i.$capture_state=()=>({EventInfoDetailsWrapper:Er,ExitEventInfoDetailsWrapper:$p,event:a,okLabel:c,closeButton:u,exitEvent:n,fleetSentEvent:o,fleetEvent:l}),i.$inject_state=b=>{"event"in b&&t(5,a=b.event),"okLabel"in b&&t(0,c=b.okLabel),"closeButton"in b&&t(1,u=b.closeButton),"exitEvent"in b&&t(2,n=b.exitEvent),"fleetSentEvent"in b&&t(3,o=b.fleetSentEvent),"fleetEvent"in b&&t(4,l=b.fleetEvent)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&32&&t(4,l=a.type==="external_fleet_arrived"||a.type==="internal_fleet_arrived"?a:void 0),i.$$.dirty&32&&t(3,o=a.type==="external_fleet_sent"?a:void 0),i.$$.dirty&32&&t(2,n=a.type==="exit_complete"?a:void 0)},[c,u,n,o,l,a,m,p,g]}class Rp extends We{constructor(e){super(e);Ye(this,e,T1,Br,ze,{event:5,okLabel:0,closeButton:1}),B("SvelteRegisterComponent",{component:this,tagName:"EventInfo",options:e,id:Br.name});const{ctx:t}=this.$$,l=e.props||{};t[5]===void 0&&!("event"in l)&&console.warn("<EventInfo> was created without expected prop 'event'"),t[1]===void 0&&!("closeButton"in l)&&console.warn("<EventInfo> was created without expected prop 'closeButton'")}get event(){throw new Error("<EventInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<EventInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get okLabel(){throw new Error("<EventInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set okLabel(e){throw new Error("<EventInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get closeButton(){throw new Error("<EventInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set closeButton(e){throw new Error("<EventInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Tp(i){let e,t;e=new Rp({props:{event:i[1][0],okLabel:i[1].length>1?"Next":"OK",closeButton:!0},$$inline:!0}),e.$on("close",i[2]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&2&&(s.event=n[1][0]),r&2&&(s.okLabel=n[1].length>1?"Next":"OK"),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Tp.name,type:"if",source:"(22:34) ",ctx:i}),l}function Ap(i){let e,t;e=new vp({props:{error:i[0][0],okLabel:i[0].length>1||i[1].length>0?"Next":"OK",closeButton:!0},$$inline:!0}),e.$on("close",i[2]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&1&&(s.error=n[0][0]),r&3&&(s.okLabel=n[0].length>1||n[1].length>0?"Next":"OK"),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ap.name,type:"if",source:"(15:0) {#if planetErrors.length > 0}",ctx:i}),l}function Ir(i){let e,t,l,o;const n=[Ap,Tp],r=[];function s(c,u){return c[0].length>0?0:c[1].length>0?1:-1}~(e=s(i))&&(t=r[e]=n[e](i));const a={c:function(){t&&t.c(),l=pe()},l:function(u){t&&t.l(u),l=pe()},m:function(u,f){~e&&r[e].m(u,f),S(u,l,f),o=!0},p:function(u,[f]){let m=e;e=s(u),e===m?~e&&r[e].p(u,f):(t&&(Ee(),D(r[m],1,1,()=>{r[m]=null}),$e()),~e?(t=r[e],t?t.p(u,f):(t=r[e]=n[e](u),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i:function(u){o||(C(t),o=!0)},o:function(u){D(t),o=!1},d:function(u){~e&&r[e].d(u),u&&d(l)}};return B("SvelteRegisterBlock",{block:a,id:Ir.name,type:"component",source:"",ctx:i}),a}function A1(i,e,t){let l,o,n,r;ve(kn,"errors"),ke(i,kn,m=>t(4,n=m)),ve(vn,"myevents"),ke(i,vn,m=>t(5,r=m));let{$$slots:s={},$$scope:a}=e;He("PlanetEventList",s,[]);let{location:c}=e;function u(){pt.unselect()}const f=["location"];return Object.keys(e).forEach(m=>{!~f.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<PlanetEventList> was created with unknown prop '${m}'`)}),i.$$set=m=>{"location"in m&&t(3,c=m.location)},i.$capture_state=()=>({EventInfo:Rp,myevents:vn,errors:kn,xyToLocation:Vt,selection:pt,ErrorDetails:vp,location:c,deselect:u,planetErrors:o,planetEvents:l,$errors:n,$myevents:r}),i.$inject_state=m=>{"location"in m&&t(3,c=m.location),"planetErrors"in m&&t(0,o=m.planetErrors),"planetEvents"in m&&t(1,l=m.planetEvents)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),i.$$.update=()=>{i.$$.dirty&40&&t(1,l=r.filter(m=>m.location===c)),i.$$.dirty&24&&t(0,o=n.filter(m=>Vt(m.location.x,m.location.y)===c))},[o,l,u,c,n,r]}class Cp extends We{constructor(e){super(e);Ye(this,e,A1,Ir,ze,{location:3}),B("SvelteRegisterComponent",{component:this,tagName:"PlanetEventList",options:e,id:Ir.name});const{ctx:t}=this.$$,l=e.props||{};t[3]===void 0&&!("location"in l)&&console.warn("<PlanetEventList> was created without expected prop 'location'")}get location(){throw new Error("<PlanetEventList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(e){throw new Error("<PlanetEventList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ot="src/lib/screens/map/MapScreen.svelte";function Op(i){let e,t,l;const o={c:function(){e=E("div"),t=E("p"),l=I("Loading"),this.h()},l:function(r){e=$(r,"DIV",{class:!0,style:!0});var s=k(e);t=$(s,"P",{class:!0});var a=k(t);l=R(a,"Loading"),a.forEach(d),s.forEach(d),this.h()},h:function(){h(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-blue-500 p-1 s-9OL1OroF1py0"),v(t,ot,83,4,4572),h(e,"class","w-full flex items-center justify-center fixed top-0 pointer-events-none s-9OL1OroF1py0"),Je(e,"z-index","5"),v(e,ot,82,2,4462)},m:function(r,s){S(r,e,s),_(e,t),_(t,l)},p:ae,d:function(r){r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Op.name,type:"if",source:"(82:98) ",ctx:i}),o}function Dp(i){let e,t,l;const o={c:function(){e=E("div"),t=E("p"),l=I("Caching Layer (subgraph) Space Not Ready. Please Wait..."),this.h()},l:function(r){e=$(r,"DIV",{class:!0,style:!0});var s=k(e);t=$(s,"P",{class:!0});var a=k(t);l=R(a,"Caching Layer (subgraph) Space Not Ready. Please Wait..."),a.forEach(d),s.forEach(d),this.h()},h:function(){h(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1 s-9OL1OroF1py0"),v(t,ot,77,4,4194),h(e,"class","w-full flex items-center justify-center fixed top-0 pointer-events-none s-9OL1OroF1py0"),Je(e,"z-index","5"),v(e,ot,76,2,4084)},m:function(r,s){S(r,e,s),_(e,t),_(t,l)},p:ae,d:function(r){r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:Dp.name,type:"if",source:"(76:123) ",ctx:i}),o}function Fp(i){var f;let e,t,l,o=((f=i[0].queryState.data)==null?void 0:f.outofsync.delta)+"",n,r,s,a,c;const u={c:function(){e=E("div"),t=E("p"),l=I("Caching Layer (subgraph) Out Of Sync. ("),n=I(o),r=I(` block behind).
      Please Contact us on `),s=E("a"),a=I("Discord"),c=I("."),this.h()},l:function(p){e=$(p,"DIV",{class:!0,style:!0});var g=k(e);t=$(g,"P",{class:!0});var b=k(t);l=R(b,"Caching Layer (subgraph) Out Of Sync. ("),n=R(b,o),r=R(b,` block behind).
      Please Contact us on `),s=$(b,"A",{href:!0,class:!0});var w=k(s);a=R(w,"Discord"),w.forEach(d),c=R(b,"."),b.forEach(d),g.forEach(d),this.h()},h:function(){h(s,"href","https://discord.com/invite/Qb4gr2ekfr"),h(s,"class","underline s-9OL1OroF1py0"),v(s,ot,72,27,3861),h(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1 s-9OL1OroF1py0"),v(t,ot,70,4,3623),h(e,"class","w-full flex items-center justify-center fixed top-0 pointer-events-none s-9OL1OroF1py0"),Je(e,"z-index","5"),v(e,ot,69,2,3513)},m:function(p,g){S(p,e,g),_(e,t),_(t,l),_(t,n),_(t,r),_(t,s),_(s,a),_(t,c)},p:function(p,g){var b;g&1&&o!==(o=((b=p[0].queryState.data)==null?void 0:b.outofsync.delta)+"")&&he(n,o)},d:function(p){p&&d(e)}};return B("SvelteRegisterBlock",{block:u,id:Fp.name,type:"if",source:"(69:126) ",ctx:i}),u}function Np(i){let e,t,l,o,n,r;const s={c:function(){e=E("div"),t=E("p"),l=I("Invalid Caching Layer (subgraph) Space Not Ready. Please Contact us on "),o=E("a"),n=I("Discord"),r=I("."),this.h()},l:function(c){e=$(c,"DIV",{class:!0,style:!0});var u=k(e);t=$(u,"P",{class:!0});var f=k(t);l=R(f,"Invalid Caching Layer (subgraph) Space Not Ready. Please Contact us on "),o=$(f,"A",{href:!0,class:!0});var m=k(o);n=R(m,"Discord"),m.forEach(d),r=R(f,"."),f.forEach(d),u.forEach(d),this.h()},h:function(){h(o,"href","https://discord.com/invite/Qb4gr2ekfr"),h(o,"class","underline s-9OL1OroF1py0"),v(o,ot,62,77,3264),h(t,"class","w-64 text-center rounded-bl-xl rounded-br-xl text-gray-200 bg-red-500 p-1 s-9OL1OroF1py0"),v(t,ot,61,4,3101),h(e,"class","w-full flex items-center justify-center fixed top-0 s-9OL1OroF1py0"),Je(e,"z-index","5"),v(e,ot,60,2,3011)},m:function(c,u){S(c,e,u),_(e,t),_(t,l),_(t,o),_(o,n),_(t,r)},p:ae,d:function(c){c&&d(e)}};return B("SvelteRegisterBlock",{block:s,id:Np.name,type:"if",source:"(60:0) {#if !$spaceQueryWithPendingActions.queryState.data?.loading && $spaceQueryWithPendingActions.queryState.data?.invalid}",ctx:i}),s}function Rr(i){let e,t;e=new ju({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Rr.name,type:"if",source:"(116:0) {#if $claimFlow.error || $claimFlow.step !== 'IDLE'}",ctx:i}),l}function Tr(i){let e,t;e=new _d({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Tr.name,type:"if",source:"(120:0) {#if $sendFlow.error || $sendFlow.step !== 'IDLE'}",ctx:i}),l}function Ar(i){let e,t;e=new Td({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Ar.name,type:"if",source:"(124:0) {#if $simulateFlow.error || $simulateFlow.step !== 'IDLE'}",ctx:i}),l}function Cr(i){let e,t;e=new Hm({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Cr.name,type:"if",source:"(128:0) {#if $resolveFlow.error || $resolveFlow.step !== 'IDLE'}",ctx:i}),l}function Or(i){let e,t;e=new Qd({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Or.name,type:"if",source:"(132:0) {#if $exitFlow.error || $exitFlow.step !== 'IDLE'}",ctx:i}),l}function Dr(i){let e,t;e=new gm({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Dr.name,type:"if",source:"(136:0) {#if $planetTransferFlow.error || $planetTransferFlow.step !== 'IDLE'}",ctx:i}),l}function Fr(i){let e,t;e=new ks({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Fr.name,type:"if",source:"(140:0) {#if $messageFlow.error || $messageFlow.step !== 'IDLE'}",ctx:i}),l}function Nr(i){let e,t;e=new op({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Nr.name,type:"if",source:"(144:0) {#if $showPlanetDepartures.error || $showPlanetDepartures.step !== 'IDLE'}",ctx:i}),l}function Lr(i){let e,t;e=new rp({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Lr.name,type:"if",source:"(148:0) {#if $privateWallet && $privateWallet.step === 'READY' && $myprofile && $myprofile.step === 'READY' && !$myprofile.account}",ctx:i}),l}function Lp(i){let e,t;e=new sp({$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:ae,i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Lp.name,type:"else",source:"(209:0) {:else}",ctx:i}),l}function jp(i){let e,t,l,o;e=new Da({props:{coords:i[14]},$$inline:!0}),l=new Cp({props:{location:Vt(i[14].x,i[14].y)},$$inline:!0});const n={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment)},l:function(s){G(e.$$.fragment,s),t=j(s),G(l.$$.fragment,s)},m:function(s,a){K(e,s,a),S(s,t,a),K(l,s,a),o=!0},p:function(s,a){const c={};a&16384&&(c.coords=s[14]),e.$set(c);const u={};a&16384&&(u.location=Vt(s[14].x,s[14].y)),l.$set(u)},i:function(s){o||(C(e.$$.fragment,s),C(l.$$.fragment,s),o=!0)},o:function(s){D(e.$$.fragment,s),D(l.$$.fragment,s),o=!1},d:function(s){q(e,s),s&&d(t),q(l,s)}};return B("SvelteRegisterBlock",{block:n,id:jp.name,type:"if",source:"(206:21) ",ctx:i}),n}function Vp(i){let e,t;e=new mo({props:{$$slots:{default:[Wp]},$$scope:{ctx:i}},$$inline:!0}),e.$on("mounted",i[17]),e.$on("close",i[18]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Vp.name,type:"if",source:"(178:141) ",ctx:i}),l}function Mp(i){let e,t;e=new mo({props:{disableClose:!0,$$slots:{default:[Yp]},$$scope:{ctx:i}},$$inline:!0}),e.$on("mounted",i[16]);const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&8392704&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Mp.name,type:"if",source:"(160:0) {#if contractsInfos.name === 'alpha' && $time < 1638871200}",ctx:i}),l}function Wp(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T=tt(be.exitDuration,{verbose:!0})+"",O,F,N,Y,H,M;m=new $t({props:{class:"inline w-4"},$$inline:!0});const W={c:function(){e=E("p"),t=I(`Welcome to
      `),l=E("span"),o=I("conquest.eth"),n=I(`
      a game of strategy and diplomacy running on
      `),r=E("a"),s=I("ethereum"),a=I("."),c=L(),u=E("p"),f=I(`To participate you'll have to first acquire planets by depositing a stake in form of
      `),U(m.$$.fragment),p=I(`
      (Play tokens).`),g=L(),b=E("p"),w=I(`These planets will then produce spaceships that you can use to attack other planets. You'll also have to make sure
      you have enough spaceships to protect your planets. It is a good idea to reach out to other player and plan
      strategies together.`),y=L(),P=E("p"),A=I(`At any time (whether you acquired the planet via staking or via attack), you can exit the planet. This take
      `),O=I(T),F=I(`
      during which you cannot use it but at the end of which you ll get the deposit, ready to be withdrawn.`),N=L(),Y=E("p"),H=I(`Be careful, even though your planet will continue to produce spaceships, you can lose it while waiting for the
      exit period to end.`),this.h()},l:function(V){e=$(V,"P",{class:!0});var Q=k(e);t=R(Q,`Welcome to
      `),l=$(Q,"SPAN",{class:!0});var z=k(l);o=R(z,"conquest.eth"),z.forEach(d),n=R(Q,`
      a game of strategy and diplomacy running on
      `),r=$(Q,"A",{href:!0,target:!0,class:!0});var ie=k(r);s=R(ie,"ethereum"),ie.forEach(d),a=R(Q,"."),Q.forEach(d),c=j(V),u=$(V,"P",{class:!0});var oe=k(u);f=R(oe,`To participate you'll have to first acquire planets by depositing a stake in form of
      `),G(m.$$.fragment,oe),p=R(oe,`
      (Play tokens).`),oe.forEach(d),g=j(V),b=$(V,"P",{class:!0});var ce=k(b);w=R(ce,`These planets will then produce spaceships that you can use to attack other planets. You'll also have to make sure
      you have enough spaceships to protect your planets. It is a good idea to reach out to other player and plan
      strategies together.`),ce.forEach(d),y=j(V),P=$(V,"P",{class:!0});var Z=k(P);A=R(Z,`At any time (whether you acquired the planet via staking or via attack), you can exit the planet. This take
      `),O=R(Z,T),F=R(Z,`
      during which you cannot use it but at the end of which you ll get the deposit, ready to be withdrawn.`),Z.forEach(d),N=j(V),Y=$(V,"P",{class:!0});var se=k(Y);H=R(se,`Be careful, even though your planet will continue to produce spaceships, you can lose it while waiting for the
      exit period to end.`),se.forEach(d),this.h()},h:function(){h(l,"class","text-cyan-600 s-9OL1OroF1py0"),v(l,ot,181,6,7583),h(r,"href","https://ethereum.org"),h(r,"target","_blank"),h(r,"class","text-cyan-100 s-9OL1OroF1py0"),v(r,ot,183,6,7687),h(e,"class","s-9OL1OroF1py0"),v(e,ot,179,4,7556),h(u,"class","mt-3 s-9OL1OroF1py0"),v(u,ot,185,4,7783),h(b,"class","mt-3 s-9OL1OroF1py0"),v(b,ot,190,4,7963),h(P,"class","mt-3 s-9OL1OroF1py0"),v(P,ot,195,4,8255),h(Y,"class","mt-3 s-9OL1OroF1py0"),v(Y,ot,200,4,8567)},m:function(V,Q){S(V,e,Q),_(e,t),_(e,l),_(l,o),_(e,n),_(e,r),_(r,s),_(e,a),S(V,c,Q),S(V,u,Q),_(u,f),K(m,u,null),_(u,p),S(V,g,Q),S(V,b,Q),_(b,w),S(V,y,Q),S(V,P,Q),_(P,A),_(P,O),_(P,F),S(V,N,Q),S(V,Y,Q),_(Y,H),M=!0},p:ae,i:function(V){M||(C(m.$$.fragment,V),M=!0)},o:function(V){D(m.$$.fragment,V),M=!1},d:function(V){V&&d(e),V&&d(c),V&&d(u),q(m),V&&d(g),V&&d(b),V&&d(y),V&&d(P),V&&d(N),V&&d(Y)}};return B("SvelteRegisterBlock",{block:W,id:Wp.name,type:"slot",source:"(179:2) <Banner on:mounted={() => selection.unselect()} on:close={() => account.recordWelcomingStep(TutorialSteps.WELCOME)}>",ctx:i}),W}function Yp(i){let e,t,l,o,n,r,s,a,c,u,f,m=Vr(1638871200-i[12])+"",p,g,b,w,y,P,A,T,O,F,N,Y;const H={c:function(){e=E("p"),t=I(`Welcome to
      `),l=E("span"),o=I("conquest.eth"),n=I(`
      a game of strategy and diplomacy running on
      `),r=E("a"),s=I("ethereum"),a=I("."),c=L(),u=E("p"),f=I("The alpha starts in "),p=I(m),g=I(". There will be "),b=E("span"),w=I("5000$"),y=I(`
      worth of rewards. See our various blog post on our
      `),P=E("a"),A=I("medium"),T=L(),O=E("p"),F=I("If you want to participate, just join our "),N=E("a"),Y=I("Discord"),this.h()},l:function(W){e=$(W,"P",{class:!0});var X=k(e);t=R(X,`Welcome to
      `),l=$(X,"SPAN",{class:!0});var V=k(l);o=R(V,"conquest.eth"),V.forEach(d),n=R(X,`
      a game of strategy and diplomacy running on
      `),r=$(X,"A",{href:!0,target:!0,class:!0});var Q=k(r);s=R(Q,"ethereum"),Q.forEach(d),a=R(X,"."),X.forEach(d),c=j(W),u=$(W,"P",{class:!0});var z=k(u);f=R(z,"The alpha starts in "),p=R(z,m),g=R(z,". There will be "),b=$(z,"SPAN",{class:!0});var ie=k(b);w=R(ie,"5000$"),ie.forEach(d),y=R(z,`
      worth of rewards. See our various blog post on our
      `),P=$(z,"A",{class:!0,href:!0});var oe=k(P);A=R(oe,"medium"),oe.forEach(d),z.forEach(d),T=j(W),O=$(W,"P",{class:!0});var ce=k(O);F=R(ce,"If you want to participate, just join our "),N=$(ce,"A",{class:!0,href:!0});var Z=k(N);Y=R(Z,"Discord"),Z.forEach(d),ce.forEach(d),this.h()},h:function(){h(l,"class","text-cyan-600 s-9OL1OroF1py0"),v(l,ot,163,6,6656),h(r,"href","https://ethereum.org"),h(r,"target","_blank"),h(r,"class","text-cyan-100 s-9OL1OroF1py0"),v(r,ot,165,6,6760),h(e,"class","s-9OL1OroF1py0"),v(e,ot,161,4,6629),h(b,"class","text-yellow-500 s-9OL1OroF1py0"),v(b,ot,168,73,6946),h(P,"class","underline s-9OL1OroF1py0"),h(P,"href","https://medium.com/@etherplay"),v(P,ot,170,6,7052),h(u,"class","mt-3 s-9OL1OroF1py0"),v(u,ot,167,4,6856),h(N,"class","underline s-9OL1OroF1py0"),h(N,"href","https://discord.gg/Qb4gr2ekfr"),v(N,ot,174,48,7200),h(O,"class","mt-3 s-9OL1OroF1py0"),v(O,ot,173,4,7135)},m:function(W,X){S(W,e,X),_(e,t),_(e,l),_(l,o),_(e,n),_(e,r),_(r,s),_(e,a),S(W,c,X),S(W,u,X),_(u,f),_(u,p),_(u,g),_(u,b),_(b,w),_(u,y),_(u,P),_(P,A),S(W,T,X),S(W,O,X),_(O,F),_(O,N),_(N,Y)},p:function(W,X){X&4096&&m!==(m=Vr(1638871200-W[12])+"")&&he(p,m)},d:function(W){W&&d(e),W&&d(c),W&&d(u),W&&d(T),W&&d(O)}};return B("SvelteRegisterBlock",{block:H,id:Yp.name,type:"slot",source:"(161:2) <Banner on:mounted={() => selection.unselect()} disableClose={true}>",ctx:i}),H}function jr(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M,W,X,V,Q,z,ie,oe,ce,Z,se,ee,fe,de,we,Pe,Ae,J,le,ge,Ce,Re,Te,Me,re,Ve,je,me,x,ue,Ke,at;e=new rc({$$inline:!0});function _e(nt,te){var Be,Tt,dt,yt,At,Dt,It;if(!((Be=nt[0].queryState.data)==null?void 0:Be.loading)&&((Tt=nt[0].queryState.data)==null?void 0:Tt.invalid))return Np;if(!((dt=nt[0].queryState.data)==null?void 0:dt.loading)&&((yt=nt[0].queryState.data)==null?void 0:yt.outofsync))return Fp;if(!((At=nt[0].queryState.data)==null?void 0:At.loading)&&!((Dt=nt[0].queryState.data)==null?void 0:Dt.space))return Dp;if(((It=nt[0].queryState.data)==null?void 0:It.loading)||nt[1].step==="LOADING")return Op}let Se=_e(i),Oe=Se&&Se(i);o=new vs({$$inline:!0}),s=new Um({$$inline:!0});let De=(i[2].error||i[2].step!=="IDLE")&&Rr(i),Ue=(i[3].error||i[3].step!=="IDLE")&&Tr(i),it=(i[4].error||i[4].step!=="IDLE")&&Ar(i),rt=(i[5].error||i[5].step!=="IDLE")&&Cr(i),Qe=(i[6].error||i[6].step!=="IDLE")&&Or(i),ut=(i[7].error||i[7].step!=="IDLE")&&Dr(i),st=(i[8].error||i[8].step!=="IDLE")&&Fr(i),ft=(i[9].error||i[9].step!=="IDLE")&&Nr(i),lt=i[10]&&i[10].step==="READY"&&i[11]&&i[11].step==="READY"&&!i[11].account&&Lr(i);const qe=[Mp,Vp,jp,Lp],Ge=[];function gt(nt,te){var Be;return te&8192&&(P=null),ao.name==="alpha"&&nt[12]<1638871200?0:(P==null&&(P=!!(nt[13].step==="READY"&&nt[13].remoteDisabledOrSynced&&!ws((Be=nt[13].data)==null?void 0:Be.welcomingStep,xo.WELCOME))),P?1:nt[14]?2:3)}A=gt(i,-1),T=Ge[A]=qe[A](i),Y=new ja({$$inline:!0}),M=new Ya({$$inline:!0}),X=new Ka({$$inline:!0});const bt={c:function(){U(e.$$.fragment),t=L(),Oe&&Oe.c(),l=L(),U(o.$$.fragment),n=L(),r=E("div"),U(s.$$.fragment),a=L(),De&&De.c(),c=L(),Ue&&Ue.c(),u=L(),it&&it.c(),f=L(),rt&&rt.c(),m=L(),Qe&&Qe.c(),p=L(),ut&&ut.c(),g=L(),st&&st.c(),b=L(),ft&&ft.c(),w=L(),lt&&lt.c(),y=L(),T.c(),O=L(),F=E("div"),N=E("div"),U(Y.$$.fragment),H=L(),U(M.$$.fragment),W=L(),U(X.$$.fragment),V=L(),Q=E("div"),z=E("div"),ie=E("p"),oe=E("input"),ce=I(" Fleet"),Z=L(),se=E("p"),ee=E("input"),fe=I(" alliances"),de=L(),we=E("p"),Pe=E("input"),Ae=I(" sectors"),J=L(),le=E("p"),ge=E("label"),Ce=I("Owners:"),Re=L(),Te=E("select"),Me=E("option"),re=I("Everyone "),Ve=E("option"),je=I("Your "),me=E("option"),x=I("Allies"),this.h()},l:function(te){G(e.$$.fragment,te),t=j(te),Oe&&Oe.l(te),l=j(te),G(o.$$.fragment,te),n=j(te),r=$(te,"DIV",{class:!0});var Be=k(r);G(s.$$.fragment,Be),Be.forEach(d),a=j(te),De&&De.l(te),c=j(te),Ue&&Ue.l(te),u=j(te),it&&it.l(te),f=j(te),rt&&rt.l(te),m=j(te),Qe&&Qe.l(te),p=j(te),ut&&ut.l(te),g=j(te),st&&st.l(te),b=j(te),ft&&ft.l(te),w=j(te),lt&&lt.l(te),y=j(te),T.l(te),O=j(te),F=$(te,"DIV",{class:!0});var Tt=k(F);N=$(Tt,"DIV",{class:!0});var dt=k(N);G(Y.$$.fragment,dt),H=j(dt),G(M.$$.fragment,dt),W=j(dt),G(X.$$.fragment,dt),V=j(dt),Q=$(dt,"DIV",{class:!0});var yt=k(Q);z=$(yt,"DIV",{class:!0});var At=k(z);ie=$(At,"P",{class:!0});var Dt=k(ie);oe=$(Dt,"INPUT",{type:!0,class:!0}),ce=R(Dt," Fleet"),Dt.forEach(d),Z=j(At),se=$(At,"P",{class:!0});var It=k(se);ee=$(It,"INPUT",{type:!0,class:!0}),fe=R(It," alliances"),It.forEach(d),de=j(At),we=$(At,"P",{class:!0});var Ut=k(we);Pe=$(Ut,"INPUT",{type:!0,class:!0}),Ae=R(Ut," sectors"),Ut.forEach(d),J=j(At),le=$(At,"P",{class:!0});var Gt=k(le);ge=$(Gt,"LABEL",{for:!0,class:!0});var sn=k(ge);Ce=R(sn,"Owners:"),sn.forEach(d),Re=j(Gt),Te=$(Gt,"SELECT",{id:!0,style:!0,class:!0});var xt=k(Te);Me=$(xt,"OPTION",{class:!0});var Cn=k(Me);re=R(Cn,"Everyone "),Cn.forEach(d),Ve=$(xt,"OPTION",{class:!0});var En=k(Ve);je=R(En,"Your "),En.forEach(d),me=$(xt,"OPTION",{class:!0});var On=k(me);x=R(On,"Allies"),On.forEach(d),xt.forEach(d),Gt.forEach(d),At.forEach(d),yt.forEach(d),dt.forEach(d),Tt.forEach(d),this.h()},h:function(){h(r,"class","absolute right-0 top-12 s-9OL1OroF1py0"),v(r,ot,111,0,5444),h(oe,"type","checkbox"),h(oe,"class","s-9OL1OroF1py0"),v(oe,ot,220,38,9296),h(ie,"class","text-white text-xs s-9OL1OroF1py0"),v(ie,ot,220,8,9266),h(ee,"type","checkbox"),h(ee,"class","s-9OL1OroF1py0"),v(ee,ot,221,38,9402),h(se,"class","text-white text-xs s-9OL1OroF1py0"),v(se,ot,221,8,9372),h(Pe,"type","checkbox"),h(Pe,"class","s-9OL1OroF1py0"),v(Pe,ot,222,38,9515),h(we,"class","text-white text-xs s-9OL1OroF1py0"),v(we,ot,222,8,9485),h(ge,"for","planetOwners"),h(ge,"class","s-9OL1OroF1py0"),v(ge,ot,224,10,9635),Me.__value="Everyone",Me.value=Me.__value,h(Me,"class","s-9OL1OroF1py0"),v(Me,ot,233,12,9892),Ve.__value="OnlyYou",Ve.value=Ve.__value,h(Ve,"class","s-9OL1OroF1py0"),v(Ve,ot,234,12,9949),me.__value="OnlyAllies",me.value=me.__value,h(me,"class","s-9OL1OroF1py0"),v(me,ot,235,12,10001),h(Te,"id","planetOwners"),h(Te,"style",`
              background: black;
              color: white;
          `),h(Te,"class","s-9OL1OroF1py0"),i[15].planetOwners===void 0&&is(()=>i[22].call(Te)),v(Te,ot,225,10,9687),h(le,"class","text-white text-xs s-9OL1OroF1py0"),v(le,ot,223,8,9594),h(z,"class","top-0 md:p-3 p-1 w-32 text-center relative bg-gray-900 bg-opacity-80 text-cyan-300 border-2 border-cyan-300 mt-4 text-sm s-9OL1OroF1py0"),v(z,ot,217,6,9107),h(Q,"class","flex-col s-9OL1OroF1py0"),v(Q,ot,216,4,9078),h(N,"class","md:flex  s-9OL1OroF1py0"),v(N,ot,212,2,8988),h(F,"class","flex right-0 bottom-0 md:top-0 absolute md:right-1/4 lists s-9OL1OroF1py0"),v(F,ot,211,0,8913)},m:function(te,Be){K(e,te,Be),S(te,t,Be),Oe&&Oe.m(te,Be),S(te,l,Be),K(o,te,Be),S(te,n,Be),S(te,r,Be),K(s,r,null),S(te,a,Be),De&&De.m(te,Be),S(te,c,Be),Ue&&Ue.m(te,Be),S(te,u,Be),it&&it.m(te,Be),S(te,f,Be),rt&&rt.m(te,Be),S(te,m,Be),Qe&&Qe.m(te,Be),S(te,p,Be),ut&&ut.m(te,Be),S(te,g,Be),st&&st.m(te,Be),S(te,b,Be),ft&&ft.m(te,Be),S(te,w,Be),lt&&lt.m(te,Be),S(te,y,Be),Ge[A].m(te,Be),S(te,O,Be),S(te,F,Be),_(F,N),K(Y,N,null),_(N,H),K(M,N,null),_(N,W),K(X,N,null),_(N,V),_(N,Q),_(Q,z),_(z,ie),_(ie,oe),oe.checked=i[15].fleets,_(ie,ce),_(z,Z),_(z,se),_(se,ee),ee.checked=i[15].alliances,_(se,fe),_(z,de),_(z,we),_(we,Pe),Pe.checked=i[15].sectors,_(we,Ae),_(z,J),_(z,le),_(le,ge),_(ge,Ce),_(le,Re),_(le,Te),_(Te,Me),_(Me,re),_(Te,Ve),_(Ve,je),_(Te,me),_(me,x),Bo(Te,i[15].planetOwners),ue=!0,Ke||(at=[Ze(oe,"change",i[19]),Ze(ee,"change",i[20]),Ze(Pe,"change",i[21]),Ze(Te,"change",i[22])],Ke=!0)},p:function(te,[Be]){Se===(Se=_e(te))&&Oe?Oe.p(te,Be):(Oe&&Oe.d(1),Oe=Se&&Se(te),Oe&&(Oe.c(),Oe.m(l.parentNode,l))),te[2].error||te[2].step!=="IDLE"?De?Be&4&&C(De,1):(De=Rr(te),De.c(),C(De,1),De.m(c.parentNode,c)):De&&(Ee(),D(De,1,1,()=>{De=null}),$e()),te[3].error||te[3].step!=="IDLE"?Ue?Be&8&&C(Ue,1):(Ue=Tr(te),Ue.c(),C(Ue,1),Ue.m(u.parentNode,u)):Ue&&(Ee(),D(Ue,1,1,()=>{Ue=null}),$e()),te[4].error||te[4].step!=="IDLE"?it?Be&16&&C(it,1):(it=Ar(te),it.c(),C(it,1),it.m(f.parentNode,f)):it&&(Ee(),D(it,1,1,()=>{it=null}),$e()),te[5].error||te[5].step!=="IDLE"?rt?Be&32&&C(rt,1):(rt=Cr(te),rt.c(),C(rt,1),rt.m(m.parentNode,m)):rt&&(Ee(),D(rt,1,1,()=>{rt=null}),$e()),te[6].error||te[6].step!=="IDLE"?Qe?Be&64&&C(Qe,1):(Qe=Or(te),Qe.c(),C(Qe,1),Qe.m(p.parentNode,p)):Qe&&(Ee(),D(Qe,1,1,()=>{Qe=null}),$e()),te[7].error||te[7].step!=="IDLE"?ut?Be&128&&C(ut,1):(ut=Dr(te),ut.c(),C(ut,1),ut.m(g.parentNode,g)):ut&&(Ee(),D(ut,1,1,()=>{ut=null}),$e()),te[8].error||te[8].step!=="IDLE"?st?Be&256&&C(st,1):(st=Fr(te),st.c(),C(st,1),st.m(b.parentNode,b)):st&&(Ee(),D(st,1,1,()=>{st=null}),$e()),te[9].error||te[9].step!=="IDLE"?ft?Be&512&&C(ft,1):(ft=Nr(te),ft.c(),C(ft,1),ft.m(w.parentNode,w)):ft&&(Ee(),D(ft,1,1,()=>{ft=null}),$e()),te[10]&&te[10].step==="READY"&&te[11]&&te[11].step==="READY"&&!te[11].account?lt?Be&3072&&C(lt,1):(lt=Lr(te),lt.c(),C(lt,1),lt.m(y.parentNode,y)):lt&&(Ee(),D(lt,1,1,()=>{lt=null}),$e());let Tt=A;A=gt(te,Be),A===Tt?Ge[A].p(te,Be):(Ee(),D(Ge[Tt],1,1,()=>{Ge[Tt]=null}),$e(),T=Ge[A],T?T.p(te,Be):(T=Ge[A]=qe[A](te),T.c()),C(T,1),T.m(O.parentNode,O)),Be&32768&&(oe.checked=te[15].fleets),Be&32768&&(ee.checked=te[15].alliances),Be&32768&&(Pe.checked=te[15].sectors),Be&32768&&Bo(Te,te[15].planetOwners)},i:function(te){ue||(C(e.$$.fragment,te),C(o.$$.fragment,te),C(s.$$.fragment,te),C(De),C(Ue),C(it),C(rt),C(Qe),C(ut),C(st),C(ft),C(lt),C(T),C(Y.$$.fragment,te),C(M.$$.fragment,te),C(X.$$.fragment,te),ue=!0)},o:function(te){D(e.$$.fragment,te),D(o.$$.fragment,te),D(s.$$.fragment,te),D(De),D(Ue),D(it),D(rt),D(Qe),D(ut),D(st),D(ft),D(lt),D(T),D(Y.$$.fragment,te),D(M.$$.fragment,te),D(X.$$.fragment,te),ue=!1},d:function(te){q(e,te),te&&d(t),Oe&&Oe.d(te),te&&d(l),q(o,te),te&&d(n),te&&d(r),q(s),te&&d(a),De&&De.d(te),te&&d(c),Ue&&Ue.d(te),te&&d(u),it&&it.d(te),te&&d(f),rt&&rt.d(te),te&&d(m),Qe&&Qe.d(te),te&&d(p),ut&&ut.d(te),te&&d(g),st&&st.d(te),te&&d(b),ft&&ft.d(te),te&&d(w),lt&&lt.d(te),te&&d(y),Ge[A].d(te),te&&d(O),te&&d(F),q(Y),q(M),q(X),Ke=!1,_n(at)}};return B("SvelteRegisterBlock",{block:bt,id:jr.name,type:"component",source:"",ctx:i}),bt}function Vr(i){return i<120?`${i} seconds`:i<7200?`${Math.floor(i/60)} minutes and ${i%60} seconds`:`${Math.floor(i/60/60)} hours and ${Math.floor(i%3600/60)} minutes`}function C1(i,e,t){let l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P;ve(Jn,"spaceQueryWithPendingActions"),ke(i,Jn,V=>t(0,l=V)),ve(Yt,"fleetList"),ke(i,Yt,V=>t(1,o=V)),ve(Ht,"claimFlow"),ke(i,Ht,V=>t(2,n=V)),ve(Xe,"sendFlow"),ke(i,Xe,V=>t(3,r=V)),ve(Ot,"simulateFlow"),ke(i,Ot,V=>t(4,s=V)),ve(Nt,"resolveFlow"),ke(i,Nt,V=>t(5,a=V)),ve(jt,"exitFlow"),ke(i,jt,V=>t(6,c=V)),ve(Wt,"planetTransferFlow"),ke(i,Wt,V=>t(7,u=V)),ve(Dn,"messageFlow"),ke(i,Dn,V=>t(8,f=V)),ve(Xt,"showPlanetDepartures"),ke(i,Xt,V=>t(9,m=V)),ve(an,"privateWallet"),ke(i,an,V=>t(10,p=V)),ve(co,"myprofile"),ke(i,co,V=>t(11,g=V)),ve(cn,"time"),ke(i,cn,V=>t(12,b=V)),ve(zt,"account"),ke(i,zt,V=>t(13,w=V)),ve(pt,"selection"),ke(i,pt,V=>t(14,y=V)),ve(rn,"overlays"),ke(i,rn,V=>t(15,P=V));let{$$slots:A={},$$scope:T}=e;He("MapScreen",A,[]);const O=[];Object.keys(e).forEach(V=>{!~O.indexOf(V)&&V.slice(0,2)!=="$$"&&V!=="slot"&&console.warn(`<MapScreen> was created with unknown prop '${V}'`)});const F=()=>pt.unselect(),N=()=>pt.unselect(),Y=()=>zt.recordWelcomingStep(xo.WELCOME);function H(){P.fleets=this.checked,rn.set(P)}function M(){P.alliances=this.checked,rn.set(P)}function W(){P.sectors=this.checked,rn.set(P)}function X(){P.planetOwners=ns(this),rn.set(P)}return i.$capture_state=()=>({Map:rc,ConnectPanel:vs,account:zt,TutorialSteps:xo,Banner:mo,bitMaskMatch:ws,timeToText:tt,PlayCoin:$t,spaceInfo:be,selection:pt,PlanetInfoPanel:Da,PlanetsListPanel:ja,FleetsList:Ya,EventsList:Ka,claimFlow:Ht,ClaimFlow:ju,sendFlow:Xe,SendFlow:_d,simulateFlow:Ot,SimulateFlow:Td,exitFlow:jt,ExitFlow:Qd,planetTransferFlow:Wt,PlanetTransferFlow:gm,resolveFlow:Nt,ResolveFlow:Hm,FleetsToResolve:Um,spaceQueryWithPendingActions:Jn,messageFlow:Dn,MessageFlow:ks,showPlanetDepartures:Xt,ShowPlanetDeparturesFlow:op,myprofile:co,FirstTimeProfile:rp,privateWallet:an,fleetList:Yt,contractsInfos:ao,time:cn,Search:sp,PlanetEventList:Cp,xyToLocation:Vt,overlays:rn,time2text:Vr,$spaceQueryWithPendingActions:l,$fleetList:o,$claimFlow:n,$sendFlow:r,$simulateFlow:s,$resolveFlow:a,$exitFlow:c,$planetTransferFlow:u,$messageFlow:f,$showPlanetDepartures:m,$privateWallet:p,$myprofile:g,$time:b,$account:w,$selection:y,$overlays:P}),[l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,F,N,Y,H,M,W,X]}class zp extends We{constructor(e){super(e);Ye(this,e,C1,jr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"MapScreen",options:e,id:jr.name})}}const wt="src/lib/screens/tokenClaim/ClaimTokenScreen.svelte";function Mr(i){let e,t,l,o,n,r,s,a,c,u,f,m;const p=[Up,Xp,Hp],g=[];function b(y,P){return y[0].error?0:y[1].state==="Ready"?1:2}u=b(i),f=g[u]=p[u](i);const w={c:function(){e=E("div"),t=E("div"),l=E("div"),o=E("div"),n=I("Welcome to conquest.eth"),r=L(),s=E("div"),a=L(),c=E("div"),f.c(),this.h()},l:function(P){e=$(P,"DIV",{class:!0});var A=k(e);t=$(A,"DIV",{class:!0});var T=k(t);l=$(T,"DIV",{class:!0});var O=k(l);o=$(O,"DIV",{class:!0});var F=k(o);n=R(F,"Welcome to conquest.eth"),F.forEach(d),r=j(O),s=$(O,"DIV",{class:!0}),k(s).forEach(d),O.forEach(d),T.forEach(d),a=j(A),c=$(A,"DIV",{class:!0});var N=k(c);f.l(N),N.forEach(d),A.forEach(d),this.h()},h:function(){h(o,"class","sm:text-center sm:px-16 text-cyan-300 text-center"),v(o,wt,12,8,602),h(s,"class","absolute inset-y-0 right-0 pt-1 pr-1 flex items-start sm:pt-1 sm:pr-2 sm:items-start"),v(s,wt,13,8,703),h(l,"class","max-w-screen-xl mx-auto py-3 px-3 sm:px-6 lg:px-8"),v(l,wt,11,6,530),h(t,"class","relative bg-gray-900 border-2 border-cyan-300 top-1 mx-1"),v(t,wt,10,4,453),h(c,"class","justify-center mt-10 text-center text-white"),v(c,wt,16,4,832),h(e,"class","fixed z-40 inset-0 overflow-y-auto bg-black"),v(e,wt,9,2,391)},m:function(P,A){S(P,e,A),_(e,t),_(t,l),_(l,o),_(o,n),_(l,r),_(l,s),_(e,a),_(e,c),g[u].m(c,null),m=!0},p:function(P,A){let T=u;u=b(P),u===T?g[u].p(P,A):(Ee(),D(g[T],1,1,()=>{g[T]=null}),$e(),f=g[u],f?f.p(P,A):(f=g[u]=p[u](P),f.c()),C(f,1),f.m(c,null))},i:function(P){m||(C(f),m=!0)},o:function(P){D(f),m=!1},d:function(P){P&&d(e),g[u].d()}};return B("SvelteRegisterBlock",{block:w,id:Mr.name,type:"if",source:"(9:0) {#if $tokenClaim.inUrl}",ctx:i}),w}function Hp(i){let e,t,l,o,n,r,s,a;s=new ye({props:{class:"mt-4",label:"connect",$$slots:{default:[Gp]},$$scope:{ctx:i}},$$inline:!0}),s.$on("click",i[8]);const c={c:function(){e=E("p"),t=I("Congratulations! You have been given some tokens to claim."),l=L(),o=E("p"),n=I("Please connect to your wallet"),r=L(),U(s.$$.fragment),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,"Congratulations! You have been given some tokens to claim."),m.forEach(d),l=j(f),o=$(f,"P",{class:!0});var p=k(o);n=R(p,"Please connect to your wallet"),p.forEach(d),r=j(f),G(s.$$.fragment,f),this.h()},h:function(){h(e,"class","text-green-500"),v(e,wt,79,8,4167),h(o,"class","m-5"),v(o,wt,80,8,4264)},m:function(f,m){S(f,e,m),_(e,t),S(f,l,m),S(f,o,m),_(o,n),S(f,r,m),K(s,f,m),a=!0},p:function(f,m){const p={};m&512&&(p.$$scope={dirty:m,ctx:f}),s.$set(p)},i:function(f){a||(C(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&d(e),f&&d(l),f&&d(o),f&&d(r),q(s,f)}};return B("SvelteRegisterBlock",{block:c,id:Hp.name,type:"else",source:"(79:6) {:else}",ctx:i}),c}function Xp(i){let e,t,l,o,n,r,s,a=i[1].address+"",c,u,f,m,p,g;n=new mn({props:{class:"inline-block w-12 h-12",address:i[1].address},$$inline:!0});const b=[th,eh,xp,Zp,Jp,Qp,qp,Kp],w=[];function y(A,T){return A[2].notSupported?0:A[0].state==="Loading"?1:A[0].state==="Available"?2:A[0].state==="SettingUpClaim"?3:A[0].state==="Claiming"?4:A[0].state==="Claimed"?5:A[0].state==="AlreadyClaimedAnother"?6:A[0].state==="AlreadyClaimed"?7:-1}~(f=y(i))&&(m=w[f]=b[f](i));const P={c:function(){e=E("p"),t=I("Hello"),l=L(),o=E("p"),U(n.$$.fragment),r=L(),s=E("p"),c=I(a),u=L(),m&&m.c(),p=pe(),this.h()},l:function(T){e=$(T,"P",{});var O=k(e);t=R(O,"Hello"),O.forEach(d),l=j(T),o=$(T,"P",{});var F=k(o);G(n.$$.fragment,F),F.forEach(d),r=j(T),s=$(T,"P",{});var N=k(s);c=R(N,a),N.forEach(d),u=j(T),m&&m.l(T),p=pe(),this.h()},h:function(){v(e,wt,21,8,1130),v(o,wt,22,8,1151),v(s,wt,23,8,1235)},m:function(T,O){S(T,e,O),_(e,t),S(T,l,O),S(T,o,O),K(n,o,null),S(T,r,O),S(T,s,O),_(s,c),S(T,u,O),~f&&w[f].m(T,O),S(T,p,O),g=!0},p:function(T,O){const F={};O&2&&(F.address=T[1].address),n.$set(F),(!g||O&2)&&a!==(a=T[1].address+"")&&he(c,a);let N=f;f=y(T),f===N?~f&&w[f].p(T,O):(m&&(Ee(),D(w[N],1,1,()=>{w[N]=null}),$e()),~f?(m=w[f],m?m.p(T,O):(m=w[f]=b[f](T),m.c()),C(m,1),m.m(p.parentNode,p)):m=null)},i:function(T){g||(C(n.$$.fragment,T),C(m),g=!0)},o:function(T){D(n.$$.fragment,T),D(m),g=!1},d:function(T){T&&d(e),T&&d(l),T&&d(o),q(n),T&&d(r),T&&d(s),T&&d(u),~f&&w[f].d(T),T&&d(p)}};return B("SvelteRegisterBlock",{block:P,id:Xp.name,type:"if",source:"(21:42) ",ctx:i}),P}function Up(i){let e,t=i[0].error+"",l,o,n,r;n=new ye({props:{class:"mt-4",label:"ok",$$slots:{default:[sh]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[3]);const s={c:function(){e=E("p"),l=I(t),o=L(),U(n.$$.fragment),this.h()},l:function(c){e=$(c,"P",{class:!0});var u=k(e);l=R(u,t),u.forEach(d),o=j(c),G(n.$$.fragment,c),this.h()},h:function(){h(e,"class","m-5 text-red-500"),v(e,wt,18,8,928)},m:function(c,u){S(c,e,u),_(e,l),S(c,o,u),K(n,c,u),r=!0},p:function(c,u){(!r||u&1)&&t!==(t=c[0].error+"")&&he(l,t);const f={};u&512&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i:function(c){r||(C(n.$$.fragment,c),r=!0)},o:function(c){D(n.$$.fragment,c),r=!1},d:function(c){c&&d(e),c&&d(o),q(n,c)}};return B("SvelteRegisterBlock",{block:s,id:Up.name,type:"if",source:"(18:6) {#if $tokenClaim.error}",ctx:i}),s}function Gp(i){let e;const t={c:function(){e=I("Connect")},l:function(o){e=R(o,"Connect")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:Gp.name,type:"slot",source:'(82:8) <Button class=\\"mt-4\\" label=\\"connect\\" on:click={() => privateWallet.login()}>',ctx:i}),t}function Kp(i){let e,t,l,o,n;o=new ye({props:{class:"mt-4",label:"continue",$$slots:{default:[nh]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[7]);const r={c:function(){e=E("p"),t=I("The tokens have already been claimed. No more tokens to be given."),l=L(),U(o.$$.fragment),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"The tokens have already been claimed. No more tokens to be given."),c.forEach(d),l=j(a),G(o.$$.fragment,a),this.h()},h:function(){h(e,"class","m-5 text-red-500"),v(e,wt,75,10,3928)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),K(o,a,c),n=!0},p:function(a,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),o.$set(u)},i:function(a){n||(C(o.$$.fragment,a),n=!0)},o:function(a){D(o.$$.fragment,a),n=!1},d:function(a){a&&d(e),a&&d(l),q(o,a)}};return B("SvelteRegisterBlock",{block:r,id:Kp.name,type:"if",source:"(75:57) ",ctx:i}),r}function qp(i){let e,t,l,o,n;o=new ye({props:{class:"mt-4",label:"continue",$$slots:{default:[oh]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[6]);const r={c:function(){e=E("p"),t=I(`You already claimed tokens at this address. To ensure fairness, you should not be using multiple accounts or
            claim keys.`),l=L(),U(o.$$.fragment),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,`You already claimed tokens at this address. To ensure fairness, you should not be using multiple accounts or
            claim keys.`),c.forEach(d),l=j(a),G(o.$$.fragment,a),this.h()},h:function(){h(e,"class","m-5 text-red-500"),v(e,wt,69,10,3566)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),K(o,a,c),n=!0},p:function(a,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),o.$set(u)},i:function(a){n||(C(o.$$.fragment,a),n=!0)},o:function(a){D(o.$$.fragment,a),n=!1},d:function(a){a&&d(e),a&&d(l),q(o,a)}};return B("SvelteRegisterBlock",{block:r,id:qp.name,type:"if",source:"(69:64) ",ctx:i}),r}function Qp(i){let e,t,l,o,n;o=new ye({props:{class:"mt-4",label:"continue",$$slots:{default:[lh]},$$scope:{ctx:i}},$$inline:!0}),o.$on("click",i[5]);const r={c:function(){e=E("p"),t=I("The tokens are now yours!"),l=L(),U(o.$$.fragment),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"The tokens are now yours!"),c.forEach(d),l=j(a),G(o.$$.fragment,a),this.h()},h:function(){h(e,"class","m-5 text-green-500"),v(e,wt,66,10,3326)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),K(o,a,c),n=!0},p:function(a,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),o.$set(u)},i:function(a){n||(C(o.$$.fragment,a),n=!0)},o:function(a){D(o.$$.fragment,a),n=!1},d:function(a){a&&d(e),a&&d(l),q(o,a)}};return B("SvelteRegisterBlock",{block:r,id:Qp.name,type:"if",source:"(66:50) ",ctx:i}),r}function Jp(i){let e,t,l,o,n=i[0].txHash&&Wr(i);const r={c:function(){e=E("p"),t=I("Please wait while the claim is being executed..."),l=L(),n&&n.c(),o=pe(),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"Please wait while the claim is being executed..."),c.forEach(d),l=j(a),n&&n.l(a),o=pe(),this.h()},h:function(){h(e,"class","mt-5"),v(e,wt,55,10,2854)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),n&&n.m(a,c),S(a,o,c)},p:function(a,c){a[0].txHash?n?n.p(a,c):(n=Wr(a),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},i:ae,o:ae,d:function(a){a&&d(e),a&&d(l),n&&n.d(a),a&&d(o)}};return B("SvelteRegisterBlock",{block:r,id:Jp.name,type:"if",source:"(55:51) ",ctx:i}),r}function Zp(i){let e,t,l,o,n=i[0].txHash&&Yr(i);const r={c:function(){e=E("p"),t=I("Please wait while the claim is being executed..."),l=L(),n&&n.c(),o=pe(),this.h()},l:function(a){e=$(a,"P",{class:!0});var c=k(e);t=R(c,"Please wait while the claim is being executed..."),c.forEach(d),l=j(a),n&&n.l(a),o=pe(),this.h()},h:function(){h(e,"class","mt-5"),v(e,wt,44,10,2381)},m:function(a,c){S(a,e,c),_(e,t),S(a,l,c),n&&n.m(a,c),S(a,o,c)},p:function(a,c){a[0].txHash?n?n.p(a,c):(n=Yr(a),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},i:ae,o:ae,d:function(a){a&&d(e),a&&d(l),n&&n.d(a),a&&d(o)}};return B("SvelteRegisterBlock",{block:r,id:Zp.name,type:"if",source:"(44:57) ",ctx:i}),r}function xp(i){let e,t,l,o,n,r,s,a;s=new ye({props:{class:"mt-4",label:"claim",$$slots:{default:[ih]},$$scope:{ctx:i}},$$inline:!0}),s.$on("click",i[4]);const c={c:function(){e=E("p"),t=I("Congratulations! You have been given some tokens to claim."),l=L(),o=E("p"),n=I(`Each token is worth 1 XDAI, but can only be redeemed back to XDAI after having the token stay ingame more
            than 6 days`),r=L(),U(s.$$.fragment),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,"Congratulations! You have been given some tokens to claim."),m.forEach(d),l=j(f),o=$(f,"P",{class:!0});var p=k(o);n=R(p,`Each token is worth 1 XDAI, but can only be redeemed back to XDAI after having the token stay ingame more
            than 6 days`),p.forEach(d),r=j(f),G(s.$$.fragment,f),this.h()},h:function(){h(e,"class","text-green-500"),v(e,wt,37,10,1934),h(o,"class","text-green-500"),v(o,wt,38,10,2033)},m:function(f,m){S(f,e,m),_(e,t),S(f,l,m),S(f,o,m),_(o,n),S(f,r,m),K(s,f,m),a=!0},p:function(f,m){const p={};m&512&&(p.$$scope={dirty:m,ctx:f}),s.$set(p)},i:function(f){a||(C(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&d(e),f&&d(l),f&&d(o),f&&d(r),q(s,f)}};return B("SvelteRegisterBlock",{block:c,id:xp.name,type:"if",source:"(37:52) ",ctx:i}),c}function eh(i){let e,t,l,o,n,r,s,a;const c={c:function(){e=E("p"),t=I("Congratulations! You have been given some tokens to claim."),l=L(),o=E("p"),n=I(`Each token is worth 1 XDAI, but can only be redeemed back to XDAI after having the token stay ingame more
            than 6 days`),r=L(),s=E("p"),a=I("Loading claim..."),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,"Congratulations! You have been given some tokens to claim."),m.forEach(d),l=j(f),o=$(f,"P",{class:!0});var p=k(o);n=R(p,`Each token is worth 1 XDAI, but can only be redeemed back to XDAI after having the token stay ingame more
            than 6 days`),p.forEach(d),r=j(f),s=$(f,"P",{class:!0});var g=k(s);a=R(g,"Loading claim..."),g.forEach(d),this.h()},h:function(){h(e,"class","text-green-500"),v(e,wt,30,10,1541),h(o,"class","text-green-500"),v(o,wt,31,10,1640),h(s,"class","mt-5"),v(s,wt,35,10,1834)},m:function(f,m){S(f,e,m),_(e,t),S(f,l,m),S(f,o,m),_(o,n),S(f,r,m),S(f,s,m),_(s,a)},p:ae,i:ae,o:ae,d:function(f){f&&d(e),f&&d(l),f&&d(o),f&&d(r),f&&d(s)}};return B("SvelteRegisterBlock",{block:c,id:eh.name,type:"if",source:"(30:50) ",ctx:i}),c}function th(i){let e,t,l,o,n,r,s,a;s=new ye({props:{label:"Unlock Wallet",$$slots:{default:[rh]},$$scope:{ctx:i}},$$inline:!0}),s.$on("click",gs);const c={c:function(){e=E("p"),t=I("Please switch to "),l=I(Xo),o=I("."),n=L(),r=E("div"),U(s.$$.fragment),this.h()},l:function(f){e=$(f,"P",{class:!0});var m=k(e);t=R(m,"Please switch to "),l=R(m,Xo),o=R(m,"."),m.forEach(d),n=j(f),r=$(f,"DIV",{});var p=k(r);G(s.$$.fragment,p),p.forEach(d),this.h()},h:function(){h(e,"class","m-5 text-red-500"),v(e,wt,25,10,1304),v(r,wt,26,10,1376)},m:function(f,m){S(f,e,m),_(e,t),_(e,l),_(e,o),S(f,n,m),S(f,r,m),K(s,r,null),a=!0},p:function(f,m){const p={};m&512&&(p.$$scope={dirty:m,ctx:f}),s.$set(p)},i:function(f){a||(C(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&d(e),f&&d(n),f&&d(r),q(s)}};return B("SvelteRegisterBlock",{block:c,id:th.name,type:"if",source:"(25:8) {#if $chain.notSupported}",ctx:i}),c}function nh(i){let e;const t={c:function(){e=I("Continue")},l:function(o){e=R(o,"Continue")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:nh.name,type:"slot",source:'(77:10) <Button class=\\"mt-4\\" label=\\"continue\\" on:click={() => tokenClaim.clearURL()}>',ctx:i}),t}function oh(i){let e;const t={c:function(){e=I("Continue")},l:function(o){e=R(o,"Continue")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:oh.name,type:"slot",source:'(74:10) <Button class=\\"mt-4\\" label=\\"continue\\" on:click={() => tokenClaim.clearURL()}>',ctx:i}),t}function lh(i){let e;const t={c:function(){e=I("Continue")},l:function(o){e=R(o,"Continue")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:lh.name,type:"slot",source:'(68:10) <Button class=\\"mt-4\\" label=\\"continue\\" on:click={() => tokenClaim.clearURL()}>',ctx:i}),t}function Wr(i){let e,t,l=i[0].txHash+"",o,n;const r={c:function(){e=E("p"),t=E("a"),o=I(l),this.h()},l:function(a){e=$(a,"P",{});var c=k(e);t=$(c,"A",{href:!0,target:!0,class:!0});var u=k(t);o=R(u,l),u.forEach(d),c.forEach(d),this.h()},h:function(){h(t,"href",n=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${i[0].txHash}`),h(t,"target","_blank"),h(t,"class","text-indigo-600 hover:text-indigo-100 underline"),v(t,wt,58,14,2988),v(e,wt,57,12,2970)},m:function(a,c){S(a,e,c),_(e,t),_(t,o)},p:function(a,c){c&1&&l!==(l=a[0].txHash+"")&&he(o,l),c&1&&n!==(n=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${a[0].txHash}`)&&h(t,"href",n)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Wr.name,type:"if",source:"(57:10) {#if $tokenClaim.txHash}",ctx:i}),r}function Yr(i){let e,t,l=i[0].txHash+"",o,n;const r={c:function(){e=E("p"),t=E("a"),o=I(l),this.h()},l:function(a){e=$(a,"P",{});var c=k(e);t=$(c,"A",{href:!0,target:!0,class:!0});var u=k(t);o=R(u,l),u.forEach(d),c.forEach(d),this.h()},h:function(){h(t,"href",n=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${i[0].txHash}`),h(t,"target","_blank"),h(t,"class","text-indigo-600 hover:text-indigo-100 underline"),v(t,wt,47,14,2515),v(e,wt,46,12,2497)},m:function(a,c){S(a,e,c),_(e,t),_(t,o)},p:function(a,c){c&1&&l!==(l=a[0].txHash+"")&&he(o,l),c&1&&n!==(n=`${{}.VITE_BLOCK_EXPLORER_TRANSACTION}${a[0].txHash}`)&&h(t,"href",n)},d:function(a){a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Yr.name,type:"if",source:"(46:10) {#if $tokenClaim.txHash}",ctx:i}),r}function ih(i){let e;const t={c:function(){e=I("Claim")},l:function(o){e=R(o,"Claim")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:ih.name,type:"slot",source:'(43:10) <Button class=\\"mt-4\\" label=\\"claim\\" on:click={() => tokenClaim.claim()}>',ctx:i}),t}function rh(i){let e;const t={c:function(){e=I("Switch")},l:function(o){e=R(o,"Switch")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:rh.name,type:"slot",source:'(28:12) <Button label=\\"Unlock Wallet\\" on:click={switchChain}>',ctx:i}),t}function sh(i){let e;const t={c:function(){e=I("ok")},l:function(o){e=R(o,"ok")},m:function(o,n){S(o,e,n)},d:function(o){o&&d(e)}};return B("SvelteRegisterBlock",{block:t,id:sh.name,type:"slot",source:'(20:8) <Button class=\\"mt-4\\" label=\\"ok\\" on:click={() => tokenClaim.acknowledgeError()}>',ctx:i}),t}function zr(i){let e,t,l=i[0].inUrl&&Mr(i);const o={c:function(){l&&l.c(),e=pe()},l:function(r){l&&l.l(r),e=pe()},m:function(r,s){l&&l.m(r,s),S(r,e,s),t=!0},p:function(r,[s]){r[0].inUrl?l?(l.p(r,s),s&1&&C(l,1)):(l=Mr(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Ee(),D(l,1,1,()=>{l=null}),$e())},i:function(r){t||(C(l),t=!0)},o:function(r){D(l),t=!1},d:function(r){l&&l.d(r),r&&d(e)}};return B("SvelteRegisterBlock",{block:o,id:zr.name,type:"component",source:"",ctx:i}),o}function O1(i,e,t){let l,o,n;ve(Pn,"tokenClaim"),ke(i,Pn,b=>t(0,l=b)),ve(St,"wallet"),ke(i,St,b=>t(1,o=b)),ve(Jo,"chain"),ke(i,Jo,b=>t(2,n=b));let{$$slots:r={},$$scope:s}=e;He("ClaimTokenScreen",r,[]);const a=[];Object.keys(e).forEach(b=>{!~a.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<ClaimTokenScreen> was created with unknown prop '${b}'`)});const c=()=>Pn.acknowledgeError(),u=()=>Pn.claim(),f=()=>Pn.clearURL(),m=()=>Pn.clearURL(),p=()=>Pn.clearURL(),g=()=>an.login();return i.$capture_state=()=>({tokenClaim:Pn,wallet:St,chain:Jo,switchChain:gs,Button:ye,chainName:Xo,privateWallet:an,Blockie:mn,$tokenClaim:l,$wallet:o,$chain:n}),[l,o,n,c,u,f,m,p,g]}class ch extends We{constructor(e){super(e);Ye(this,e,O1,zr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"ClaimTokenScreen",options:e,id:zr.name})}}const{Object:D1,console:Lo}=jo,ln="src/lib/plugins/IFramePlugin.svelte";function Hr(i){let e,t,l,o,n,r,s,a,c,u,f,m,p,g,b,w,y,P,A,T,O,F,N,Y,H,M;const W={c:function(){e=E("div"),t=E("div"),l=L(),o=E("div"),n=E("div"),r=Fe("svg"),s=Fe("path"),a=L(),c=E("span"),u=I("(Esc)"),f=L(),m=E("div"),p=E("div"),g=E("p"),b=I("PLUGIN: "),w=I(i[1]),y=L(),P=E("div"),A=Fe("svg"),T=Fe("path"),O=L(),F=E("iframe"),this.h()},l:function(V){e=$(V,"DIV",{class:!0});var Q=k(e);t=$(Q,"DIV",{class:!0}),k(t).forEach(d),l=j(Q),o=$(Q,"DIV",{class:!0});var z=k(o);n=$(z,"DIV",{class:!0});var ie=k(n);r=Ne(ie,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var oe=k(r);s=Ne(oe,"path",{d:!0}),k(s).forEach(d),oe.forEach(d),a=j(ie),c=$(ie,"SPAN",{class:!0});var ce=k(c);u=R(ce,"(Esc)"),ce.forEach(d),ie.forEach(d),f=j(z),m=$(z,"DIV",{class:!0});var Z=k(m);p=$(Z,"DIV",{class:!0});var se=k(p);g=$(se,"P",{class:!0});var ee=k(g);b=R(ee,"PLUGIN: "),w=R(ee,i[1]),ee.forEach(d),y=j(se),P=$(se,"DIV",{class:!0});var fe=k(P);A=Ne(fe,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var de=k(A);T=Ne(de,"path",{d:!0}),k(T).forEach(d),de.forEach(d),fe.forEach(d),se.forEach(d),O=j(Z),F=$(Z,"IFRAME",{title:!0,src:!0,style:!0}),k(F).forEach(d),Z.forEach(d),z.forEach(d),Q.forEach(d),this.h()},h:function(){h(t,"class","absolute w-full h-full bg-gray-900 opacity-80"),v(t,ln,113,2,4261),h(s,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),v(s,ln,128,8,4793),h(r,"class","fill-current text-white"),h(r,"xmlns","http://www.w3.org/2000/svg"),h(r,"width","18"),h(r,"height","18"),h(r,"viewBox","0 0 18 18"),v(r,ln,121,6,4622),h(c,"class","text-sm"),v(c,ln,132,6,4958),h(n,"class","modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-sm"),v(n,ln,117,4,4473),h(g,"class","text-2xl font-bold"),v(g,ln,138,8,5204),h(T,"d","M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"),v(T,ln,148,12,5535),h(A,"class","fill-current text-black"),h(A,"xmlns","http://www.w3.org/2000/svg"),h(A,"width","18"),h(A,"height","18"),h(A,"viewBox","0 0 18 18"),v(A,ln,141,10,5336),h(P,"class","modal-close cursor-pointer z-50"),v(P,ln,140,8,5263),h(p,"class","flex justify-between items-center"),v(p,ln,137,6,5148),h(F,"title",i[1]),Yn(F.src,N=i[0])||h(F,"src",N),Je(F,"width","100%"),Je(F,"margin-top","1em"),Je(F,"border","2px white solid"),Je(F,"height","100%"),v(F,ln,154,6,5740),h(m,"class","modal-content py-4 text-left px-6 h-5/6"),v(m,ln,136,4,5088),h(o,"class","absolute border-2 w-11/12 mx-auto overflow-y-auto bg-gray-900 max-h-screen text-cyan-300 h-5/6"),v(o,ln,116,2,4358),h(e,"class",Y=`z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center ${i[3]===i[0]?"":"hidden"}`),v(e,ln,107,0,4085)},m:function(V,Q){S(V,e,Q),_(e,t),_(e,l),_(e,o),_(o,n),_(n,r),_(r,s),_(n,a),_(n,c),_(c,u),_(o,f),_(o,m),_(m,p),_(p,g),_(g,b),_(g,w),_(p,y),_(p,P),_(P,A),_(A,T),_(m,O),_(m,F),i[6](F),H||(M=[Ze(t,"click",i[4],!1,!1,!1),Ze(n,"click",i[4],!1,!1,!1),Ze(P,"click",i[4],!1,!1,!1)],H=!0)},p:function(V,[Q]){Q&2&&he(w,V[1]),Q&2&&h(F,"title",V[1]),Q&1&&!Yn(F.src,N=V[0])&&h(F,"src",N),Q&9&&Y!==(Y=`z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center ${V[3]===V[0]?"":"hidden"}`)&&h(e,"class",Y)},i:ae,o:ae,d:function(V){V&&d(e),i[6](null),H=!1,_n(M)}};return B("SvelteRegisterBlock",{block:W,id:Hr.name,type:"component",source:"",ctx:i}),W}function F1(i,e,t){let l,o;ve(zt,"account"),ke(i,zt,P=>t(9,l=P)),ve(Qn,"pluginShowing"),ke(i,Qn,P=>t(3,o=P));let{$$slots:n={},$$scope:r}=e;He("IFramePlugin",n,[]);let{src:s}=e,{title:a}=e,{pluginConfig:c}=e,u,f=!1;async function m(P){if(P.source===u.contentWindow){const A=P.data;let T;try{T=JSON.parse(A)}catch{console.error(P)}if(T){if(T.type==="init_acknowledged")f||(ps(s,u.contentWindow,c),f=!0);else if(T.type==="send_tx"){let O;try{O=await St.provider.getSigner().sendTransaction({to:T.to,data:T.data}),u.contentWindow.postMessage(JSON.stringify({type:"reply",id:T.id,result:O.hash}),s)}catch(F){console.error(F),u.contentWindow.postMessage(JSON.stringify({type:"reply",id:T.id,error:F}),s)}}else if(T.type==="planets_reset"){const O=T.reset;_s.update(F=>{for(const N of Object.keys(F))for(const Y of O.fields)delete F[N][Y];for(const N of O.planets){F[N.id]=F[N.id]||{};for(const Y of O.fields)F[N.id][Y]=N[Y]}return F})}else if(T.type==="send_flow"){const{abi:O,numSpaceships:F,location:N,pricePerUnit:Y,contractAddress:H,numSpaceshipsToKeep:M,numSpaceshipsAvailable:W,args:X,fleetSender:V,msgValue:Q}=T,z=be.getPlanetInfoViaId(T.location);b(),console.log({location:N,owner:l.ownerAddress}),Xe.sendFrom(z.location,{fleetOwner:l.ownerAddress,abi:O,contractAddress:H,numSpaceshipsToKeep:M,numSpaceshipsAvailable:W,numSpaceships:F,pricePerUnit:Y,args:X,fleetSender:V,msgValue:Q})}}}}let p=0;function g(){!f&&p<10&&(p++,u.contentWindow.postMessage(JSON.stringify({type:"init"}),s),setTimeout(g,300))}qt(()=>{f=!1,g(),window.addEventListener("message",m)}),Eo(()=>{console.log("sending stop"),ms(s),typeof window!="undefined"&&(window.removeEventListener("message",m),u.contentWindow.postMessage(JSON.stringify({type:"stop"}),s))});function b(){Qn.hide()}const w=["src","title","pluginConfig"];D1.keys(e).forEach(P=>{!~w.indexOf(P)&&P.slice(0,2)!=="$$"&&P!=="slot"&&Lo.warn(`<IFramePlugin> was created with unknown prop '${P}'`)});function y(P){zn[P?"unshift":"push"](()=>{u=P,t(2,u)})}return i.$$set=P=>{"src"in P&&t(0,s=P.src),"title"in P&&t(1,a=P.title),"pluginConfig"in P&&t(5,c=P.pluginConfig)},i.$capture_state=()=>({wallet:St,planetMetadata:_s,sendFlow:Xe,onDestroy:Eo,onMount:qt,pluginShowing:Qn,registerIframe:ps,unregisterIframe:ms,spaceInfo:be,account:zt,src:s,title:a,pluginConfig:c,iframe:u,acknowledged:f,onIFrameMessage:m,tryCount:p,initUntilAcknowledged:g,close:b,$account:l,$pluginShowing:o}),i.$inject_state=P=>{"src"in P&&t(0,s=P.src),"title"in P&&t(1,a=P.title),"pluginConfig"in P&&t(5,c=P.pluginConfig),"iframe"in P&&t(2,u=P.iframe),"acknowledged"in P&&(f=P.acknowledged),"tryCount"in P&&(p=P.tryCount)},e&&"$$inject"in e&&i.$inject_state(e.$$inject),[s,a,u,o,b,c,y]}class ah extends We{constructor(e){super(e);Ye(this,e,F1,Hr,ze,{src:0,title:1,pluginConfig:5}),B("SvelteRegisterComponent",{component:this,tagName:"IFramePlugin",options:e,id:Hr.name});const{ctx:t}=this.$$,l=e.props||{};t[0]===void 0&&!("src"in l)&&Lo.warn("<IFramePlugin> was created without expected prop 'src'"),t[1]===void 0&&!("title"in l)&&Lo.warn("<IFramePlugin> was created without expected prop 'title'"),t[5]===void 0&&!("pluginConfig"in l)&&Lo.warn("<IFramePlugin> was created without expected prop 'pluginConfig'")}get src(){throw new Error("<IFramePlugin>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set src(e){throw new Error("<IFramePlugin>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<IFramePlugin>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<IFramePlugin>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pluginConfig(){throw new Error("<IFramePlugin>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pluginConfig(e){throw new Error("<IFramePlugin>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function uh(i,e,t){const l=i.slice();return l[1]=e[t],l}function Xr(i){let e,t;e=new ah({props:{title:i[1].name,src:i[1].iframe,pluginConfig:i[1].config},$$inline:!0});const l={c:function(){U(e.$$.fragment)},l:function(n){G(e.$$.fragment,n)},m:function(n,r){K(e,n,r),t=!0},p:function(n,r){const s={};r&1&&(s.title=n[1].name),r&1&&(s.src=n[1].iframe),r&1&&(s.pluginConfig=n[1].config),e.$set(s)},i:function(n){t||(C(e.$$.fragment,n),t=!0)},o:function(n){D(e.$$.fragment,n),t=!1},d:function(n){q(e,n)}};return B("SvelteRegisterBlock",{block:l,id:Xr.name,type:"each",source:"(5:0) {#each $plugins as plugin}",ctx:i}),l}function Ur(i){let e,t,l=i[0];mt(l);let o=[];for(let s=0;s<l.length;s+=1)o[s]=Xr(uh(i,l,s));const n=s=>D(o[s],1,1,()=>{o[s]=null}),r={c:function(){for(let a=0;a<o.length;a+=1)o[a].c();e=pe()},l:function(a){for(let c=0;c<o.length;c+=1)o[c].l(a);e=pe()},m:function(a,c){for(let u=0;u<o.length;u+=1)o[u].m(a,c);S(a,e,c),t=!0},p:function(a,[c]){if(c&1){l=a[0],mt(l);let u;for(u=0;u<l.length;u+=1){const f=uh(a,l,u);o[u]?(o[u].p(f,c),C(o[u],1)):(o[u]=Xr(f),o[u].c(),C(o[u],1),o[u].m(e.parentNode,e))}for(Ee(),u=l.length;u<o.length;u+=1)n(u);$e()}},i:function(a){if(!t){for(let c=0;c<l.length;c+=1)C(o[c]);t=!0}},o:function(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);t=!1},d:function(a){Kt(o,a),a&&d(e)}};return B("SvelteRegisterBlock",{block:r,id:Ur.name,type:"component",source:"",ctx:i}),r}function N1(i,e,t){let l;ve(nl,"plugins"),ke(i,nl,s=>t(0,l=s));let{$$slots:o={},$$scope:n}=e;He("IFramePluginList",o,[]);const r=[];return Object.keys(e).forEach(s=>{!~r.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<IFramePluginList> was created with unknown prop '${s}'`)}),i.$capture_state=()=>({IFramePlugin:ah,plugins:nl,$plugins:l}),[l]}class fh extends We{constructor(e){super(e);Ye(this,e,N1,Ur,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"IFramePluginList",options:e,id:Ur.name})}}const Mn="src/routes/index.svelte";function dh(i){let e,t,l,o;e=new ch({$$inline:!0}),l=new zp({$$inline:!0});const n={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment)},l:function(s){G(e.$$.fragment,s),t=j(s),G(l.$$.fragment,s)},m:function(s,a){K(e,s,a),S(s,t,a),K(l,s,a),o=!0},i:function(s){o||(C(e.$$.fragment,s),C(l.$$.fragment,s),o=!0)},o:function(s){D(e.$$.fragment,s),D(l.$$.fragment,s),o=!1},d:function(s){q(e,s),s&&d(t),q(l,s)}};return B("SvelteRegisterBlock",{block:n,id:dh.name,type:"slot",source:"(52:0) <WalletAccess>",ctx:i}),n}function Gr(i){let e,t,l,o,n,r,s,a,c,u,f;const m={c:function(){e=E("div"),t=E("div"),l=E("img"),n=L(),r=E("p"),s=I("An unstoppable and open-ended game of strategy and diplomacy running on ethereum."),this.h()},l:function(g){e=$(g,"DIV",{class:!0});var b=k(e);t=$(b,"DIV",{class:!0});var w=k(t);l=$(w,"IMG",{class:!0,src:!0,alt:!0,style:!0}),n=j(w),r=$(w,"P",{class:!0});var y=k(r);s=R(y,"An unstoppable and open-ended game of strategy and diplomacy running on ethereum."),y.forEach(d),w.forEach(d),b.forEach(d),this.h()},h:function(){h(l,"class","mb-8 mx-auto max-w-md"),Yn(l.src,o="./conquest.png")||h(l,"src",o),h(l,"alt","conquest.eth"),Je(l,"width","80%"),v(l,Mn,59,6,2437),h(r,"class","m-6 mt-20 text-gray-500 text-2xl font-black"),v(r,Mn,66,6,2623),h(t,"class","justify-center mt-32 text-center"),v(t,Mn,58,4,2384),h(e,"class","fixed z-50 inset-0 overflow-y-auto bg-black"),v(e,Mn,57,2,2279)},m:function(g,b){S(g,e,b),_(e,t),_(t,l),_(t,n),_(t,r),_(r,s),c=!0,u||(f=[Ze(l,"load",i[1],!1,!1,!1),Ze(e,"click",i[2],!1,!1,!1)],u=!0)},p:ae,i:function(g){c||(a&&a.end(1),c=!0)},o:function(g){a=ss(e,zo,{}),c=!1},d:function(g){g&&d(e),g&&a&&a.end(),u=!1,_n(f)}};return B("SvelteRegisterBlock",{block:m,id:Gr.name,type:"if",source:"(57:0) {#if $logo && $logo.stage === 1}",ctx:i}),m}function Kr(i){let e,t,l,o,n,r,s=mh(i);const a={c:function(){e=E("div"),t=E("div"),s&&s.c(),this.h()},l:function(u){e=$(u,"DIV",{class:!0});var f=k(e);t=$(f,"DIV",{class:!0});var m=k(t);s&&s.l(m),m.forEach(d),f.forEach(d),this.h()},h:function(){h(t,"class","justify-center text-center h-full flex items-center"),v(t,Mn,75,4,2954),h(e,"class","fixed z-50 inset-0 overflow-y-auto bg-black h-full"),v(e,Mn,74,2,2842)},m:function(u,f){S(u,e,f),_(e,t),s&&s.m(t,null),o=!0,n||(r=Ze(e,"click",i[4],!1,!1,!1),n=!0)},p:function(u,f){s.p(u,f)},i:function(u){o||(l&&l.end(1),o=!0)},o:function(u){l=ss(e,zo,{}),o=!1},d:function(u){u&&d(e),s&&s.d(),u&&l&&l.end(),n=!1,r()}};return B("SvelteRegisterBlock",{block:a,id:Kr.name,type:"if",source:"(74:0) {#if $logo && $logo.stage === 0}",ctx:i}),a}function mh(i){let e,t,l,o;const n={c:function(){e=E("img"),this.h()},l:function(s){e=$(s,"IMG",{class:!0,src:!0,alt:!0,style:!0}),this.h()},h:function(){h(e,"class","mb-8 mx-auto max-w-xs"),Yn(e.src,t="./logo_with_text_on_black.png")||h(e,"src",t),h(e,"alt","etherplay.eth"),Je(e,"width","80%"),Je(e,"heigh","40%"),v(e,Mn,77,8,3048)},m:function(s,a){S(s,e,a),l||(o=Ze(e,"load",i[3],!1,!1,!1),l=!0)},p:ae,d:function(s){s&&d(e),l=!1,o()}};return B("SvelteRegisterBlock",{block:n,id:mh.name,type:"if",source:"(77:6) {#if browser}",ctx:i}),n}function qr(i){let e,t,l,o,n,r,s,a;e=new Es({$$inline:!0}),l=new as({props:{$$slots:{default:[dh]},$$scope:{ctx:i}},$$inline:!0});let c=i[0]&&i[0].stage===1&&Gr(i),u=i[0]&&i[0].stage===0&&Kr(i);s=new fh({$$inline:!0});const f={c:function(){U(e.$$.fragment),t=L(),U(l.$$.fragment),o=L(),c&&c.c(),n=L(),u&&u.c(),r=L(),U(s.$$.fragment)},l:function(p){G(e.$$.fragment,p),t=j(p),G(l.$$.fragment,p),o=j(p),c&&c.l(p),n=j(p),u&&u.l(p),r=j(p),G(s.$$.fragment,p)},m:function(p,g){K(e,p,g),S(p,t,g),K(l,p,g),S(p,o,g),c&&c.m(p,g),S(p,n,g),u&&u.m(p,g),S(p,r,g),K(s,p,g),a=!0},p:function(p,[g]){const b={};g&64&&(b.$$scope={dirty:g,ctx:p}),l.$set(b),p[0]&&p[0].stage===1?c?(c.p(p,g),g&1&&C(c,1)):(c=Gr(p),c.c(),C(c,1),c.m(n.parentNode,n)):c&&(Ee(),D(c,1,1,()=>{c=null}),$e()),p[0]&&p[0].stage===0?u?(u.p(p,g),g&1&&C(u,1)):(u=Kr(p),u.c(),C(u,1),u.m(r.parentNode,r)):u&&(Ee(),D(u,1,1,()=>{u=null}),$e())},i:function(p){a||(C(e.$$.fragment,p),C(l.$$.fragment,p),C(c),C(u),C(s.$$.fragment,p),a=!0)},o:function(p){D(e.$$.fragment,p),D(l.$$.fragment,p),D(c),D(u),D(s.$$.fragment,p),a=!1},d:function(p){q(e,p),p&&d(t),q(l,p),p&&d(o),c&&c.d(p),p&&d(n),u&&u.d(p),p&&d(r),q(s,p)}};return B("SvelteRegisterBlock",{block:f,id:qr.name,type:"component",source:"",ctx:i}),f}function L1(i,e,t){let l,o;ve(tl,"page"),ke(i,tl,m=>t(5,l=m)),ve(Fn,"logo"),ke(i,Fn,m=>t(0,o=m));let{$$slots:n={},$$scope:r}=e;He("Routes",n,[]),qt(()=>{let m=parseInt(l.url.searchParams.get("x")),p=parseInt(l.url.searchParams.get("y"));if(window.history.replaceState("",document.title,yn(window.location.search,window.location.hash?window.location.hash.slice(1):void 0)),!isNaN(m)&&!isNaN(p)){const g=be.getPlanetInfo(m,p);g&&(pt.select(m,p),xe.navigate(g.location.globalX,g.location.globalY,20))}});const s=[];Object.keys(e).forEach(m=>{!~s.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<Routes> was created with unknown prop '${m}'`)});const a=()=>Fn.gameLogoReady(),c=()=>Fn.nextStage(),u=()=>Fn.etherplayLogoReady(),f=()=>Fn.nextStage();return i.$capture_state=()=>({Storereader:Es,WalletAccess:as,MapScreen:zp,fade:zo,ClaimTokenScreen:ch,logo:Fn,onMount:qt,browser:Eh,camera:xe,page:tl,spaceInfo:be,selection:pt,url:yn,IFramePluginList:fh,$page:l,$logo:o}),[o,a,c,u,f]}class w0 extends We{constructor(e){super(e);Ye(this,e,L1,qr,ze,{}),B("SvelteRegisterComponent",{component:this,tagName:"Routes",options:e,id:qr.name})}}export{w0 as default};
//# sourceMappingURL=index.svelte-9064e9bd.js.map
