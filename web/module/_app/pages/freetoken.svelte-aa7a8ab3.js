import{S as de,i as pe,s as _e,d as T,O as z,P as H,v as be,a5 as Q,aY as te,af as J,Q as ke,e as g,z as U,n as D,c as w,f as F,A as V,q as L,g as p,j as B,h as b,k as v,B as Y,L as j,x as E,u as N,E as q,as as K,t as S,l as W,r as ve,w as he,at as P,M as X,T as $e}from"../chunks/vendor-e78c39f1.js";import{P as Z}from"../chunks/PanelButton-b24a8fdb.js";import{N as ne}from"../chunks/NavButton-b22b61c0.js";import{W as oe}from"../chunks/WalletAccess-ec429ef9.js";import{w as R,b as x}from"../chunks/wallet-c826be1b.js";import{b as se}from"../chunks/paths-28a87002.js";import{p as M}from"../chunks/privateWallet-7a0cfca0.js";import{i as ae}from"../chunks/contracts-69d01f63.js";import"../chunks/config-af7f3a10.js";import"../chunks/Modal-a8884379.js";const{console:ge}=ke,y="src/routes/freetoken.svelte";function le(c){let e;const t={c:function(){e=S("Back To Game")},l:function(a){e=W(a,"Back To Game")},m:function(a,l){v(a,e,l)},d:function(a){a&&p(e)}};return T("SvelteRegisterBlock",{block:t,id:le.name,type:"slot",source:'(44:2) <NavButton label=\\"Back To Game\\" href={`${base}/`}>',ctx:c}),t}function ie(c){let e,t,n,a,l,r,m,_,u,s,i,h,k,A,I,C;k=new Z({props:{class:"block w-max-content m-4",label:"send",$$slots:{default:[ue]},$$scope:{ctx:c}},$$inline:!0}),k.$on("click",c[11]);const O={c:function(){e=g("label"),t=S("address: "),n=g("input"),a=D(),l=g("label"),r=S("number of tokens: "),m=g("input"),_=D(),u=g("label"),s=S("number of xdai: "),i=g("input"),h=D(),U(k.$$.fragment),this.h()},l:function(o){e=w(o,"LABEL",{for:!0});var d=F(e);t=W(d,"address: "),d.forEach(p),n=w(o,"INPUT",{id:!0,class:!0}),a=L(o),l=w(o,"LABEL",{for:!0});var $=F(l);r=W($,"number of tokens: "),$.forEach(p),m=w(o,"INPUT",{id:!0,class:!0,type:!0,step:!0}),_=L(o),u=w(o,"LABEL",{for:!0});var G=F(u);s=W(G,"number of xdai: "),G.forEach(p),i=w(o,"INPUT",{id:!0,class:!0,type:!0,step:!0}),h=L(o),V(k.$$.fragment,o),this.h()},h:function(){b(e,"for","address"),B(e,y,58,8,2380),b(n,"id","address"),b(n,"class","bg-gray-600"),B(n,y,58,46,2418),b(l,"for","amount"),B(l,y,60,8,2491),b(m,"id","amount"),b(m,"class","bg-gray-700"),b(m,"type","number"),b(m,"step","0.1"),B(m,y,60,54,2537),b(u,"for","nativeTokenAmount"),B(u,y,68,8,2691),b(i,"id","nativeTokenAmount"),b(i,"class","bg-gray-700"),b(i,"type","number"),b(i,"step","0.1"),B(i,y,68,63,2746)},m:function(o,d){v(o,e,d),j(e,t),v(o,n,d),P(n,c[2]),v(o,a,d),v(o,l,d),j(l,r),v(o,m,d),P(m,c[0]),v(o,_,d),v(o,u,d),j(u,s),v(o,i,d),P(i,c[1]),v(o,h,d),Y(k,o,d),A=!0,I||(C=[X(n,"input",c[8]),X(m,"input",c[9]),X(i,"input",c[10])],I=!0)},p:function(o,d){d&4&&n.value!==o[2]&&P(n,o[2]),d&1&&K(m.value)!==o[0]&&P(m,o[0]),d&2&&K(i.value)!==o[1]&&P(i,o[1]);const $={};d&4096&&($.$$scope={dirty:d,ctx:o}),k.$set($)},i:function(o){A||(E(k.$$.fragment,o),A=!0)},o:function(o){N(k.$$.fragment,o),A=!1},d:function(o){o&&p(e),o&&p(n),o&&p(a),o&&p(l),o&&p(m),o&&p(_),o&&p(u),o&&p(i),o&&p(h),q(k,o),I=!1,$e(C)}};return T("SvelteRegisterBlock",{block:O,id:ie.name,type:"else",source:"(58:6) {:else}",ctx:c}),O}function ce(c){let e,t;e=new Z({props:{class:"w-max-content m-4",label:"connect",disabled:!c[4].available||c[5].connecting,$$slots:{default:[re]},$$scope:{ctx:c}},$$inline:!0}),e.$on("click",c[7]);const n={c:function(){U(e.$$.fragment)},l:function(l){V(e.$$.fragment,l)},m:function(l,r){Y(e,l,r),t=!0},p:function(l,r){const m={};r&48&&(m.disabled=!l[4].available||l[5].connecting),r&4096&&(m.$$scope={dirty:r,ctx:l}),e.$set(m)},i:function(l){t||(E(e.$$.fragment,l),t=!0)},o:function(l){N(e.$$.fragment,l),t=!1},d:function(l){q(e,l)}};return T("SvelteRegisterBlock",{block:n,id:ce.name,type:"if",source:"(49:6) {#if $privateWallet.step !== 'READY'}",ctx:c}),n}function ue(c){let e;const t={c:function(){e=S("Send")},l:function(a){e=W(a,"Send")},m:function(a,l){v(a,e,l)},d:function(a){a&&p(e)}};return T("SvelteRegisterBlock",{block:t,id:ue.name,type:"slot",source:'(76:8) <Button class=\\"block w-max-content m-4\\" label=\\"send\\" on:click={() => sendFreeTokens()}>',ctx:c}),t}function re(c){let e;const t={c:function(){e=S("Connect")},l:function(a){e=W(a,"Connect")},m:function(a,l){v(a,e,l)},d:function(a){a&&p(e)}};return T("SvelteRegisterBlock",{block:t,id:re.name,type:"slot",source:'(50:8) <Button           class=\\"w-max-content m-4\\"           label=\\"connect\\"           disabled={!$builtin.available || $wallet.connecting}           on:click={() => privateWallet.login()}         >',ctx:c}),t}function fe(c){let e,t,n,a;const l=[ce,ie],r=[];function m(u,s){return u[3].step!=="READY"?0:1}t=m(c),n=r[t]=l[t](c);const _={c:function(){e=g("div"),n.c(),this.h()},l:function(s){e=w(s,"DIV",{class:!0});var i=F(e);n.l(i),i.forEach(p),this.h()},h:function(){b(e,"class","text-cyan-300 text-center"),B(e,y,47,4,2038)},m:function(s,i){v(s,e,i),r[t].m(e,null),a=!0},p:function(s,i){let h=t;t=m(s),t===h?r[t].p(s,i):(ve(),N(r[h],1,1,()=>{r[h]=null}),he(),n=r[t],n?n.p(s,i):(n=r[t]=l[t](s),n.c()),E(n,1),n.m(e,null))},i:function(s){a||(E(n),a=!0)},o:function(s){N(n),a=!1},d:function(s){s&&p(e),r[t].d()}};return T("SvelteRegisterBlock",{block:_,id:fe.name,type:"slot",source:"(47:2) <WalletAccess>",ctx:c}),_}function ee(c){let e,t,n,a,l,r,m;t=new ne({props:{label:"Back To Game",href:`${se}/`,$$slots:{default:[le]},$$scope:{ctx:c}},$$inline:!0}),r=new oe({props:{$$slots:{default:[fe]},$$scope:{ctx:c}},$$inline:!0});const _={c:function(){e=g("div"),U(t.$$.fragment),n=D(),a=g("br"),l=D(),U(r.$$.fragment),this.h()},l:function(s){e=w(s,"DIV",{class:!0});var i=F(e);V(t.$$.fragment,i),n=L(i),a=w(i,"BR",{}),l=L(i),V(r.$$.fragment,i),i.forEach(p),this.h()},h:function(){B(a,y,45,2,2010),b(e,"class","w-full h-full bg-black"),B(e,y,42,0,1893)},m:function(s,i){v(s,e,i),Y(t,e,null),j(e,n),j(e,a),j(e,l),Y(r,e,null),m=!0},p:function(s,[i]){const h={};i&4096&&(h.$$scope={dirty:i,ctx:s}),t.$set(h);const k={};i&4159&&(k.$$scope={dirty:i,ctx:s}),r.$set(k)},i:function(s){m||(E(t.$$.fragment,s),E(r.$$.fragment,s),m=!0)},o:function(s){N(t.$$.fragment,s),N(r.$$.fragment,s),m=!1},d:function(s){s&&p(e),q(t),q(r)}};return T("SvelteRegisterBlock",{block:_,id:ee.name,type:"component",source:"",ctx:c}),_}function we(c,e,t){let n,a,l;z(M,"privateWallet"),H(c,M,f=>t(3,n=f)),z(x,"builtin"),H(c,x,f=>t(4,a=f)),z(R,"wallet"),H(c,R,f=>t(5,l=f));let{$$slots:r={},$$scope:m}=e;be("Freetoken",r,[]);let _=25,u=2,s;async function i(){if(R.address&&R.contracts){const f=Q.from(u*10).mul("100000000000000000"),o=Q.from(_*10).mul("100000000000000000");let d=s,$;if(s.startsWith("http")){const me=s.indexOf("#tokenClaim=");$=s.slice(me+12),d=new J($).address}else s.length>42&&($=s,d=new J(s).address);console.log({address:d,privateKey:$});const G=o.mul(te("1")).div(ae.contracts.PlayToken.linkedData.numTokensPerNativeTokenAt18Decimals);await R.contracts.FreePlayToken.mintViaNativeTokenPlusSendExtraNativeTokens(d,o,{value:G.add(f)})}else throw new Error(" not wallet or contracts")}const h=[];Object.keys(e).forEach(f=>{!~h.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&ge.warn(`<Freetoken> was created with unknown prop '${f}'`)});const k=()=>M.login();function A(){s=this.value,t(2,s)}function I(){_=K(this.value),t(0,_)}function C(){u=K(this.value),t(1,u)}const O=()=>i();return c.$capture_state=()=>({Button:Z,NavButton:ne,WalletAccess:oe,wallet:R,builtin:x,base:se,privateWallet:M,BigNumber:Q,parseEther:te,contractsInfos:ae,Wallet:J,amount:_,nativeTokenAmount:u,address:s,sendFreeTokens:i,$privateWallet:n,$builtin:a,$wallet:l}),c.$inject_state=f=>{"amount"in f&&t(0,_=f.amount),"nativeTokenAmount"in f&&t(1,u=f.nativeTokenAmount),"address"in f&&t(2,s=f.address)},e&&"$$inject"in e&&c.$inject_state(e.$$inject),[_,u,s,n,a,l,i,k,A,I,C,O]}class Re extends de{constructor(e){super(e);pe(this,e,we,ee,_e,{}),T("SvelteRegisterComponent",{component:this,tagName:"Freetoken",options:e,id:ee.name})}}export{Re as default};
//# sourceMappingURL=freetoken.svelte-aa7a8ab3.js.map
