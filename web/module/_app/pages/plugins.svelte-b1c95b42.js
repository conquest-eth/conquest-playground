import{S as J,i as K,s as X,d as I,ag as M,O as Y,P as Z,v as tt,Q as et,e as w,t as S,n as $,c as N,f as L,l as A,g as v,q as G,j as P,k as R,L as h,M as q,m as nt,z as st,A as at,h as C,B as ot,at as Q,x as lt,u as it,E as ct,ai as ut,T as rt,U as V}from"../chunks/vendor-e78c39f1.js";import{b as W}from"../chunks/paths-28a87002.js";import{N as x}from"../chunks/NavButton-b22b61c0.js";import{s as U}from"../chunks/plugins-94e9a3e2.js";import"../chunks/contracts-69d01f63.js";const{console:ft}=et,E="src/routes/plugins.svelte";function F(a,t,s){const i=a.slice();return i[6]=t[s],i}function H(a){let t;const s={c:function(){t=S("Back To Game")},l:function(n){t=A(n,"Back To Game")},m:function(n,f){R(n,t,f)},d:function(n){n&&v(t)}};return I("SvelteRegisterBlock",{block:s,id:H.name,type:"slot",source:'(33:2) <NavButton label=\\"Back To Game\\" href={`${base}/`}>',ctx:a}),s}function D(a){let t,s=a[6].name+"",i,n,f,B,o,b;const d={c:function(){t=w("p"),i=S(s),n=$(),f=w("button"),B=S("remove"),this.h()},l:function(u){t=N(u,"P",{});var e=L(t);i=A(e,s),e.forEach(v),n=G(u),f=N(u,"BUTTON",{});var T=L(f);B=A(T,"remove"),T.forEach(v),this.h()},h:function(){P(t,E,38,4,1233),P(f,E,39,4,1258)},m:function(u,e){R(u,t,e),h(t,i),R(u,n,e),R(u,f,e),h(f,B),o||(b=q(f,"click",a[5],!1,!1,!1),o=!0)},p:function(u,e){e&4&&s!==(s=u[6].name+"")&&nt(i,s)},d:function(u){u&&v(t),u&&v(n),u&&v(f),o=!1,b()}};return I("SvelteRegisterBlock",{block:d,id:D.name,type:"each",source:"(38:2) {#each pluginList as plugin}",ctx:a}),d}function z(a){let t,s,i,n,f,B,o,b,d,p,u,e,T,g;s=new x({props:{label:"Back To Game",href:`${W}/`,$$slots:{default:[H]},$$scope:{ctx:a}},$$inline:!0});let k=a[2];M(k);let l=[];for(let _=0;_<k.length;_+=1)l[_]=D(F(a,k,_));const O={c:function(){t=w("div"),st(s.$$.fragment),i=$(),n=w("p"),f=S("plugin json url:"),B=$(),o=w("input"),b=$(),d=w("button"),p=S("submit"),u=$();for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l:function(c){t=N(c,"DIV",{class:!0});var r=L(t);at(s.$$.fragment,r),i=G(r),n=N(r,"P",{});var j=L(n);f=A(j,"plugin json url:"),j.forEach(v),B=G(r),o=N(r,"INPUT",{class:!0,type:!0}),b=G(r),d=N(r,"BUTTON",{});var m=L(d);p=A(m,"submit"),m.forEach(v),u=G(r);for(let y=0;y<l.length;y+=1)l[y].l(r);r.forEach(v),this.h()},h:function(){P(n,E,33,2,1061),C(o,"class","text-black"),C(o,"type","text"),P(o,E,34,2,1087),P(d,E,35,2,1155),C(t,"class","w-full h-full bg-black"),P(t,E,31,0,945)},m:function(c,r){R(c,t,r),ot(s,t,null),h(t,i),h(t,n),h(n,f),h(t,B),h(t,o),Q(o,a[1]),h(t,b),h(t,d),h(d,p),h(t,u);for(let j=0;j<l.length;j+=1)l[j].m(t,null);e=!0,T||(g=[q(o,"input",a[4]),q(d,"click",a[3],!1,!1,!1)],T=!0)},p:function(c,[r]){const j={};if(r&512&&(j.$$scope={dirty:r,ctx:c}),s.$set(j),r&2&&o.value!==c[1]&&Q(o,c[1]),r&5){k=c[2],M(k);let m;for(m=0;m<k.length;m+=1){const y=F(c,k,m);l[m]?l[m].p(y,r):(l[m]=D(y),l[m].c(),l[m].m(t,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=k.length}},i:function(c){e||(lt(s.$$.fragment,c),e=!0)},o:function(c){it(s.$$.fragment,c),e=!1},d:function(c){c&&v(t),ct(s),ut(l,c),T=!1,rt(g)}};return I("SvelteRegisterBlock",{block:O,id:z.name,type:"component",source:"",ctx:a}),O}function mt(a,t,s){let i,n;Y(U,"plugins"),Z(a,U,e=>s(0,n=e));let{$$slots:f={},$$scope:B}=t;tt("Plugins",f,[]);let o;async function b(){if(!o)return;const e=o,g=await(await fetch(e)).json();if(g.name&&!n.find(l=>l.name===g.name)){if(g.iframe.startsWith(".")){const l=e.lastIndexOf("/");let O=e;l>=0&&(O=e.substring(0,l)),g.iframe=O+g.iframe.substring(1)}console.log(g),V(U,n=n.concat(g),n)}}const d=[];Object.keys(t).forEach(e=>{!~d.indexOf(e)&&e.slice(0,2)!=="$$"&&e!=="slot"&&ft.warn(`<Plugins> was created with unknown prop '${e}'`)});function p(){o=this.value,s(1,o)}const u=()=>V(U,n=n.filter(e=>!e.name),n);return a.$capture_state=()=>({base:W,NavButton:x,plugins:U,pluginToAdd:o,submit:b,pluginList:i,$plugins:n}),a.$inject_state=e=>{"pluginToAdd"in e&&s(1,o=e.pluginToAdd),"pluginList"in e&&s(2,i=e.pluginList)},t&&"$$inject"in t&&a.$inject_state(t.$$inject),a.$$.update=()=>{a.$$.dirty&1&&s(2,i=n)},[n,o,i,b,p,u]}class vt extends J{constructor(t){super(t);K(this,t,mt,z,X,{}),I("SvelteRegisterComponent",{component:this,tagName:"Plugins",options:t,id:z.name})}}export{vt as default};
//# sourceMappingURL=plugins.svelte-b1c95b42.js.map
